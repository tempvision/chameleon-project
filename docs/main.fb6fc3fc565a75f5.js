"use strict";var t2=Object.defineProperty,n2=Object.defineProperties,r2=Object.getOwnPropertyDescriptors,sR=Object.getOwnPropertySymbols,s2=Object.prototype.hasOwnProperty,o2=Object.prototype.propertyIsEnumerable,oR=(Ye,ye,F)=>ye in Ye?t2(Ye,ye,{enumerable:!0,configurable:!0,writable:!0,value:F}):Ye[ye]=F,aR=(Ye,ye)=>{for(var F in ye||(ye={}))s2.call(ye,F)&&oR(Ye,F,ye[F]);if(sR)for(var F of sR(ye))o2.call(ye,F)&&oR(Ye,F,ye[F]);return Ye},lR=(Ye,ye)=>n2(Ye,r2(ye));(self.webpackChunkchameleon=self.webpackChunkchameleon||[]).push([[179],{2011:(Ye,ye,F)=>{F.d(ye,{Dh:()=>ce,GT:()=>fe,cc:()=>xe,hO:()=>Fe,on:()=>j,pX:()=>ae,xv:()=>de});var c=F(5e3),J=F(9260),P=F(2122);Ye=F.hmd(Ye);const le=["ngOnDestroy"],ae=(we,Ue,ze,Te={})=>new Proxy(we,{get:(ge,De)=>ze.runOutsideAngular(()=>{var Pe;if(we[De])return(null===(Pe=null==Te?void 0:Te.spy)||void 0===Pe?void 0:Pe.get)&&Te.spy.get(De,we[De]),we[De];if(le.indexOf(De)>-1)return()=>{};const Le=Ue.toPromise().then(z=>{const ve=z&&z[De];return"function"==typeof ve?ve.bind(z):ve&&ve.then?ve.then(Y=>ze.run(()=>Y)):ze.run(()=>ve)});return new Proxy(()=>{},{get:(z,ve)=>Le[ve],apply:(z,ve,Y)=>Le.then(se=>{var ee;const me=se&&se(...Y);return(null===(ee=null==Te?void 0:Te.spy)||void 0===ee?void 0:ee.apply)&&Te.spy.apply(De,Y,me),me})})})}),fe=(we,Ue)=>{Ue.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Te=>{Object.defineProperty(we.prototype,Te,Object.getOwnPropertyDescriptor(ze.prototype||ze,Te))})})};class ne{constructor(Ue){return Ue}}const ce=new c.OlP("angularfire2.app.options"),de=new c.OlP("angularfire2.app.name");function j(we,Ue,ze){const ge="object"==typeof ze&&ze||{};ge.name=ge.name||"string"==typeof ze&&ze||"[DEFAULT]";const Pe=J.Z.apps.filter(Le=>Le&&Le.name===ge.name)[0]||Ue.runOutsideAngular(()=>J.Z.initializeApp(we,ge));try{JSON.stringify(we)!==JSON.stringify(Pe.options)&&G("error",`${Pe.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Le){}return new ne(Pe)}const G=(we,...Ue)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...Ue)},te={provide:ne,useFactory:j,deps:[ce,c.R0b,[new c.FiY,de]]};let Fe=(()=>{class we{constructor(ze){J.Z.registerVersion("angularfire",P.q4.full,"core"),J.Z.registerVersion("angularfire",P.q4.full,"app-compat"),J.Z.registerVersion("angular",c.q4F.full,ze.toString())}static initializeApp(ze,Te){return{ngModule:we,providers:[{provide:ce,useValue:ze},{provide:de,useValue:Te}]}}}return we.\u0275fac=function(ze){return new(ze||we)(c.LFG(c.Lbi))},we.\u0275mod=c.oAB({type:we}),we.\u0275inj=c.cJS({providers:[te]}),we})();function xe(we,Ue,ze,Te,ge){const[,De,Pe]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===we)||[];if(De)return function Me(we,Ue){try{return we.toString()===Ue.toString()}catch(ze){return we===Ue}}(ge,Pe)||(he("error",`${Ue} was already initialized on the ${ze} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:ge,was:Pe})),De;{const Le=Te();return globalThis.\u0275AngularfireInstanceCache.push([we,Le,ge]),Le}}const Ne=!!Ye.hot,he=(we,...Ue)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Ye,ye,F)=>{F.d(ye,{q4:()=>Rt,iC:()=>Sl,HU:()=>Vf,vb:()=>Ju,JM:()=>xl});var c=F(5e3),J=F(259),P=F(5861),le=F(9681),ae=F(2090),fe=F(4859),ne=F(1877),ce=F(8766);const de="@firebase/installations",j="0.6.0",te=`w:${j}`,Fe="FIS_v2",Ue=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ze(w){return w instanceof ae.ZR&&w.code.includes("request-failed")}function Te({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function ge(w){return{token:w.token,requestStatus:2,expiresIn:se(w.expiresIn),creationTime:Date.now()}}function De(w,x){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,P.Z)(function*(w,x){const B=(yield x.json()).error;return Ue.create("request-failed",{requestName:w,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Le({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function z(w,{refreshToken:x}){const M=Le(w);return M.append("Authorization",function ee(w){return`${Fe} ${w}`}(x)),M}function ve(w){return Y.apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(w){const x=yield w();return x.status>=500&&x.status<600?w():x})).apply(this,arguments)}function se(w){return Number(w.replace("s","000"))}function me(w,x){return ue.apply(this,arguments)}function ue(){return(ue=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:x},{fid:M}){const B=Te(w),Q=Le(w),re=x.getImmediate({optional:!0});if(re){const et=yield re.getHeartbeatsHeader();et&&Q.append("x-firebase-client",et)}const Ze={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:Fe,appId:w.appId,sdkVersion:te})},Xe=yield ve(()=>fetch(B,Ze));if(Xe.ok){const et=yield Xe.json();return{fid:et.fid||M,registrationStatus:2,refreshToken:et.refreshToken,authToken:ge(et.authToken)}}throw yield De("Create Installation",Xe)})).apply(this,arguments)}function Re(w){return new Promise(x=>{setTimeout(x,w)})}const Ht=/^[cdef][\w-]{21}$/;function Ge(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function Wt(w){return function nt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Ht.test(M)?M:""}catch(w){return""}}function ln(w){return`${w.appName}!${w.appId}`}const Zt=new Map;function $t(w,x){const M=ln(w);Ot(M,x),function ki(w,x){const M=function pi(){return!wr&&"BroadcastChannel"in self&&(wr=new BroadcastChannel("[Firebase] FID Change"),wr.onmessage=w=>{Ot(w.data.key,w.data.fid)}),wr}();M&&M.postMessage({key:w,fid:x}),function gi(){0===Zt.size&&wr&&(wr.close(),wr=null)}()}(M,x)}function Ot(w,x){const M=Zt.get(w);if(M)for(const B of M)B(x)}let wr=null;const Fi="firebase-installations-store";let ar=null;function ut(){return ar||(ar=(0,ce.X3)("firebase-installations-database",1,{upgrade:(w,x)=>{0===x&&w.createObjectStore(Fi)}})),ar}function mi(w,x){return gn.apply(this,arguments)}function gn(){return(gn=(0,P.Z)(function*(w,x){const M=ln(w),Q=(yield ut()).transaction(Fi,"readwrite"),re=Q.objectStore(Fi),Se=yield re.get(M);return yield re.put(x,M),yield Q.done,(!Se||Se.fid!==x.fid)&&$t(w,x.fid),x})).apply(this,arguments)}function Gn(w){return hs.apply(this,arguments)}function hs(){return(hs=(0,P.Z)(function*(w){const x=ln(w),B=(yield ut()).transaction(Fi,"readwrite");yield B.objectStore(Fi).delete(x),yield B.done})).apply(this,arguments)}function Dr(w,x){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,P.Z)(function*(w,x){const M=ln(w),Q=(yield ut()).transaction(Fi,"readwrite"),re=Q.objectStore(Fi),Se=yield re.get(M),Ze=x(Se);return void 0===Ze?yield re.delete(M):yield re.put(Ze,M),yield Q.done,Ze&&(!Se||Se.fid!==Ze.fid)&&$t(w,Ze.fid),Ze})).apply(this,arguments)}function En(w){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,P.Z)(function*(w){let x;const M=yield Dr(w.appConfig,B=>{const Q=Ws(B),re=Ut(w,Q);return x=re.registrationPromise,re.installationEntry});return""===M.fid?{installationEntry:yield x}:{installationEntry:M,registrationPromise:x}})).apply(this,arguments)}function Ws(w){return fs(w||{fid:Ge(),registrationStatus:0})}function Ut(w,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Ue.create("app-offline"))};const M={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},B=function tt(w,x){return dt.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:B}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:ii(w)}:{installationEntry:x}}function dt(){return(dt=(0,P.Z)(function*(w,x){try{const M=yield me(w,x);return mi(w.appConfig,M)}catch(M){throw ze(M)&&409===M.customData.serverCode?yield Gn(w.appConfig):yield mi(w.appConfig,{fid:x.fid,registrationStatus:0}),M}})).apply(this,arguments)}function ii(w){return ri.apply(this,arguments)}function ri(){return(ri=(0,P.Z)(function*(w){let x=yield Bt(w.appConfig);for(;1===x.registrationStatus;)yield Re(100),x=yield Bt(w.appConfig);if(0===x.registrationStatus){const{installationEntry:M,registrationPromise:B}=yield En(w);return B||M}return x})).apply(this,arguments)}function Bt(w){return Dr(w,x=>{if(!x)throw Ue.create("installation-not-found");return fs(x)})}function fs(w){return function si(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function oi(w,x){return st.apply(this,arguments)}function st(){return(st=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:x},M){const B=Ys(w,M),Q=z(w,M),re=x.getImmediate({optional:!0});if(re){const et=yield re.getHeartbeatsHeader();et&&Q.append("x-firebase-client",et)}const Ze={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:te,appId:w.appId}})},Xe=yield ve(()=>fetch(B,Ze));if(Xe.ok)return ge(yield Xe.json());throw yield De("Generate Auth Token",Xe)})).apply(this,arguments)}function Ys(w,{fid:x}){return`${Te(w)}/${x}/authTokens:generate`}function Mt(w){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,P.Z)(function*(w,x=!1){let M;const B=yield Dr(w.appConfig,re=>{if(!kt(re))throw Ue.create("not-registered");const Se=re.authToken;if(!x&&H(Se))return re;if(1===Se.requestStatus)return M=We(w,x),re;{if(!navigator.onLine)throw Ue.create("app-offline");const Ze=q(re);return M=vt(w,Ze),Ze}});return M?yield M:B.authToken})).apply(this,arguments)}function We(w,x){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(w,x){let M=yield He(w.appConfig);for(;1===M.authToken.requestStatus;)yield Re(100),M=yield He(w.appConfig);const B=M.authToken;return 0===B.requestStatus?Mt(w,x):B})).apply(this,arguments)}function He(w){return Dr(w,x=>{if(!kt(x))throw Ue.create("not-registered");return function be(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function vt(w,x){return _t.apply(this,arguments)}function _t(){return(_t=(0,P.Z)(function*(w,x){try{const M=yield oi(w,x),B=Object.assign(Object.assign({},x),{authToken:M});return yield mi(w.appConfig,B),M}catch(M){if(!ze(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const B=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield mi(w.appConfig,B)}else yield Gn(w.appConfig);throw M}})).apply(this,arguments)}function kt(w){return void 0!==w&&2===w.registrationStatus}function H(w){return 2===w.requestStatus&&!function U(w){const x=Date.now();return x<w.creationTime||w.creationTime+w.expiresIn<x+36e5}(w)}function q(w){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:x})}function qe(){return(qe=(0,P.Z)(function*(w){const x=w,{installationEntry:M,registrationPromise:B}=yield En(x);return B?B.catch(console.error):Mt(x).catch(console.error),M.fid})).apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(w,x=!1){const M=w;return yield jt(M),(yield Mt(M,x)).token})).apply(this,arguments)}function jt(w){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,P.Z)(function*(w){const{registrationPromise:x}=yield En(w);x&&(yield x)})).apply(this,arguments)}function To(w){return Ue.create("missing-app-config-values",{valueName:w})}const Pi="installations",rt=w=>{const x=w.getProvider("app").getImmediate(),M=function Qn(w){if(!w||!w.options)throw To("App Configuration");if(!w.name)throw To("App Name");const x=["projectId","apiKey","appId"];for(const M of x)if(!w.options[M])throw To(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(x);return{app:x,appConfig:M,heartbeatServiceProvider:(0,le._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Jt=w=>{const x=w.getProvider("app").getImmediate(),M=(0,le._getProvider)(x,Pi).getImmediate();return{getId:()=>function oe(w){return qe.apply(this,arguments)}(M),getToken:Q=>function Ct(w){return Xt.apply(this,arguments)}(M,Q)}};(function _i(){(0,le._registerComponent)(new fe.wA(Pi,rt,"PUBLIC")),(0,le._registerComponent)(new fe.wA("installations-internal",Jt,"PRIVATE"))})(),(0,le.registerVersion)(de,j),(0,le.registerVersion)(de,j,"esm2017");const xr="@firebase/remote-config",Dn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class If{constructor(x,M,B,Q){this.client=x,this.storage=M,this.storageCache=B,this.logger=Q}isCachedDataFresh(x,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-M,Q=B<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${Q}.`),Q}fetch(x){var M=this;return(0,P.Z)(function*(){const[B,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(x.cacheMaxAgeMillis,B))return Q;x.eTag=Q&&Q.eTag;const re=yield M.client.fetch(x),Se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Se.push(M.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Se),re})()}}function Du(w=navigator){return w.languages&&w.languages[0]||w.language}class ai{constructor(x,M,B,Q,re,Se){this.firebaseInstallations=x,this.sdkVersion=M,this.namespace=B,this.projectId=Q,this.apiKey=re,this.appId=Se}fetch(x){var M=this;return(0,P.Z)(function*(){const[B,Q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Xe={sdk_version:M.sdkVersion,app_instance_id:B,app_instance_id_token:Q,app_id:M.appId,language_code:Du()},et={method:"POST",headers:Ze,body:JSON.stringify(Xe)},Dt=fetch(Se,et),ot=new Promise((Ai,Vr)=>{x.signal.addEventListener(()=>{const Ml=new Error("The operation was aborted.");Ml.name="AbortError",Vr(Ml)})});let ui;try{yield Promise.race([Dt,ot]),ui=yield Dt}catch(Ai){let Vr="fetch-client-network";throw"AbortError"===(null==Ai?void 0:Ai.name)&&(Vr="fetch-timeout"),Dn.create(Vr,{originalErrorMessage:null==Ai?void 0:Ai.message})}let fn=ui.status;const Ts=ui.headers.get("ETag")||void 0;let qo,is;if(200===ui.status){let Ai;try{Ai=yield ui.json()}catch(Vr){throw Dn.create("fetch-client-parse",{originalErrorMessage:null==Vr?void 0:Vr.message})}qo=Ai.entries,is=Ai.state}if("INSTANCE_STATE_UNSPECIFIED"===is?fn=500:"NO_CHANGE"===is?fn=304:("NO_TEMPLATE"===is||"EMPTY_CONFIG"===is)&&(qo={}),304!==fn&&200!==fn)throw Dn.create("fetch-status",{httpStatus:fn});return{status:fn,eTag:Ts,config:qo}})()}}class Tf{constructor(x,M){this.client=x,this.storage=M}fetch(x){var M=this;return(0,P.Z)(function*(){const B=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(x,B)})()}attemptFetch(x,{throttleEndTimeMillis:M,backoffCount:B}){var Q=this;return(0,P.Z)(function*(){yield function _s(w,x){return new Promise((M,B)=>{const Q=Math.max(x-Date.now(),0),re=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(re),B(Dn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,M);try{const re=yield Q.client.fetch(x);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function xu(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const x=Number(w.customData.httpStatus);return 429===x||500===x||503===x||504===x}(re))throw re;const Se={throttleEndTimeMillis:Date.now()+(0,ae.$s)(B),backoffCount:B+1};return yield Q.storage.setThrottleMetadata(Se),Q.attemptFetch(x,Se)}})()}}class Au{constructor(x,M,B,Q,re){this.app=x,this._client=M,this._storageCache=B,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cc(w,x){const M=w.target.error||void 0;return Dn.create(x,{originalErrorMessage:M&&(null==M?void 0:M.message)})}const ys="app_namespace_store";class kf{constructor(x,M,B,Q=function Of(){return new Promise((w,x)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=B=>{x(cc(B,"storage-open"))},M.onsuccess=B=>{w(B.target.result)},M.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(ys,{keyPath:"compositeKey"})}}catch(M){x(Dn.create("storage-open",{originalErrorMessage:null==M?void 0:M.message}))}})}()){this.appId=x,this.appName=M,this.namespace=B,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var M=this;return(0,P.Z)(function*(){const B=yield M.openDbPromise;return new Promise((Q,re)=>{const Ze=B.transaction([ys],"readonly").objectStore(ys),Xe=M.createCompositeKey(x);try{const et=Ze.get(Xe);et.onerror=Dt=>{re(cc(Dt,"storage-get"))},et.onsuccess=Dt=>{const ot=Dt.target.result;Q(ot?ot.value:void 0)}}catch(et){re(Dn.create("storage-get",{originalErrorMessage:null==et?void 0:et.message}))}})})()}set(x,M){var B=this;return(0,P.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((re,Se)=>{const Xe=Q.transaction([ys],"readwrite").objectStore(ys),et=B.createCompositeKey(x);try{const Dt=Xe.put({compositeKey:et,value:M});Dt.onerror=ot=>{Se(cc(ot,"storage-set"))},Dt.onsuccess=()=>{re()}}catch(Dt){Se(Dn.create("storage-set",{originalErrorMessage:null==Dt?void 0:Dt.message}))}})})()}delete(x){var M=this;return(0,P.Z)(function*(){const B=yield M.openDbPromise;return new Promise((Q,re)=>{const Ze=B.transaction([ys],"readwrite").objectStore(ys),Xe=M.createCompositeKey(x);try{const et=Ze.delete(Xe);et.onerror=Dt=>{re(cc(Dt,"storage-delete"))},et.onsuccess=()=>{Q()}}catch(et){re(Dn.create("storage-delete",{originalErrorMessage:null==et?void 0:et.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Iu{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,P.Z)(function*(){const M=x.storage.getLastFetchStatus(),B=x.storage.getLastSuccessfulFetchTimestampMillis(),Q=x.storage.getActiveConfig(),re=yield M;re&&(x.lastFetchStatus=re);const Se=yield B;Se&&(x.lastSuccessfulFetchTimestampMillis=Se);const Ze=yield Q;Ze&&(x.activeConfig=Ze)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function ul(){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,P.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(w){return!1}})).apply(this,arguments)}!function Mo(){(0,le._registerComponent)(new fe.wA("remote-config",function w(x,{instanceIdentifier:M}){const B=x.getProvider("app").getImmediate(),Q=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Dn.create("registration-window");if(!(0,ae.hl)())throw Dn.create("indexed-db-unavailable");const{projectId:re,apiKey:Se,appId:Ze}=B.options;if(!re)throw Dn.create("registration-project-id");if(!Se)throw Dn.create("registration-api-key");if(!Ze)throw Dn.create("registration-app-id");const Xe=new kf(Ze,B.name,M=M||"firebase"),et=new Iu(Xe),Dt=new ne.Yd(xr);Dt.logLevel=ne.in.ERROR;const ot=new ai(Q,le.SDK_VERSION,M,re,Se,Ze),ui=new Tf(ot,Xe),fn=new If(ui,Xe,et,Dt),Ts=new Au(B,fn,et,Xe,Dt);return function sn(w){const x=(0,ae.m9)(w);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Ts),Ts},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(xr,"0.4.0"),(0,le.registerVersion)(xr,"0.4.0","esm2017")}();const Mu="/firebase-messaging-sw.js",li="/firebase-cloud-messaging-push-scope",Ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ro="google.c.a.c_id",Ru="google.c.a.c_l",qd="google.c.a.ts",vs="google.c.a.e";var Oo=(()=>{return(w=Oo||(Oo={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Oo;var w})();function vi(w){const x=new Uint8Array(w);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ou(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(M),Q=new Uint8Array(B.length);for(let re=0;re<B.length;++re)Q[re]=B.charCodeAt(re);return Q}const vn="fcm_token_details_db",Yi="fcm_token_object_Store";function uc(w){return ku.apply(this,arguments)}function ku(){return ku=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(vn))return null;let x=null;return(yield(0,ce.X3)(vn,5,{upgrade:(B=(0,P.Z)(function*(Q,re,Se,Ze){var Xe;if(re<2||!Q.objectStoreNames.contains(Yi))return;const et=Ze.objectStore(Yi),Dt=yield et.index("fcmSenderId").get(w);if(yield et.clear(),Dt)if(2===re){const ot=Dt;if(!ot.auth||!ot.p256dh||!ot.endpoint)return;x={token:ot.fcmToken,createTime:null!==(Xe=ot.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:ot.auth,p256dh:ot.p256dh,endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:"string"==typeof ot.vapidKey?ot.vapidKey:vi(ot.vapidKey)}}}else if(3===re){const ot=Dt;x={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:vi(ot.auth),p256dh:vi(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:vi(ot.vapidKey)}}}else if(4===re){const ot=Dt;x={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:vi(ot.auth),p256dh:vi(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:vi(ot.vapidKey)}}}}),function(re,Se,Ze,Xe){return B.apply(this,arguments)})})).close(),yield(0,ce.Lj)(vn),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),dc(x)?x:null;var B}),ku.apply(this,arguments)}function dc(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:x}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Mr="firebase-messaging-store";let Zd=null;function on(){return Zd||(Zd=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(w,x)=>{0===x&&w.createObjectStore(Mr)}})),Zd}function Da(w){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,P.Z)(function*(w){const x=$n(w),B=yield(yield on()).transaction(Mr).objectStore(Mr).get(x);if(B)return B;{const Q=yield uc(w.appConfig.senderId);if(Q)return yield Yt(w,Q),Q}})).apply(this,arguments)}function Yt(w,x){return xa.apply(this,arguments)}function xa(){return(xa=(0,P.Z)(function*(w,x){const M=$n(w),Q=(yield on()).transaction(Mr,"readwrite");return yield Q.objectStore(Mr).put(x,M),yield Q.done,x})).apply(this,arguments)}function dl(w){return bs.apply(this,arguments)}function bs(){return(bs=(0,P.Z)(function*(w){const x=$n(w),B=(yield on()).transaction(Mr,"readwrite");yield B.objectStore(Mr).delete(x),yield B.done})).apply(this,arguments)}function $n({appConfig:w}){return w.appId}const mn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Rr(w,x){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,P.Z)(function*(w,x){const M=yield Fo(w),B=Cs(x),Q={method:"POST",headers:M,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(Or(w.appConfig),Q)).json()}catch(Se){throw mn.create("token-subscribe-failed",{errorInfo:null==Se?void 0:Se.toString()})}if(re.error)throw mn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw mn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Js(w,x){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,P.Z)(function*(w,x){const M=yield Fo(w),B=Cs(x.subscriptionOptions),Q={method:"PATCH",headers:M,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(`${Or(w.appConfig)}/${x.token}`,Q)).json()}catch(Se){throw mn.create("token-update-failed",{errorInfo:null==Se?void 0:Se.toString()})}if(re.error)throw mn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw mn.create("token-update-no-token");return re.token})).apply(this,arguments)}function Aa(w,x){return hr.apply(this,arguments)}function hr(){return(hr=(0,P.Z)(function*(w,x){const B={method:"DELETE",headers:yield Fo(w)};try{const re=yield(yield fetch(`${Or(w.appConfig)}/${x}`,B)).json();if(re.error)throw mn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw mn.create("token-unsubscribe-failed",{errorInfo:null==Q?void 0:Q.toString()})}})).apply(this,arguments)}function Or({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Fo(w){return ht.apply(this,arguments)}function ht(){return(ht=(0,P.Z)(function*({appConfig:w,installations:x}){const M=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Cs({p256dh:w,auth:x,endpoint:M,vapidKey:B}){const Q={web:{endpoint:M,auth:x,p256dh:w}};return B!==Ks&&(Q.web.applicationPubKey=B),Q}const pc=6048e5;function Sa(w){return gc.apply(this,arguments)}function gc(){return(gc=(0,P.Z)(function*(w){const x=yield eo(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:x.endpoint,auth:vi(x.getKey("auth")),p256dh:vi(x.getKey("p256dh"))},B=yield Da(w.firebaseDependencies);if(B){if(pl(B.subscriptionOptions,M))return Date.now()>=B.createTime+pc?mc(w,{token:B.token,createTime:Date.now(),subscriptionOptions:M}):B.token;try{yield Aa(w.firebaseDependencies,B.token)}catch(Q){console.warn(Q)}return Ae(w.firebaseDependencies,M)}return Ae(w.firebaseDependencies,M)})).apply(this,arguments)}function hl(w){return fl.apply(this,arguments)}function fl(){return(fl=(0,P.Z)(function*(w){const x=yield Da(w.firebaseDependencies);x&&(yield Aa(w.firebaseDependencies,x.token),yield dl(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function mc(w,x){return Po.apply(this,arguments)}function Po(){return(Po=(0,P.Z)(function*(w,x){try{const M=yield Js(w.firebaseDependencies,x),B=Object.assign(Object.assign({},x),{token:M,createTime:Date.now()});return yield Yt(w.firebaseDependencies,B),M}catch(M){throw yield hl(w),M}})).apply(this,arguments)}function Ae(w,x){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,P.Z)(function*(w,x){const B={token:yield Rr(w,x),createTime:Date.now(),subscriptionOptions:x};return yield Yt(w,B),B.token})).apply(this,arguments)}function eo(w,x){return dn.apply(this,arguments)}function dn(){return(dn=(0,P.Z)(function*(w,x){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ou(x)})})).apply(this,arguments)}function pl(w,x){return x.vapidKey===w.vapidKey&&x.endpoint===w.endpoint&&x.auth===w.auth&&x.p256dh===w.p256dh}function to(w){const x={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function qi(w,x){if(!x.notification)return;w.notification={};const M=x.notification.title;M&&(w.notification.title=M);const B=x.notification.body;B&&(w.notification.body=B);const Q=x.notification.image;Q&&(w.notification.image=Q);const re=x.notification.icon;re&&(w.notification.icon=re)}(x,w),function _c(w,x){!x.data||(w.data=x.data)}(x,w),function yc(w,x){var M,B,Q,re,Se;if(!x.fcmOptions&&!(null===(M=x.notification)||void 0===M?void 0:M.click_action))return;w.fcmOptions={};const Ze=null!==(Q=null===(B=x.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==Q?Q:null===(re=x.notification)||void 0===re?void 0:re.click_action;Ze&&(w.fcmOptions.link=Ze);const Xe=null===(Se=x.fcmOptions)||void 0===Se?void 0:Se.analytics_label;Xe&&(w.fcmOptions.analyticsLabel=Xe)}(x,w),x}function vc(w){return"object"==typeof w&&!!w&&Ro in w}function Fu(w,x){const M=[];for(let B=0;B<w.length;B++)M.push(w.charAt(B)),B<x.length&&M.push(x.charAt(B));return M.join("")}function Kr(w){return mn.create("missing-app-config-values",{valueName:w})}Fu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ci{constructor(x,M,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Ff(w){if(!w||!w.options)throw Kr("App Configuration Object");if(!w.name)throw Kr("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const B of x)if(!M[B])throw Kr(B);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:Q,installations:M,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Zi(w){return gl.apply(this,arguments)}function gl(){return(gl=(0,P.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Mu,{scope:li}),w.swRegistration.update().catch(()=>{})}catch(x){throw mn.create("failed-service-worker-registration",{browserErrorMessage:null==x?void 0:x.message})}})).apply(this,arguments)}function ws(w,x){return fr.apply(this,arguments)}function fr(){return(fr=(0,P.Z)(function*(w,x){if(!x&&!w.swRegistration&&(yield Zi(w)),x||!w.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");w.swRegistration=x}})).apply(this,arguments)}function bc(w,x){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(w,x){x?w.vapidKey=x:w.vapidKey||(w.vapidKey=Ks)})).apply(this,arguments)}function Cc(){return(Cc=(0,P.Z)(function*(w,x){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield bc(w,null==x?void 0:x.vapidKey),yield ws(w,null==x?void 0:x.serviceWorkerRegistration),Sa(w)})).apply(this,arguments)}function No(w,x,M){return yl.apply(this,arguments)}function yl(){return(yl=(0,P.Z)(function*(w,x,M){const B=vl(x);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:M[Ro],message_name:M[Ru],message_time:M[qd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vl(w){switch(w){case Oo.NOTIFICATION_CLICKED:return"notification_open";case Oo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Nu(){return(Nu=(0,P.Z)(function*(w,x){const M=x.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===Oo.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(to(M)):w.onMessageHandler.next(to(M)));const B=M.data;vc(B)&&"1"===B[vs]&&(yield No(w,M.messageType,B))})).apply(this,arguments)}const bl="@firebase/messaging",Lu=w=>{const x=new ci(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Pu(w,x){return Nu.apply(this,arguments)}(x,M)),x},Lo=w=>{const x=w.getProvider("messaging").getImmediate();return{getToken:B=>function _l(w,x){return Cc.apply(this,arguments)}(x,B)}};function Cl(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,P.Z)(function*(){try{yield(0,ae.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bu(){(0,le._registerComponent)(new fe.wA("messaging",Lu,"PUBLIC")),(0,le._registerComponent)(new fe.wA("messaging-internal",Lo,"PRIVATE")),(0,le.registerVersion)(bl,"0.12.0"),(0,le.registerVersion)(bl,"0.12.0","esm2017")}();const Uu="analytics",Pf="firebase_id",Qr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ro="https://www.googletagmanager.com/gtag/js",Vn=new ne.Yd("@firebase/analytics");function Hu(w){return Promise.all(w.map(x=>x.catch(M=>M)))}function Nf(w,x){const M=document.createElement("script");M.src=`${ro}?l=${w}&id=${x}`,M.async=!0,document.head.appendChild(M)}function Bo(w,x,M,B,Q,re){return wl.apply(this,arguments)}function wl(){return(wl=(0,P.Z)(function*(w,x,M,B,Q,re){const Se=B[Q];try{if(Se)yield x[Se];else{const Xe=(yield Hu(M)).find(et=>et.measurementId===Q);Xe&&(yield x[Xe.appId])}}catch(Ze){Vn.error(Ze)}w("config",Q,re)})).apply(this,arguments)}function ju(w,x,M,B,Q){return kr.apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*(w,x,M,B,Q){try{let re=[];if(Q&&Q.send_to){let Se=Q.send_to;Array.isArray(Se)||(Se=[Se]);const Ze=yield Hu(M);for(const Xe of Se){const et=Ze.find(ot=>ot.measurementId===Xe),Dt=et&&x[et.appId];if(!Dt){re=[];break}re.push(Dt)}}0===re.length&&(re=Object.values(x)),yield Promise.all(re),w("event",B,Q||{})}catch(re){Vn.error(re)}})).apply(this,arguments)}function kn(w){const x=window.document.getElementsByTagName("script");for(const M of Object.values(x))if(M.src&&M.src.includes(ro)&&M.src.includes(w))return M;return null}const Ke=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ma=new class cn{constructor(x={},M=1e3){this.throttleMetadata=x,this.intervalMillis=M}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,M){this.throttleMetadata[x]=M}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Gu(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Uo(w){return Es.apply(this,arguments)}function Es(){return(Es=(0,P.Z)(function*(w){var x;const{appId:M,apiKey:B}=w,Q={method:"GET",headers:Gu(B)},re=Qr.replace("{app-id}",M),Se=yield fetch(re,Q);if(200!==Se.status&&304!==Se.status){let Ze="";try{const Xe=yield Se.json();(null===(x=Xe.error)||void 0===x?void 0:x.message)&&(Ze=Xe.error.message)}catch(Xe){}throw Ke.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ze})}return Se.json()})).apply(this,arguments)}function xn(w){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,P.Z)(function*(w,x=Ma,M){const{appId:B,apiKey:Q,measurementId:re}=w.options;if(!B)throw Ke.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:B};throw Ke.create("no-api-key")}const Se=x.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new El;return setTimeout((0,P.Z)(function*(){Ze.abort()}),void 0!==M?M:6e4),pr({appId:B,apiKey:Q,measurementId:re},Se,Ze,x)})).apply(this,arguments)}function pr(w,x,M){return Et.apply(this,arguments)}function Et(){return(Et=(0,P.Z)(function*(w,{throttleEndTimeMillis:x,backoffCount:M},B,Q=Ma){var re;const{appId:Se,measurementId:Ze}=w;try{yield $u(B,x)}catch(Xe){if(Ze)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${null==Xe?void 0:Xe.message}]`),{appId:Se,measurementId:Ze};throw Xe}try{const Xe=yield Uo(w);return Q.deleteThrottleMetadata(Se),Xe}catch(Xe){const et=Xe;if(!zu(et)){if(Q.deleteThrottleMetadata(Se),Ze)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${null==et?void 0:et.message}]`),{appId:Se,measurementId:Ze};throw Xe}const Dt=503===Number(null===(re=null==et?void 0:et.customData)||void 0===re?void 0:re.httpStatus)?(0,ae.$s)(M,Q.intervalMillis,30):(0,ae.$s)(M,Q.intervalMillis),ot={throttleEndTimeMillis:Date.now()+Dt,backoffCount:M+1};return Q.setThrottleMetadata(Se,ot),Vn.debug(`Calling attemptFetch again in ${Dt} millis`),pr(w,ot,B,Q)}})).apply(this,arguments)}function $u(w,x){return new Promise((M,B)=>{const Q=Math.max(x-Date.now(),0),re=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(re),B(Ke.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function zu(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const x=Number(w.customData.httpStatus);return 429===x||500===x||503===x||504===x}class El{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Ra,jo;function Fr(){return(Fr=(0,P.Z)(function*(w,x,M,B,Q){if(Q&&Q.global)w("event",M,B);else{const re=yield x;w("event",M,Object.assign(Object.assign({},B),{send_to:re}))}})).apply(this,arguments)}function ka(w){jo=w}function Jr(w){Ra=w}function Go(){return Li.apply(this,arguments)}function Li(){return(Li=(0,P.Z)(function*(){if(!(0,ae.hl)())return Vn.warn(Ke.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(w){return Vn.warn(Ke.create("indexeddb-unavailable",{errorInfo:null==w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function wn(){return(wn=(0,P.Z)(function*(w,x,M,B,Q,re,Se){var Ze;const Xe=xn(w);Xe.then(fn=>{M[fn.measurementId]=fn.appId,w.options.measurementId&&fn.measurementId!==w.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fn=>Vn.error(fn)),x.push(Xe);const et=Go().then(fn=>{if(fn)return B.getId()}),[Dt,ot]=yield Promise.all([Xe,et]);kn(re)||Nf(re,Dt.measurementId),jo&&(Q("consent","default",jo),ka(void 0)),Q("js",new Date);const ui=null!==(Ze=null==Se?void 0:Se.config)&&void 0!==Ze?Ze:{};return ui.origin="firebase",ui.update=!0,null!=ot&&(ui[Pf]=ot),Q("config",Dt.measurementId,ui),Ra&&(Q("set",Ra),Jr(void 0)),Dt.measurementId})).apply(this,arguments)}class Ec{constructor(x){this.app=x}_delete(){return delete bi[this.app.options.appId],Promise.resolve()}}let bi={},An=[];const Ci={};let Nr,qt,gr="dataLayer",wi=!1;function Wu(w,x,M){!function Lr(){const w=[];if((0,ae.ru)()&&w.push("This is a browser extension environment."),(0,ae.zI)()||w.push("Cookies are not available."),w.length>0){const x=w.map((B,Q)=>`(${Q+1}) ${B}`).join(" "),M=Ke.create("invalid-analytics-context",{errorInfo:x});Vn.warn(M.message)}}();const B=w.options.appId;if(!B)throw Ke.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Ke.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bi[B])throw Ke.create("already-exists",{id:B});if(!wi){!function so(w){let x=[];Array.isArray(window[w])?x=window[w]:window[w]=x}(gr);const{wrappedGtag:re,gtagCore:Se}=function Lf(w,x,M,B,Q){let re=function(...Se){window[B].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function Ta(w,x,M,B){function re(){return(re=(0,P.Z)(function*(Se,Ze,Xe){try{"event"===Se?yield ju(w,x,M,Ze,Xe):"config"===Se?yield Bo(w,x,M,B,Ze,Xe):"consent"===Se?w("consent","update",Xe):w("set",Ze)}catch(et){Vn.error(et)}})).apply(this,arguments)}return function Q(Se,Ze,Xe){return re.apply(this,arguments)}}(re,w,x,M),{gtagCore:re,wrappedGtag:window[Q]}}(bi,An,Ci,gr,"gtag");qt=re,Nr=Se,wi=!0}return bi[B]=function Pr(w,x,M,B,Q,re,Se){return wn.apply(this,arguments)}(w,An,Ci,x,Nr,gr,M),new Ec(w)}function Yu(){return qu.apply(this,arguments)}function qu(){return(qu=(0,P.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(w){return!1}})).apply(this,arguments)}const Sn="@firebase/analytics";!function Pa(){(0,le._registerComponent)(new fe.wA(Uu,(x,{options:M})=>Wu(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,le._registerComponent)(new fe.wA("analytics-internal",function w(x){try{const M=x.getProvider(Uu).getImmediate();return{logEvent:(B,Q,re)=>function es(w,x,M,B){w=(0,ae.m9)(w),function Cn(w,x,M,B,Q){return Fr.apply(this,arguments)}(qt,bi[w.app.options.appId],x,M,B).catch(Q=>Vn.error(Q))}(M,B,Q,re)}}catch(M){throw Ke.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,le.registerVersion)(Sn,"0.9.0"),(0,le.registerVersion)(Sn,"0.9.0","esm2017")}();var Ku=F(4408),Ei=F(7565);const Na=new class Di extends Ei.v{}(class Xd extends Ku.o{constructor(x,M){super(x,M),this.scheduler=x,this.work=M}schedule(x,M=0){return M>0?super.schedule(x,M):(this.delay=M,this.state=x,this.scheduler.flush(this),this)}execute(x,M){return M>0||this.closed?super.execute(x,M):this._execute(x,M)}requestAsyncId(x,M,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(x,M,B):(x.flush(this),0)}});var uo=F(4986),zo=F(8505),ho=F(9468),Dl=F(5363);const Rt=new c.GfV("7.5.0"),Qu="__angularfire_symbol__analyticsIsSupportedValue",ts="__angularfire_symbol__analyticsIsSupported",Hn="__angularfire_symbol__remoteConfigIsSupportedValue",Ss="__angularfire_symbol__remoteConfigIsSupported",Is="__angularfire_symbol__messagingIsSupportedValue",Xu="__angularfire_symbol__messagingIsSupported";function xl(w,x,M){if(x){if(1===x.length)return x[0];const re=x.filter(Se=>Se.app===M);if(1===re.length)return re[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[ts]||(globalThis[ts]=Yu().then(w=>globalThis[Qu]=w).catch(()=>globalThis[Qu]=!1)),globalThis[Xu]||(globalThis[Xu]=Cl().then(w=>globalThis[Is]=w).catch(()=>globalThis[Is]=!1)),globalThis[Ss]||(globalThis[Ss]=ul().then(w=>globalThis[Hn]=w).catch(()=>globalThis[Hn]=!1));const Ju=(w,x)=>{const M=x?[x]:(0,J.C6)(),B=[];return M.forEach(Q=>{Q.container.getProvider(w).instances.forEach(Se=>{B.includes(Se)||B.push(Se)})}),B};function hn(){}class qn{constructor(x,M=Na){this.zone=x,this.delegate=M}now(){return this.delegate.now()}schedule(x,M,B){const Q=this.zone;return this.delegate.schedule(function(Se){Q.runGuarded(()=>{x.apply(this,[Se])})},M,B)}}class Al{constructor(x){this.zone=x,this.task=null}call(x,M){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hn,{},hn,hn)),M.pipe((0,zo.b)({next:B,complete:B,error:B})).subscribe(x).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vf=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new qn(Zone.current)),this.insideAngular=M.run(()=>new qn(Zone.current,uo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function xi(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Sl(w){return xi(),function Il(w){return function(M){return(M=M.lift(new Al(w.ngZone))).pipe((0,ho.R)(w.outsideAngular),(0,Dl.Q)(w.insideAngular))}}(xi())(w)}},2090:(Ye,ye,F)=>{F.d(ye,{$s:()=>He,BH:()=>It,DV:()=>Fi,Dv:()=>ii,GJ:()=>Er,L:()=>ce,LL:()=>Zt,Pz:()=>Ht,Sg:()=>Ge,UG:()=>Me,UI:()=>ut,US:()=>fe,Wj:()=>fs,Wl:()=>Ot,Yr:()=>ge,ZB:()=>G,ZR:()=>ln,aH:()=>nt,b$:()=>we,cI:()=>Lt,dS:()=>oi,eu:()=>Le,g5:()=>P,gK:()=>ri,gQ:()=>En,h$:()=>ne,hl:()=>Pe,hu:()=>J,jU:()=>Ne,lb:()=>si,m9:()=>kt,ne:()=>Wi,p$:()=>j,pd:()=>Nn,r3:()=>zr,ru:()=>he,tV:()=>de,uI:()=>xe,ug:()=>st,vZ:()=>mi,w1:()=>ze,w9:()=>gi,xO:()=>hs,xb:()=>ar,z$:()=>Fe,zI:()=>z,zd:()=>Dr});const J=function(H,U){if(!H)throw P(U)},P=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},le=function(H){const U=[];let q=0;for(let be=0;be<H.length;be++){let oe=H.charCodeAt(be);oe<128?U[q++]=oe:oe<2048?(U[q++]=oe>>6|192,U[q++]=63&oe|128):55296==(64512&oe)&&be+1<H.length&&56320==(64512&H.charCodeAt(be+1))?(oe=65536+((1023&oe)<<10)+(1023&H.charCodeAt(++be)),U[q++]=oe>>18|240,U[q++]=oe>>12&63|128,U[q++]=oe>>6&63|128,U[q++]=63&oe|128):(U[q++]=oe>>12|224,U[q++]=oe>>6&63|128,U[q++]=63&oe|128)}return U},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,U){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let oe=0;oe<H.length;oe+=3){const qe=H[oe],Ct=oe+1<H.length,Xt=Ct?H[oe+1]:0,jt=oe+2<H.length,Kt=jt?H[oe+2]:0;let un=(15&Xt)<<2|Kt>>6,qs=63&Kt;jt||(qs=64,Ct||(un=64)),be.push(q[qe>>2],q[(3&qe)<<4|Xt>>4],q[un],q[qs])}return be.join("")},encodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(H):this.encodeByteArray(le(H),U)},decodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(H):function(H){const U=[];let q=0,be=0;for(;q<H.length;){const oe=H[q++];if(oe<128)U[be++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const qe=H[q++];U[be++]=String.fromCharCode((31&oe)<<6|63&qe)}else if(oe>239&&oe<365){const jt=((7&oe)<<18|(63&H[q++])<<12|(63&H[q++])<<6|63&H[q++])-65536;U[be++]=String.fromCharCode(55296+(jt>>10)),U[be++]=String.fromCharCode(56320+(1023&jt))}else{const qe=H[q++],Ct=H[q++];U[be++]=String.fromCharCode((15&oe)<<12|(63&qe)<<6|63&Ct)}}return U.join("")}(this.decodeStringToByteArray(H,U))},decodeStringToByteArray(H,U){this.init_();const q=U?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let oe=0;oe<H.length;){const qe=q[H.charAt(oe++)],Xt=oe<H.length?q[H.charAt(oe)]:0;++oe;const Kt=oe<H.length?q[H.charAt(oe)]:64;++oe;const pt=oe<H.length?q[H.charAt(oe)]:64;if(++oe,null==qe||null==Xt||null==Kt||null==pt)throw Error();be.push(qe<<2|Xt>>4),64!==Kt&&(be.push(Xt<<4&240|Kt>>2),64!==pt&&be.push(Kt<<6&192|pt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ne=function(H){const U=le(H);return fe.encodeByteArray(U,!0)},ce=function(H){return ne(H).replace(/\./g,"")},de=function(H){try{return fe.decodeString(H,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function j(H){return G(void 0,H)}function G(H,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return U}for(const q in U)!U.hasOwnProperty(q)||!te(q)||(H[q]=G(H[q],U[q]));return H}function te(H){return"__proto__"!==H}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Ne(){return"object"==typeof self&&self.self===self}function he(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ze(){const H=Fe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function ge(){return!1}function Pe(){try{return"object"==typeof indexedDB}catch(H){return!1}}function Le(){return new Promise((H,U)=>{try{let q=!0;const be="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(be);oe.onsuccess=()=>{oe.result.close(),q||self.indexedDB.deleteDatabase(be),H(!0)},oe.onupgradeneeded=()=>{q=!1},oe.onerror=()=>{var qe;U((null===(qe=oe.error)||void 0===qe?void 0:qe.message)||"")}}catch(q){U(q)}})}function z(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const me=()=>{try{return function ve(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if("undefined"==typeof document)return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(q){return}const U=H&&de(H[1]);return U&&JSON.parse(U)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},nt=()=>{var H;return null===(H=me())||void 0===H?void 0:H.config},Ht=H=>{var U;return null===(U=me())||void 0===U?void 0:U[`_${H}`]};class It{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,q)=>{this.resolve=U,this.reject=q})}wrapCallback(U){return(q,be)=>{q?this.reject(q):this.resolve(be),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(q):U(q,be))}}}function Ge(H,U){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=U||"demo-project",oe=H.iat||0,qe=H.sub||H.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:oe,exp:oe+3600,auth_time:oe,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ct)),""].join(".")}class ln extends Error{constructor(U,q,be){super(q),this.code=U,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(U,q,be){this.service=U,this.serviceName=q,this.errors=be}create(U,...q){const be=q[0]||{},oe=`${this.service}/${U}`,qe=this.errors[U],Ct=qe?function $t(H,U){return H.replace(fi,(q,be)=>{const oe=U[be];return null!=oe?String(oe):`<${be}?>`})}(qe,be):"Error";return new ln(oe,`${this.serviceName}: ${Ct} (${oe}).`,be)}}const fi=/\{\$([^}]+)}/g;function Lt(H){return JSON.parse(H)}function Ot(H){return JSON.stringify(H)}const ki=function(H){let U={},q={},be={},oe="";try{const qe=H.split(".");U=Lt(de(qe[0])||""),q=Lt(de(qe[1])||""),oe=qe[2],be=q.d||{},delete q.d}catch(qe){}return{header:U,claims:q,data:be,signature:oe}},gi=function(H){const q=ki(H).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},Er=function(H){const U=ki(H).claims;return"object"==typeof U&&!0===U.admin};function zr(H,U){return Object.prototype.hasOwnProperty.call(H,U)}function Fi(H,U){if(Object.prototype.hasOwnProperty.call(H,U))return H[U]}function ar(H){for(const U in H)if(Object.prototype.hasOwnProperty.call(H,U))return!1;return!0}function ut(H,U,q){const be={};for(const oe in H)Object.prototype.hasOwnProperty.call(H,oe)&&(be[oe]=U.call(q,H[oe],oe,H));return be}function mi(H,U){if(H===U)return!0;const q=Object.keys(H),be=Object.keys(U);for(const oe of q){if(!be.includes(oe))return!1;const qe=H[oe],Ct=U[oe];if(gn(qe)&&gn(Ct)){if(!mi(qe,Ct))return!1}else if(qe!==Ct)return!1}for(const oe of be)if(!q.includes(oe))return!1;return!0}function gn(H){return null!==H&&"object"==typeof H}function hs(H){const U=[];for(const[q,be]of Object.entries(H))Array.isArray(be)?be.forEach(oe=>{U.push(encodeURIComponent(q)+"="+encodeURIComponent(oe))}):U.push(encodeURIComponent(q)+"="+encodeURIComponent(be));return U.length?"&"+U.join("&"):""}function Dr(H){const U={};return H.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[oe,qe]=be.split("=");U[decodeURIComponent(oe)]=decodeURIComponent(qe)}}),U}function Nn(H){const U=H.indexOf("?");if(!U)return"";const q=H.indexOf("#",U);return H.substring(U,q>0?q:void 0)}class En{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,q){q||(q=0);const be=this.W_;if("string"==typeof U)for(let pt=0;pt<16;pt++)be[pt]=U.charCodeAt(q)<<24|U.charCodeAt(q+1)<<16|U.charCodeAt(q+2)<<8|U.charCodeAt(q+3),q+=4;else for(let pt=0;pt<16;pt++)be[pt]=U[q]<<24|U[q+1]<<16|U[q+2]<<8|U[q+3],q+=4;for(let pt=16;pt<80;pt++){const un=be[pt-3]^be[pt-8]^be[pt-14]^be[pt-16];be[pt]=4294967295&(un<<1|un>>>31)}let Kt,Ln,oe=this.chain_[0],qe=this.chain_[1],Ct=this.chain_[2],Xt=this.chain_[3],jt=this.chain_[4];for(let pt=0;pt<80;pt++){pt<40?pt<20?(Kt=Xt^qe&(Ct^Xt),Ln=1518500249):(Kt=qe^Ct^Xt,Ln=1859775393):pt<60?(Kt=qe&Ct|Xt&(qe|Ct),Ln=2400959708):(Kt=qe^Ct^Xt,Ln=3395469782);const un=(oe<<5|oe>>>27)+Kt+jt+Ln+be[pt]&4294967295;jt=Xt,Xt=Ct,Ct=4294967295&(qe<<30|qe>>>2),qe=oe,oe=un}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+qe&4294967295,this.chain_[2]=this.chain_[2]+Ct&4294967295,this.chain_[3]=this.chain_[3]+Xt&4294967295,this.chain_[4]=this.chain_[4]+jt&4294967295}update(U,q){if(null==U)return;void 0===q&&(q=U.length);const be=q-this.blockSize;let oe=0;const qe=this.buf_;let Ct=this.inbuf_;for(;oe<q;){if(0===Ct)for(;oe<=be;)this.compress_(U,oe),oe+=this.blockSize;if("string"==typeof U){for(;oe<q;)if(qe[Ct]=U.charCodeAt(oe),++Ct,++oe,Ct===this.blockSize){this.compress_(qe),Ct=0;break}}else for(;oe<q;)if(qe[Ct]=U[oe],++Ct,++oe,Ct===this.blockSize){this.compress_(qe),Ct=0;break}}this.inbuf_=Ct,this.total_+=q}digest(){const U=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&q,q/=256;this.compress_(this.buf_);let be=0;for(let oe=0;oe<5;oe++)for(let qe=24;qe>=0;qe-=8)U[be]=this.chain_[oe]>>qe&255,++be;return U}}function Wi(H,U){const q=new Ws(H,U);return q.subscribe.bind(q)}class Ws{constructor(U,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{U(this)}).catch(be=>{this.error(be)})}next(U){this.forEachObserver(q=>{q.next(U)})}error(U){this.forEachObserver(q=>{q.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,q,be){let oe;if(void 0===U&&void 0===q&&void 0===be)throw new Error("Missing Observer.");oe=function tt(H,U){if("object"!=typeof H||null===H)return!1;for(const q of U)if(q in H&&"function"==typeof H[q])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:q,complete:be},void 0===oe.next&&(oe.next=dt),void 0===oe.error&&(oe.error=dt),void 0===oe.complete&&(oe.complete=dt);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch(Ct){}}),this.observers.push(oe),qe}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,U)}sendOne(U,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{q(this.observers[U])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dt(){}const ii=function(H,U,q,be){let oe;if(be<U?oe="at least "+U:be>q&&(oe=0===q?"none":"no more than "+q),oe)throw new Error(H+" failed: Was called with "+be+(1===be?" argument.":" arguments.")+" Expects "+oe+".")};function ri(H,U){return`${H} failed: ${U} argument `}function fs(H,U,q,be){if((!be||q)&&"function"!=typeof q)throw new Error(ri(H,U)+"must be a valid function.")}function si(H,U,q,be){if((!be||q)&&("object"!=typeof q||null===q))throw new Error(ri(H,U)+"must be a valid context object.")}const oi=function(H){const U=[];let q=0;for(let be=0;be<H.length;be++){let oe=H.charCodeAt(be);if(oe>=55296&&oe<=56319){const qe=oe-55296;be++,J(be<H.length,"Surrogate pair missing trail surrogate."),oe=65536+(qe<<10)+(H.charCodeAt(be)-56320)}oe<128?U[q++]=oe:oe<2048?(U[q++]=oe>>6|192,U[q++]=63&oe|128):oe<65536?(U[q++]=oe>>12|224,U[q++]=oe>>6&63|128,U[q++]=63&oe|128):(U[q++]=oe>>18|240,U[q++]=oe>>12&63|128,U[q++]=oe>>6&63|128,U[q++]=63&oe|128)}return U},st=function(H){let U=0;for(let q=0;q<H.length;q++){const be=H.charCodeAt(q);be<128?U++:be<2048?U+=2:be>=55296&&be<=56319?(U+=4,q++):U+=3}return U};function He(H,U=1e3,q=2){const be=U*Math.pow(q,H),oe=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+oe)}function kt(H){return H&&H._delegate?H._delegate:H}},6884:(Ye,ye,F)=>{var c=F(5e3);let J=null;function P(){return J}const ne=new c.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function de(){return(0,c.LFG)(G)}()},providedIn:"platform"}),n})();const j=new c.OlP("Location Initialized");let G=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){te()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){te()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Fe(){return new G((0,c.LFG)(ne))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ne(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(n){const t=(0,c.LFG)(ne).location;return new ze((0,c.LFG)(ce),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ue=new c.OlP("appBaseHref");let ze=(()=>{class n extends he{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ne(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,l){const d=this.prepareExternalUrl(r+Ne(l));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,l){const d=this.prepareExternalUrl(r+Ne(l));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce),c.LFG(Ue,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends he{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,l){let d=this.prepareExternalUrl(r+Ne(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,l){let d=this.prepareExternalUrl(r+Ne(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ce),c.LFG(Ue,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ge=(()=>{class n{constructor(e,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Me(Le(r)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ne(i))}normalize(e){return n.stripTrailingSlash(function Pe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Le(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ne(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ne(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ne,n.joinWithSlash=xe,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(c.LFG(he),c.LFG(ce))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(){return new ge((0,c.LFG)(he),(0,c.LFG)(ce))}()},providedIn:"root"}),n})();function Le(n){return n.replace(/\/index.html$/,"")}let cr=(()=>{class n{constructor(e,i,r,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class gs{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,l,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new gs(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const p=i.get(l);i.move(p,d),Zs(p,r)}});for(let r=0,l=i.length;r<l;r++){const p=i.get(r).context;p.index=r,p.count=l,p.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Zs(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Zs(n,t){n.context.$implicit=t.item}let Bn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new sn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ll("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ll("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class sn{constructor(){this.$implicit=null,this.ngIf=null}}function ll(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class Ca{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let yi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ur=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ca(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(yi,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),vs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Qs="browser";function vn(n){return n===Qs}function dr(n){return"server"===n}let dc=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ko((0,c.LFG)(ne),window)}),n})();class ko{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Mr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const d=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=hc(this.window.history)||hc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function hc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xs extends class Da extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){J||(J=n)}(new Xs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function xa(){return Yt=Yt||document.querySelector("base"),Yt?Yt.getAttribute("href"):null}();return null==e?null:function bs(n){dl=dl||document.createElement("a"),dl.setAttribute("href",n);const t=dl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Yt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ba(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let dl,Yt=null;const $n=new c.OlP("TRANSITION_ID"),mn=[{provide:c.ip1,useFactory:function fc(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[$n,ne,c.zs3],multi:!0}];class Rr{static init(){(0,c.VLi)(new Rr)}addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const l=t.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let l=r.length,d=!1;const p=function(v){d=d||v,l--,0==l&&i(d)};r.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Xn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=new c.OlP("EventManagerPlugins");let Zr=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const d=r[l];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Js),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Aa{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let hr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Or=(()=>{class n extends hr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Fo),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Fo))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Fo(n){P().remove(n)}const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cs=/%COMP%/g;function Po(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Po(n,r,e):(r=r.replace(Cs,n),e.push(r))}return e}function Ae(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let eo=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new dn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new qi(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case c.ifc.ShadowDom:return new _c(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Po(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Zr),c.LFG(Or),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class dn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ht[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const l=ht[r];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ht[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ae(i)):this.eventManager.addEventListener(t,e,Ae(i))}}class qi extends dn{constructor(t,e,i,r){super(t),this.component=i;const l=Po(r+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function fl(n){return"_ngcontent-%COMP%".replace(Cs,n)}(r+"-"+i.id),this.hostAttr=function mc(n){return"_nghost-%COMP%".replace(Cs,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class _c extends dn{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Po(r.id,r.styles,[]);for(let d=0;d<l.length;d++){const p=document.createElement("style");p.textContent=l[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let yc=(()=>{class n extends Aa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const vc=["alt","control","meta","shift"],Ff={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ci={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Zi=(()=>{class n extends Aa{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,l.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let d="";if(vc.forEach(v=>{const D=i.indexOf(v);D>-1&&(i.splice(D,1),d+=v+".")}),d+=l,0!=i.length||0===l.length)return null;const p={};return p.domEventName=r,p.fullKey=d,p}static getEventFullKey(e){let i="",r=function gl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Kr.hasOwnProperty(t)&&(t=Kr[t]))}return Ff[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vc.forEach(l=>{l!=r&&ci[l](e)&&(i+=l+".")}),i+=r,i}static eventCallback(e,i,r){return l=>{n.getEventFullKey(l)===e&&r.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _l=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Qs},{provide:c.g9A,useValue:function ws(){Xs.makeCurrent(),Rr.init()},multi:!0},{provide:ne,useFactory:function bc(){return(0,c.RDi)(document),document},deps:[]}]),Cc=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function fr(){return new c.qLn},deps:[]},{provide:Js,useClass:yc,multi:!0,deps:[ne,c.R0b,c.Lbi]},{provide:Js,useClass:Zi,multi:!0,deps:[ne]},{provide:eo,useClass:eo,deps:[Zr,Or,c.AFp]},{provide:c.FYo,useExisting:eo},{provide:hr,useExisting:Or},{provide:Or,useClass:Or,deps:[ne]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Zr,useClass:Zr,deps:[Js,c.R0b]},{provide:class on{},useClass:Xn,deps:[]}];let No=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:$n,useExisting:c.AFp},mn]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Cc,imports:[vs,c.hGG]}),n})();"undefined"!=typeof window&&window;var kn=F(8996),Vo=F(3269);function Ke(...n){const t=(0,Vo.yG)(n);return(0,kn.D)(n,t)}var St=F(7579);class Wn extends St.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var cn=F(8306);const{isArray:Ma}=Array,{getPrototypeOf:Gu,prototype:Uo,keys:Es}=Object;function xn(n){if(1===n.length){const t=n[0];if(Ma(t))return{args:t,keys:null};if(function Ds(n){return n&&"object"==typeof n&&Gu(n)===Uo}(t)){const e=Es(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var pr=F(4671),Et=F(4004);const{isArray:$u}=Array;function El(n){return(0,Et.U)(t=>function zu(n,t){return $u(t)?n(...t):n(t)}(n,t))}function Ra(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Cn=F(5403),Fr=F(9672);function oo(...n){const t=(0,Vo.yG)(n),e=(0,Vo.jO)(n),{args:i,keys:r}=xn(n);if(0===i.length)return(0,kn.D)([],t);const l=new cn.y(function Xr(n,t,e=pr.y){return i=>{xs(t,()=>{const{length:r}=n,l=new Array(r);let d=r,p=r;for(let v=0;v<r;v++)xs(t,()=>{const D=(0,kn.D)(n[v],t);let T=!1;D.subscribe((0,Cn.x)(i,O=>{l[v]=O,T||(T=!0,p--),p||i.next(e(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>Ra(r,d):pr.y));return e?l.pipe(El(e)):l}function xs(n,t,e){n?(0,Fr.f)(e,n,t):t()}var Yn=F(576);function Ho(n,t){const e=(0,Yn.m)(n)?n:()=>n,i=r=>r.error(e());return new cn.y(t?r=>t.schedule(i,0,r):i)}const ao=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var lo=F(8189);function ka(...n){return function jo(){return(0,lo.J)(1)}()((0,kn.D)(n,(0,Vo.yG)(n)))}var Jr=F(8421);function Go(n){return new cn.y(t=>{(0,Jr.Xf)(n()).subscribe(t)})}var Li=F(515),Pr=F(727),wn=F(4482);function Ec(){return(0,wn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Cn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,l=e;e=null,r&&(!l||r===l)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class bi extends cn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,wn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Pr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Cn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Pr.w0.EMPTY)}return t}refCount(){return Ec()(this)}}function An(n,t){return(0,wn.e)((e,i)=>{let r=null,l=0,d=!1;const p=()=>d&&!r&&i.complete();e.subscribe((0,Cn.x)(i,v=>{null==r||r.unsubscribe();let D=0;const T=l++;(0,Jr.Xf)(n(v,T)).subscribe(r=(0,Cn.x)(i,O=>i.next(t?t(v,O,T,D++):O),()=>{r=null,p()}))},()=>{d=!0,p()}))})}function Ci(n){return n<=0?()=>Li.E:(0,wn.e)((t,e)=>{let i=0;t.subscribe((0,Cn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function gr(...n){const t=(0,Vo.yG)(n);return(0,wn.e)((e,i)=>{(t?ka(n,e,t):ka(n,e)).subscribe(i)})}function As(n,t,e,i,r){return(l,d)=>{let p=e,v=t,D=0;l.subscribe((0,Cn.x)(d,T=>{const O=D++;v=p?n(v,T,O):(p=!0,T),i&&d.next(v)},r&&(()=>{p&&d.next(v),d.complete()})))}}function Nr(n,t){return(0,wn.e)(As(n,t,arguments.length>=2,!0))}function qt(n,t){return(0,wn.e)((e,i)=>{let r=0;e.subscribe((0,Cn.x)(i,l=>n.call(t,l,r++)&&i.next(l)))})}function wi(n){return(0,wn.e)((t,e)=>{let l,i=null,r=!1;i=t.subscribe((0,Cn.x)(e,void 0,void 0,d=>{l=(0,Jr.Xf)(n(d,wi(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(e))})}var Un=F(5577);function Lr(n,t){return(0,Yn.m)(t)?(0,Un.z)(n,t,1):(0,Un.z)(n,1)}function Wu(n){return n<=0?()=>Li.E:(0,wn.e)((t,e)=>{let i=[];t.subscribe((0,Cn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Dc(n=_n){return(0,wn.e)((t,e)=>{let i=!1;t.subscribe((0,Cn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function _n(){return new ao}function Yu(n){return(0,wn.e)((t,e)=>{let i=!1;t.subscribe((0,Cn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Fa(n,t){const e=arguments.length>=2;return i=>i.pipe(n?qt((r,l)=>n(r,l,i)):pr.y,Ci(1),e?Yu(t):Dc(()=>new ao))}var Ki=F(8505);class co{constructor(t,e){this.id=t,this.url=e}}class Qd extends co{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class es extends co{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zu extends co{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sn extends co{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $o extends co{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pa extends co{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ku extends co{constructor(t,e,i,r,l){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xd extends co{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends co{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Na{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ho{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rt="primary";class Qu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ts(n){return new Qu(n)}const Hn="ngNavigationCancelingError";function Ss(n){const t=Error("NavigationCancelingError: "+n);return t[Hn]=!0,t}function Xu(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const d=i[l],p=n[l];if(d.startsWith(":"))r[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ns(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let l=0;l<e.length;l++)if(r=e[l],!Ac(n[r],t[r]))return!1;return!0}function Ac(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,l)=>i[l]===r)}return n===t}function Jd(n){return Array.prototype.concat.apply([],n)}function xl(n){return n.length>0?n[n.length-1]:null}function hn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function qn(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,kn.D)(Promise.resolve(n)):Ke(n)}const Vf={exact:function eh(n,t,e){if(!B(n.segments,t.segments)||!Tl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!eh(n.children[i],t.children[i],e))return!1;return!0},subset:Sl},xi={exact:function Qi(n,t){return ns(n,t)},subset:function ed(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ac(n[e],t[e]))},ignored:()=>!0};function Yo(n,t,e){return Vf[e.paths](n.root,t.root,e.matrixParams)&&xi[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Sl(n,t,e){return Il(n,t,t.segments,e)}function Il(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!B(r,e)||t.hasChildren()||!Tl(r,e,i))}if(n.segments.length===e.length){if(!B(n.segments,e)||!Tl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Sl(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(B(n.segments,r)&&Tl(n.segments,r,i)&&n.children[Rt])&&Il(n.children[Rt],t,l,i)}}function Tl(n,t,e){return t.every((i,r)=>xi[e](n[r].parameters,i.parameters))}class Br{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ts(this.queryParams)),this._queryParamMap}toString(){return Ze.serialize(this)}}class w{constructor(t,e){this.segments=t,this.children=e,this.parent=null,hn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xe(this)}}class x{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ts(this.parameters)),this._parameterMap}toString(){return is(this)}}function B(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class re{}class Se{parse(t){const e=new Uf(t);return new Br(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${et(t.root,!0)}`,i=function Vr(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ot(e)}=${ot(r)}`).join("&"):`${ot(e)}=${ot(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function ui(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ze=new Se;function Xe(n){return n.segments.map(t=>is(t)).join("/")}function et(n,t){if(!n.hasChildren())return Xe(n);if(t){const e=n.children[Rt]?et(n.children[Rt],!1):"",i=[];return hn(n.children,(r,l)=>{l!==Rt&&i.push(`${l}:${et(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Q(n,t){let e=[];return hn(n.children,(i,r)=>{r===Rt&&(e=e.concat(t(i,r)))}),hn(n.children,(i,r)=>{r!==Rt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Rt?[et(n.children[Rt],!1)]:[`${r}:${et(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${Xe(n)}/${e[0]}`:`${Xe(n)}/(${e.join("//")})`}}function Dt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ot(n){return Dt(n).replace(/%3B/gi,";")}function fn(n){return Dt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ts(n){return decodeURIComponent(n)}function qo(n){return Ts(n.replace(/\+/g,"%20"))}function is(n){return`${fn(n.path)}${function Ai(n){return Object.keys(n).map(t=>`;${fn(t)}=${fn(n[t])}`).join("")}(n.parameters)}`}const Ml=/^[^\/()?;=#]+/;function td(n){const t=n.match(Ml);return t?t[0]:""}const Rl=/^[^=?&#]+/,th=/^[^&#]+/;class Uf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new w([],{}):new w([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Rt]=new w(t,e)),i}parseSegment(){const t=td(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new x(Ts(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=td(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=td(this.remaining);r&&(i=r,this.capture(i))}t[Ts(e)]=Ts(i)}parseQueryParam(t){const e=function Sc(n){const t=n.match(Rl);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function Iv(n){const t=n.match(th);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=qo(e),l=qo(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(l)}else t[r]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=td(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Rt);const d=this.parseChildren();e[l]=1===Object.keys(d).length?d[Rt]:new w([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class nh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Hf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Hf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ol(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ol(t,this._root).map(e=>e.value)}}function Hf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Hf(n,e);if(i)return i}return null}function Ol(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ol(n,e);if(i.length)return i.unshift(t),i}return[]}class fo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function kl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class jf extends nh{constructor(t,e){super(t),this.snapshot=e,Ic(this,t)}toString(){return this.snapshot.toString()}}function am(n,t){const e=function Ms(n,t){const d=new La([],{},{},"",{},Rt,t,null,n.root,-1,{});return new Si("",new fo(d,[]))}(n,t),i=new Wn([new x("",{})]),r=new Wn({}),l=new Wn({}),d=new Wn({}),p=new Wn(""),v=new Zo(i,r,d,p,l,Rt,t,e.root);return v.snapshot=e.root,new jf(new fo(v,[]),e)}class Zo{constructor(t,e,i,r,l,d,p,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=d,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(t=>ts(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(t=>ts(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gf(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],l=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(l.component)break;i--}}return function lm(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class La{constructor(t,e,i,r,l,d,p,v,D,T,O){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=d,this.component=p,this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=T,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ts(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ts(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Si extends nh{constructor(t,e){super(e),this.url=t,Ic(this,e)}toString(){return ih(this._root)}}function Ic(n,t){t.value._routerState=n,t.children.forEach(e=>Ic(n,e))}function ih(n){const t=n.children.length>0?` { ${n.children.map(ih).join(", ")} } `:"";return`${n.value}${t}`}function nd(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ns(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ns(t.params,e.params)||n.params.next(e.params),function Wo(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ns(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ns(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jn(n,t){const e=ns(n.params,t.params)&&function M(n,t){return B(n,t)&&n.every((e,i)=>ns(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Jn(n.parent,t.parent))}function Ba(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function cm(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ba(n,i,r);return Ba(n,i)})}(n,t,e);return new fo(i,r)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(p=>Ba(n,p)),d}}const i=function um(n){return new Zo(new Wn(n.url),new Wn(n.params),new Wn(n.queryParams),new Wn(n.fragment),new Wn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(l=>Ba(n,l));return new fo(i,r)}}function Pl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nl(n){return"object"==typeof n&&null!=n&&n.outlets}function Tc(n,t,e,i,r){let l={};if(i&&hn(i,(p,v)=>{l[v]=Array.isArray(p)?p.map(D=>`${D}`):`${p}`}),n===t)return new Br(e,l,r);const d=rh(n,t,e);return new Br(d,l,r)}function rh(n,t,e){const i={};return hn(n.children,(r,l)=>{i[l]=r===t?e:rh(r,t,e)}),new w(n.segments,i)}class sh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Pl(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Nl);if(r&&r!==xl(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Va{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Ll(n,t,e){if(n||(n=new w([],{})),0===n.segments.length&&n.hasChildren())return Mc(n,t,e);const i=function Wf(n,t,e){let i=0,r=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return l;const d=n.segments[r],p=e[i];if(Nl(p))break;const v=`${p}`,D=i<e.length-1?e[i+1]:null;if(r>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!hm(v,D,d))return l;i+=2}else{if(!hm(v,{},d))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new w(n.segments.slice(0,i.pathIndex),{});return l.children[Rt]=new w(n.segments.slice(i.pathIndex),n.children),Mc(l,0,r)}return i.match&&0===r.length?new w(n.segments,{}):i.match&&!n.hasChildren()?Rc(n,t,e):i.match?Mc(n,0,r):Rc(n,t,e)}function Mc(n,t,e){if(0===e.length)return new w(n.segments,{});{const i=function ah(n){return Nl(n[0])?n[0].outlets:{[Rt]:n}}(e),r={};return hn(i,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(r[d]=Ll(n.children[d],t,l))}),hn(n.children,(l,d)=>{void 0===i[d]&&(r[d]=l)}),new w(n.segments,r)}}function Rc(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const l=e[r];if(Nl(l)){const v=lh(l.outlets);return new w(i,v)}if(0===r&&Pl(e[0])){i.push(new x(n.segments[t].path,id(e[0]))),r++;continue}const d=Nl(l)?l.outlets[Rt]:`${l}`,p=r<e.length-1?e[r+1]:null;d&&p&&Pl(p)?(i.push(new x(d,id(p))),r+=2):(i.push(new x(d,{})),r++)}return new w(i,{})}function lh(n){const t={};return hn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Rc(new w([],{}),0,e))}),t}function id(n){const t={};return hn(n,(e,i)=>t[i]=`${e}`),t}function hm(n,t,e){return n==e.path&&ns(t,e.parameters)}class po{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),nd(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=kl(e);t.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,r[d],i),delete r[d]}),hn(r,(l,d)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(r===l)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=kl(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],r);if(i&&i.outlet){const d=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=kl(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=kl(e);t.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new ho(l.value.snapshot))}),t.children.length&&this.forwardEvent(new uo(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(nd(r),r===l)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const p=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),nd(p.route.value),this.activateChildRoutes(t,null,d.children)}else{const p=function Yf(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),v=p?p.module.componentFactoryResolver:null;d.attachRef=null,d.route=r,d.resolver=v,d.outlet&&d.outlet.activateWith(r,v),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class ch{constructor(t,e){this.routes=t,this.module=e}}function Ur(n){return"function"==typeof n}function go(n){return n instanceof Br}const Bl=Symbol("INITIAL_VALUE");function mo(){return An(n=>oo(n.map(t=>t.pipe(Ci(1),gr(Bl)))).pipe(Nr((t,e)=>{let i=!1;return e.reduce((r,l,d)=>r!==Bl?r:(l===Bl&&(i=!0),i||!1!==l&&d!==e.length-1&&!go(l)?r:l),t)},Bl),qt(t=>t!==Bl),(0,Et.U)(t=>go(t)?t:!0===t),Ci(1)))}class qf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ua,this.attachRef=null}}class Ua{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new qf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let dh=(()=>{class n{constructor(e,i,r,l,d){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||Rt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const d=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new _m(e,p,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ua),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class _m{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Zo?this.route:t===Ua?this.childContexts:this.parent.get(t,e)}}let hh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},directives:[dh],encapsulation:2}),n})();function rd(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];_o(i,Zf(t,i))}}function _o(n,t){n.children&&rd(n.children,t)}function Zf(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function sd(n){const t=n.children&&n.children.map(sd),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rt&&(e.component=hh),e}function Xi(n){return n.outlet||Rt}function Ha(n,t){const e=n.filter(i=>Xi(i)===t);return e.push(...n.filter(i=>Xi(i)!==t)),e}const Kf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kc(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Kf):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(t.matcher||Xu)(e,n,t);if(!l)return Object.assign({},Kf);const d={};hn(l.posParams,(v,D)=>{d[D]=v.path});const p=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:p,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function Ko(n,t,e,i,r="corrected"){if(e.length>0&&function Xf(n,t,e){return e.some(i=>ja(n,t,i)&&Xi(i)!==Rt)}(n,e,i)){const d=new w(t,function fh(n,t,e,i){const r={};r[Rt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Xi(l)!==Rt){const d=new w([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[Xi(l)]=d}return r}(n,t,i,new w(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function Fc(n,t,e){return e.some(i=>ja(n,t,i))}(n,e,i)){const d=new w(n.segments,function Qf(n,t,e,i,r,l){const d={};for(const p of i)if(ja(n,e,p)&&!r[Xi(p)]){const v=new w([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:t.length,d[Xi(p)]=v}return Object.assign(Object.assign({},r),d)}(n,t,e,i,n.children,r));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const l=new w(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function ja(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ph(n,t,e,i){return!!(Xi(n)===i||i!==Rt&&ja(t,e,n))&&("**"===n.path||kc(t,n,e).matched)}function od(n,t,e){return 0===t.length&&!n.children[e]}class Vl{constructor(t){this.segmentGroup=t||null}}class Qo{constructor(t){this.urlTree=t}}function yo(n){return Ho(new Vl(n))}function gh(n){return Ho(new Qo(n))}class ep{constructor(t,e,i,r,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(c.h0i)}apply(){const t=Ko(this.urlTree.root,[],[],this.config).segmentGroup,e=new w(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Rt).pipe((0,Et.U)(l=>this.createUrlTree(Xo(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wi(l=>{if(l instanceof Qo)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Vl?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Rt).pipe((0,Et.U)(r=>this.createUrlTree(Xo(r),t.queryParams,t.fragment))).pipe(wi(r=>{throw r instanceof Vl?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new w([],{[Rt]:t}):t;return new Br(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Et.U)(l=>new w([],l))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const l of Object.keys(i.children))"primary"===l?r.unshift(l):r.push(l);return(0,kn.D)(r).pipe(Lr(l=>{const d=i.children[l],p=Ha(e,l);return this.expandSegmentGroup(t,p,d,l).pipe((0,Et.U)(v=>({segment:v,outlet:l})))}),Nr((l,d)=>(l[d.outlet]=d.segment,l),{}),function qu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?qt((r,l)=>n(r,l,i)):pr.y,Wu(1),e?Yu(t):Dc(()=>new ao))}())}expandSegment(t,e,i,r,l,d){return(0,kn.D)(i).pipe(Lr(p=>this.expandSegmentAgainstRoute(t,e,i,p,r,l,d).pipe(wi(D=>{if(D instanceof Vl)return Ke(null);throw D}))),Fa(p=>!!p),wi((p,v)=>{if(p instanceof ao||"EmptyError"===p.name)return od(e,r,l)?Ke(new w([],{})):yo(e);throw p}))}expandSegmentAgainstRoute(t,e,i,r,l,d,p){return ph(r,e,l,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,l,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d):yo(e):yo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?gh(l):this.lineralizeSegments(i,l).pipe((0,Un.z)(d=>{const p=new w(d,{});return this.expandSegment(t,p,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d){const{matched:p,consumedSegments:v,remainingSegments:D,positionalParamSegments:T}=kc(e,r,l);if(!p)return yo(e);const O=this.applyRedirectCommands(v,r.redirectTo,T);return r.redirectTo.startsWith("/")?gh(O):this.lineralizeSegments(r,O).pipe((0,Un.z)(V=>this.expandSegment(t,e,i,V.concat(D),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ke(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Et.U)(O=>(i._loadedConfig=O,new w(r,{})))):Ke(new w(r,{}));const{matched:d,consumedSegments:p,remainingSegments:v}=kc(e,i,r);return d?this.getChildConfig(t,i,r).pipe((0,Un.z)(T=>{const O=T.module,V=T.routes,{segmentGroup:K,slicedSegments:ie}=Ko(e,p,v,V),Ce=new w(K.segments,K.children);if(0===ie.length&&Ce.hasChildren())return this.expandChildren(O,V,Ce).pipe((0,Et.U)(Gt=>new w(p,Gt)));if(0===V.length&&0===ie.length)return Ke(new w(p,{}));const Be=Xi(i)===l;return this.expandSegment(O,Ce,V,ie,Be?Rt:l,!0).pipe((0,Et.U)(gt=>new w(p.concat(gt.segments),gt.children)))})):yo(e)}getChildConfig(t,e,i){return e.children?Ke(new ch(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ke(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Un.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,Et.U)(l=>(e._loadedConfig=l,l))):function ym(n){return Ho(Ss(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Ke(new ch([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?Ke(r.map(d=>{const p=t.get(d);let v;if(function pm(n){return n&&Ur(n.canLoad)}(p))v=p.canLoad(e,i);else{if(!Ur(p))throw new Error("Invalid CanLoad guard");v=p(e,i)}return qn(v)})).pipe(mo(),(0,Ki.b)(d=>{if(!go(d))return;const p=Ss(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw p.url=d,p}),(0,Et.U)(d=>!0===d)):Ke(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ke(i);if(r.numberOfChildren>1||!r.children[Rt])return Ho(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Rt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const l=this.createSegmentGroup(t,e.root,i,r);return new Br(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return hn(t,(r,l)=>{if("string"==typeof r&&r.startsWith(":")){const p=r.substring(1);i[l]=e[p]}else i[l]=r}),i}createSegmentGroup(t,e,i,r){const l=this.createSegments(t,e.segments,i,r);let d={};return hn(e.children,(p,v)=>{d[v]=this.createSegmentGroup(t,p,i,r)}),new w(l,d)}createSegments(t,e,i,r){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,r):this.findOrReturn(l,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Xo(n){const t={};for(const i of Object.keys(n.children)){const l=Xo(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function ad(n){if(1===n.numberOfChildren&&n.children[Rt]){const t=n.children[Rt];return new w(n.segments.concat(t.segments),t.children)}return n}(new w(n.segments,t))}class vo{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ld{constructor(t,e){this.component=t,this.route=e}}function mh(n,t,e){const i=n._root;return ea(i,t?t._root:null,e,[i.value])}function Ii(n,t,e){const i=function Jo(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function ea(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=kl(t);return n.children.forEach(d=>{(function tp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function cd(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!B(n.url,t.url);case"pathParamsOrQueryParamsChange":return!B(n.url,t.url)||!ns(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jn(n,t)||!ns(n.queryParams,t.queryParams);default:return!Jn(n,t)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new vo(i)):(l.data=d.data,l._resolvedData=d._resolvedData),ea(n,t,l.component?p?p.children:null:e,i,r),v&&p&&p.outlet&&p.outlet.isActivated&&r.canDeactivateChecks.push(new ld(p.outlet.component,d))}else d&&ta(t,p,r),r.canActivateChecks.push(new vo(i)),ea(n,null,l.component?p?p.children:null:e,i,r)})(d,l[d.value.outlet],e,i.concat([d.value]),r),delete l[d.value.outlet]}),hn(l,(d,p)=>ta(d,e.getContext(p),r)),r}function ta(n,t,e){const i=kl(n),r=n.value;hn(i,(l,d)=>{ta(l,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new ld(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class _h{}function Bi(n){return new cn.y(t=>t.error(n))}class vh{constructor(t,e,i,r,l,d){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const t=Ko(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Rt);if(null===e)return null;const i=new La([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new fo(i,e),l=new Si(this.url,r);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=Gf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const d=e.children[l],p=Ha(t,l),v=this.processSegmentGroup(p,d,l);if(null===v)return null;i.push(...v)}const r=bh(i);return function wm(n){n.sort((t,e)=>t.value.outlet===Rt?-1:e.value.outlet===Rt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const l of t){const d=this.processSegmentAgainstRoute(l,e,i,r);if(null!==d)return d}return od(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!ph(t,e,i,r))return null;let l,d=[],p=[];if("**"===t.path){const K=i.length>0?xl(i).parameters:{};l=new La(i,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dm(t),Xi(t),t.component,t,rp(e),ud(e)+i.length,sp(t))}else{const K=kc(e,t,i);if(!K.matched)return null;d=K.consumedSegments,p=K.remainingSegments,l=new La(d,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dm(t),Xi(t),t.component,t,rp(e),ud(e)+d.length,sp(t))}const v=function Co(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:D,slicedSegments:T}=Ko(e,d,p,v.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===T.length&&D.hasChildren()){const K=this.processChildren(v,D);return null===K?null:[new fo(l,K)]}if(0===v.length&&0===T.length)return[new fo(l,[])];const O=Xi(t)===r,V=this.processSegment(v,D,T,O?Rt:r);return null===V?null:[new fo(l,V)]}}function Hl(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function bh(n){const t=[],e=new Set;for(const i of n){if(!Hl(i)){t.push(i);continue}const r=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=bh(i.children);t.push(new fo(i.value,r))}return t.filter(i=>!e.has(i))}function rp(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ud(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Dm(n){return n.data||{}}function sp(n){return n.resolve||{}}function g(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function S(n){return An(t=>{const e=n(t);return e?(0,kn.D)(e).pipe((0,Et.U)(()=>t)):Ke(t)})}class pe extends class W{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Oe=new c.OlP("ROUTES");class $e{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,Et.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const d=l.create(t);return new ch(Jd(d.injector.get(Oe,void 0,c.XFs.Self|c.XFs.Optional)).map(sd),d)}),wi(l=>{throw e._loader$=void 0,l}));return e._loader$=new bi(r,()=>new St.x).pipe(Ec()),e._loader$}loadModuleFactory(t){return qn(t()).pipe((0,Un.z)(e=>e instanceof c.YKP?Ke(e):(0,kn.D)(this.compiler.compileModuleAsync(e))))}}class at{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ei(n){throw n}function Hr(n,t,e){return t.parse("/")}function Lc(n,t){return Ke(null)}const ap={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ch={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let di=(()=>{class n{constructor(e,i,r,l,d,p,v){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new St.x,this.errorHandler=ei,this.malformedUriErrorHandler=Hr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Lc,afterPreactivation:Lc},this.urlHandlingStrategy=new at,this.routeReuseStrategy=new pe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const O=d.get(c.R0b);this.isNgZoneEnabled=O instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Al(){return new Br(new w([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $e(d,p,V=>this.triggerEvent(new Di(V)),V=>this.triggerEvent(new Na(V))),this.routerState=am(this.currentUrlTree,this.rootComponentType),this.transitions=new Wn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(qt(r=>0!==r.id),(0,Et.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),An(r=>{let l=!1,d=!1;return Ke(r).pipe((0,Ki.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),An(p=>{const v=this.browserUrlTree.toString(),D=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return $a(p.source)&&(this.browserUrlTree=p.extractedUrl),Ke(p).pipe(An(O=>{const V=this.transitions.getValue();return i.next(new Qd(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),V!==this.transitions.getValue()?Li.E:Promise.resolve(O)}),function Pc(n,t,e,i){return An(r=>function vm(n,t,e,i,r){return new ep(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Et.U)(l=>Object.assign(Object.assign({},r),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ki.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function Nc(n,t,e,i,r){return(0,Un.z)(l=>function yh(n,t,e,i,r="emptyOnly",l="legacy"){try{const d=new vh(n,t,e,i,r,l).recognize();return null===d?Bi(new _h):Ke(d)}catch(d){return Bi(d)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,r).pipe((0,Et.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ki.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(K,O)}this.browserUrlTree=O.urlAfterRedirects}const V=new $o(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);i.next(V)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:K,source:ie,restoredState:Ce,extras:Be}=p,Je=new Qd(V,this.serializeUrl(K),ie,Ce);i.next(Je);const gt=am(K,this.rootComponentType).snapshot;return Ke(Object.assign(Object.assign({},p),{targetSnapshot:gt,urlAfterRedirects:K,extras:Object.assign(Object.assign({},Be),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),Li.E}),S(p=>{const{targetSnapshot:v,id:D,extractedUrl:T,rawUrl:O,extras:{skipLocationChange:V,replaceUrl:K}}=p;return this.hooks.beforePreactivation(v,{navigationId:D,appliedUrlTree:T,rawUrlTree:O,skipLocationChange:!!V,replaceUrl:!!K})}),(0,Ki.b)(p=>{const v=new Pa(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,Et.U)(p=>Object.assign(Object.assign({},p),{guards:mh(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function Ga(n,t){return(0,Un.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:d}}=e;return 0===d.length&&0===l.length?Ke(Object.assign(Object.assign({},e),{guardsResult:!0})):function np(n,t,e,i){return(0,kn.D)(n).pipe((0,Un.z)(r=>function Ul(n,t,e,i,r){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?Ke(l.map(p=>{const v=Ii(p,t,r);let D;if(function mm(n){return n&&Ur(n.canDeactivate)}(v))D=qn(v.canDeactivate(n,t,e,i));else{if(!Ur(v))throw new Error("Invalid CanDeactivate guard");D=qn(v(n,t,e,i))}return D.pipe(Fa())})).pipe(mo()):Ke(!0)}(r.component,r.route,e,t,i)),Fa(r=>!0!==r,!0))}(d,i,r,n).pipe((0,Un.z)(p=>p&&function fm(n){return"boolean"==typeof n}(p)?function bm(n,t,e,i){return(0,kn.D)(t).pipe(Lr(r=>ka(function ip(n,t){return null!==n&&t&&t(new xc(n)),Ke(!0)}(r.route.parent,i),function na(n,t){return null!==n&&t&&t(new zo(n)),Ke(!0)}(r.route,i),function bo(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(d=>function Tv(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Go(()=>Ke(d.guards.map(v=>{const D=Ii(v,d.node,e);let T;if(function uh(n){return n&&Ur(n.canActivateChild)}(D))T=qn(D.canActivateChild(i,n));else{if(!Ur(D))throw new Error("Invalid CanActivateChild guard");T=qn(D(i,n))}return T.pipe(Fa())})).pipe(mo())));return Ke(l).pipe(mo())}(n,r.path,e),function Cm(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ke(!0);const r=i.map(l=>Go(()=>{const d=Ii(l,t,e);let p;if(function gm(n){return n&&Ur(n.canActivate)}(d))p=qn(d.canActivate(t,n));else{if(!Ur(d))throw new Error("Invalid CanActivate guard");p=qn(d(t,n))}return p.pipe(Fa())}));return Ke(r).pipe(mo())}(n,r.route,e))),Fa(r=>!0!==r,!0))}(i,l,n,t):Ke(p)),(0,Et.U)(p=>Object.assign(Object.assign({},e),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Ki.b)(p=>{if(go(p.guardsResult)){const D=Ss(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw D.url=p.guardsResult,D}const v=new Ku(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),qt(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),S(p=>{if(p.guards.canActivateChecks.length)return Ke(p).pipe((0,Ki.b)(v=>{const D=new Xd(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),An(v=>{let D=!1;return Ke(v).pipe(function op(n,t){return(0,Un.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ke(e);let l=0;return(0,kn.D)(r).pipe(Lr(d=>function _(n,t,e,i){return function f(n,t,e,i){const r=g(n);if(0===r.length)return Ke({});const l={};return(0,kn.D)(r).pipe((0,Un.z)(d=>function b(n,t,e,i){const r=Ii(n,t,i);return qn(r.resolve?r.resolve(t,e):r(t,e))}(n[d],t,e,i).pipe((0,Ki.b)(p=>{l[d]=p}))),Wu(1),(0,Un.z)(()=>g(l).length===r.length?Ke(l):Li.E))}(n._resolve,n,t,i).pipe((0,Et.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Gf(n,e).resolve),null)))}(d.route,i,n,t)),(0,Ki.b)(()=>l++),Wu(1),(0,Un.z)(d=>l===r.length?Ke(e):Li.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ki.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Ki.b)(v=>{const D=new Ei(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),S(p=>{const{targetSnapshot:v,id:D,extractedUrl:T,rawUrl:O,extras:{skipLocationChange:V,replaceUrl:K}}=p;return this.hooks.afterPreactivation(v,{navigationId:D,appliedUrlTree:T,rawUrlTree:O,skipLocationChange:!!V,replaceUrl:!!K})}),(0,Et.U)(p=>{const v=function Fl(n,t,e){const i=Ba(n,t._root,e?e._root:void 0);return new jf(i,t)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),(0,Ki.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,Et.U)(i=>(new po(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Ki.b)({next(){l=!0},complete(){l=!0}}),function Bf(n){return(0,wn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var p;l||d||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===r.id&&(this.currentNavigation=null)}),wi(p=>{if(d=!0,function Is(n){return n&&n[Hn]}(p)){const v=go(p.url);v||(this.navigated=!0,this.restoreHistory(r,!0));const D=new Zu(r.id,this.serializeUrl(r.extractedUrl),p.message);i.next(D),v?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),O={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$a(r.source)};this.scheduleNavigation(T,"imperative",null,O,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const v=new Sn(r.id,this.serializeUrl(r.extractedUrl),p);i.next(v);try{r.resolve(this.errorHandler(p))}catch(D){r.reject(D)}}return Li.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const l={replaceUrl:!0},d=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(l.state=v)}const p=this.parseUrl(e.url);this.scheduleNavigation(p,i,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){rd(e),this.config=e.map(sd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:l,fragment:d,queryParamsHandling:p,preserveFragment:v}=i,D=r||this.routerState.root,T=v?this.currentUrlTree.fragment:d;let O=null;switch(p){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function $f(n,t,e,i,r){if(0===e.length)return Tc(t.root,t.root,t.root,i,r);const l=function dm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return hn(l.outlets,(v,D)=>{p[D]="string"==typeof v?v.split("/"):v}),[...r,{outlets:p}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===d?(l.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?e=!0:".."===p?t++:""!=p&&r.push(p))}),r):[...r,l]},[]);return new sh(e,t,i)}(e);if(l.toRoot())return Tc(t.root,t.root,new w([],{}),i,r);const d=function oh(n,t,e){if(n.isAbsolute)return new Va(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new Va(l,l===t.root,0)}const i=Pl(n.commands[0])?0:1;return function zf(n,t,e){let i=n,r=t,l=e;for(;l>r;){if(l-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Va(i,!1,r-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),p=d.processChildren?Mc(d.segmentGroup,d.index,l.commands):Ll(d.segmentGroup,d.index,l.commands);return Tc(t.root,d.segmentGroup,p,i,r)}(D,this.currentUrlTree,e,O,null!=T?T:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=go(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function wh(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},ap):!1===i?Object.assign({},Ch):i,go(e))return Yo(this.currentUrlTree,e,r);const l=this.parseUrl(e);return Yo(this.currentUrlTree,l,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const l=e[r];return null!=l&&(i[r]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new es(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,l,d){var p,v;if(this.disposed)return Promise.resolve(!1);let D,T,O;d?(D=d.resolve,T=d.reject,O=d.promise):O=new Promise((ie,Ce)=>{D=ie,T=Ce});const V=++this.navigationId;let K;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),K=r&&r.\u0275routerPageId?r.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):K=0,this.setTransition({id:V,targetPageId:K,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:D,reject:T,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(ie=>Promise.reject(ie))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",l):this.location.go(r,"",l)}restoreHistory(e,i=!1){var r,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Zu(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function $a(n){return"imperative"!==n}class dd{}class Am{preload(t,e){return Ke(null)}}let Mv=(()=>{class n{constructor(e,i,r,l){this.router=e,this.injector=r,this.preloadingStrategy=l,this.loader=new $e(r,i,v=>e.triggerEvent(new Di(v)),v=>e.triggerEvent(new Na(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(qt(e=>e instanceof es),Lr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(c.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;r.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?r.push(this.preloadConfig(e,l)):l.children&&r.push(this.processRoutes(e,l.children));return(0,kn.D)(r).pipe((0,lo.J)(),(0,Et.U)(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Ke(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Un.z)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(di),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(dd))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Sm=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Qd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof es&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Dl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Dl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vc=new c.OlP("ROUTER_CONFIGURATION"),Rv=new c.OlP("ROUTER_FORROOT_GUARD"),tS=[ge,{provide:re,useClass:Se},{provide:di,useFactory:function BE(n,t,e,i,r,l,d={},p,v){const D=new di(null,n,t,e,i,r,Jd(l));return p&&(D.urlHandlingStrategy=p),v&&(D.routeReuseStrategy=v),function VE(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),d.enableTracing&&D.events.subscribe(T=>{var O,V;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(V=console.groupEnd)||void 0===V||V.call(console)}),D},deps:[re,Ua,ge,c.zs3,c.Sil,Oe,Vc,[class ct{},new c.FiY],[class k{},new c.FiY]]},Ua,{provide:Zo,useFactory:function cp(n){return n.routerState.root},deps:[di]},Mv,Am,class Eh{preload(t,e){return e().pipe(wi(()=>Ke(null)))}},{provide:Vc,useValue:{enableTracing:!1}}];function nS(){return new c.PXZ("Router",di)}let Rs=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[tS,lp(e),{provide:Rv,useFactory:LE,deps:[[di,new c.FiY,new c.tp0]]},{provide:Vc,useValue:i||{}},{provide:he,useFactory:NE,deps:[ce,[new c.tBr(Ue),new c.FiY],Vc]},{provide:Sm,useFactory:Im,deps:[di,dc,Vc]},{provide:dd,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Am},{provide:c.PXZ,multi:!0,useFactory:nS},[Tm,{provide:c.ip1,multi:!0,useFactory:UE,deps:[Tm]},{provide:Ov,useFactory:HE,deps:[Tm]},{provide:c.tb,multi:!0,useExisting:Ov}]]}}static forChild(e){return{ngModule:n,providers:[lp(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rv,8),c.LFG(di,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Im(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Sm(n,t,e)}function NE(n,t,e={}){return e.useHash?new Te(n,t):new ze(n,t)}function LE(n){return"guarded"}function lp(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Oe,multi:!0,useValue:n}]}let Tm=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new St.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(p=>i=p),l=this.injector.get(di),d=this.injector.get(Vc);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?Ke(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Vc),r=this.injector.get(Mv),l=this.injector.get(Sm),d=this.injector.get(di),p=this.injector.get(c.z2F);e===p.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&d.initialNavigation(),r.setUpPreloading(),l.init(),d.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function UE(n){return n.appInitializer.bind(n)}function HE(n){return n.bootstrapListener.bind(n)}const Ov=new c.OlP("Router Initializer"),GE=[];let $E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Rs.forRoot(GE)],Rs]}),n})();var up=F(4986),za=F(6451),Uc=F(3099);function wo(n,t=pr.y){return n=null!=n?n:rS,(0,wn.e)((e,i)=>{let r,l=!0;e.subscribe((0,Cn.x)(i,d=>{const p=t(d);(l||!n(r,p))&&(l=!1,r=p,i.next(d))}))})}function rS(n,t){return n===t}var zE=F(5032),rs=F(2122),ra=F(2011),YE=(F(9169),F(3942)),Gl=F(4859),Hc=F(5861),jc=F(9681),N=F(2090),dp=F(1877);const Mm="@firebase/database";let Rm="";function Pv(n){Rm=n}class qE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Nv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Lv=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new qE(t)}}catch(t){}return new Nv},Gc=Lv("localStorage"),Om=Lv("sessionStorage"),yt=new dp.Yd("@firebase/database"),km=function(){let n=1;return function(){return n++}}(),Fm=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},hd=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=hd.apply(null,i):t+="object"==typeof i?(0,N.Wl)(i):i,t+=" "}return t};let sa=null,Os=!0;const Pm=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(yt.logLevel=dp.in.VERBOSE,sa=yt.log.bind(yt),t&&Om.set("logging_enabled",!0)):"function"==typeof n?sa=n:(sa=null,Om.remove("logging_enabled"))},Ti=function(...n){if(!0===Os&&(Os=!1,null===sa&&!0===Om.get("logging_enabled")&&Pm(!0)),sa){const t=hd.apply(null,n);sa(t)}},$c=function(n){return function(...t){Ti(n,...t)}},Eo=function(...n){const t="FIREBASE INTERNAL ERROR: "+hd(...n);yt.error(t)},ks=function(...n){const t=`FIREBASE FATAL ERROR: ${hd(...n)}`;throw yt.error(t),new Error(t)},Vi=function(...n){const t="FIREBASE WARNING: "+hd(...n);yt.warn(t)},Lm=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zc="[MIN_NAME]",Fs="[MAX_NAME]",oa=function(n,t){if(n===t)return 0;if(n===zc||t===Fs)return-1;if(t===zc||n===Fs)return 1;{const e=Vm(n),i=Vm(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Bm=function(n,t){return n===t?0:n<t?-1:1},Wc=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Wl)(t))},Dh=function(n){if("object"!=typeof n||null===n)return(0,N.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Wl)(t[i]),e+=":",e+=Dh(n[t[i]]);return e+="}",e},ZE=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Mi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Vv=function(n){(0,N.hu)(!Lm(n),"Invalid JSON number");const i=1023;let r,l,d,p,v;0===n?(l=0,d=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=p+i,d=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(l=0,d=Math.round(n/Math.pow(2,-1074))));const D=[];for(v=52;v;v-=1)D.push(d%2?1:0),d=Math.floor(d/2);for(v=11;v;v-=1)D.push(l%2?1:0),l=Math.floor(l/2);D.push(r?1:0),D.reverse();const T=D.join("");let O="";for(v=0;v<64;v+=8){let V=parseInt(T.substr(v,8),2).toString(16);1===V.length&&(V="0"+V),O+=V}return O.toLowerCase()},oS=new RegExp("^-?(0*)\\d{1,10}$"),Vm=function(n){if(oS.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Yc=function(n){try{n()}catch(t){setTimeout(()=>{throw Vi("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},qc=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class lS{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Vi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class cS{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ti("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vi(t)}}let hp=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const s0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hv="websocket",Hm="long_polling";class Ah{constructor(t,e,i,r,l=!1,d="",p=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=l,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gc.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gc.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function fp(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===Hv)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Hm)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function jv(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Mi(e,(l,d)=>{r.push(l+"="+d)}),i+r.join("&")}class a0{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const aa={},pp={};function jm(n){const t=n.toString();return aa[t]||(aa[t]=new a0),aa[t]}class l0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Yc(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ya{constructor(t,e,i,r,l,d,p){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=l,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$c(t),this.stats_=jm(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),fp(e,Hm,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new l0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Wv((...l)=>{const[d,p,v,D,T]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=p,this.password=v;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[d,p]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&s0.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ya.forceAllow_=!0}static forceDisallow(){Ya.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Ya.forceAllow_&&(Ya.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=ZE(i,1840);for(let l=0;l<r.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Wv{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=km(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Wv.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){Ti("frame writing exception"),p.stack&&Ti(p.stack),Ti(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Ti("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+r+"="+d.seg+"&ts"+r+"="+d.ts+"&d"+r+"="+d.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Ti("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let vp=null;"undefined"!=typeof MozWebSocket?vp=MozWebSocket:"undefined"!=typeof WebSocket&&(vp=WebSocket);let Qc=(()=>{class n{constructor(e,i,r,l,d,p,v){this.connId=e,this.applicationId=r,this.appCheckToken=l,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$c(this.connId),this.stats_=jm(i),this.connURL=n.connectionURL_(i,p,v,l,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,l,d){const p={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&s0.test(location.hostname)&&(p.r="f"),i&&(p.s=i),r&&(p.ls=r),l&&(p.ac=l),d&&(p.p=d),fp(e,Hv,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gc.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){r={headers:{"User-Agent":`Firebase/5/${Rm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,p=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;p&&(r.proxy={origin:p})}this.mySock=new vp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==vp&&!n.forceDisallow_}static previouslyFailed(){return Gc.isInMemoryStorage||!0===Gc.get("previous_websocket_failure")}markConnectionHealthy(){Gc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=ZE(i,16384);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Zv=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ya,Qc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Qc&&Qc.isAvailable();let r=i&&!Qc.previouslyFailed();if(e.webSocketOnly&&(i||Vi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qc];else{const l=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&l.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Wm{constructor(t,e,i,r,l,d,p,v,D,T){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=l,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=v,this.onKill_=D,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$c("c:"+this.id+":"),this.transportManager_=new Zv(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=qc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Wc("t",t),i=Wc("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Wc("t",t),i=Wc("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Wc("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Eo("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Eo("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Vi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),qc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class eb{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Ym{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let l=0;l<r.length;l++)if(r[l].callback===e&&(!i||i===r[l].context))return void r.splice(l,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Cp extends Ym{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cp}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class en{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Qt(){return new en("")}function bt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function la(n){return n.pieces_.length-n.pieceNum_}function pn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new en(n.pieces_,t)}function Zm(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function pd(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function nb(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new en(t,0)}function Tn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof en)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new en(e,0)}function Pt(n){return n.pieceNum_>=n.pieces_.length}function Ui(n,t){const e=bt(n),i=bt(t);if(null===e)return t;if(e===i)return Ui(pn(n),pn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function b0(n,t){const e=pd(n,0),i=pd(t,0);for(let r=0;r<e.length&&r<i.length;r++){const l=oa(e[r],i[r]);if(0!==l)return l}return e.length===i.length?0:e.length<i.length?-1:1}function Km(n,t){if(la(n)!==la(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function mr(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(la(n)>la(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Qm{constructor(t,e){this.errorPrefix_=e,this.parts_=pd(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);wp(this)}}function wp(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$l(n))}function $l(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class ib extends Ym{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ib}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ep=1e3;let Xc,zl=(()=>{class n extends eb{constructor(e,i,r,l,d,p,v,D){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=d,this.authTokenProvider_=p,this.appCheckTokenProvider_=v,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=$c("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ep,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ib.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Cp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const l=++this.requestNumber_,d={r:l,a:e,b:i};this.log_((0,N.Wl)(d)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[l]=r)}get(e){this.initConnection_();const i=new N.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:p=>{const v=p.d;"ok"===p.s?i.resolve(v):i.reject(v)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,l){this.initConnection_();const d=e._queryIdentifier,p=e._path.toString();this.log_("Listen called for "+p+" "+d),this.listens.has(p)||this.listens.set(p,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(p).has(d),"listen() called twice for same path/queryId.");const v={onComplete:l,hashFn:i,query:e,tag:r};this.listens.get(p).set(d,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+r+" for "+l);const d={p:r};e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,v=>{const D=v.d,T=v.s;n.warnOnListenWarnings_(D,i),(this.listens.get(r)&&this.listens.get(r).get(l))===e&&(this.log_("listen response",v),"ok"!==T&&this.removeListen_(r,l),e.onComplete&&e.onComplete(T,D))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();Vi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,l=>{const d=l.s,p=l.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,e._queryObject,i)}sendUnlisten_(e,i,r,l){this.log_("Unlisten on "+e+" for "+i);const d={p:e};l&&(d.q=r,d.t=l),this.sendRequest("n",d)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,l){const d={p:i,d:r};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,p=>{l&&setTimeout(()=>{l(p.s,p.d)},Math.floor(0))})}put(e,i,r,l){this.putInternal("p",e,i,r,l)}merge(e,i,r,l){this.putInternal("m",e,i,r,l)}putInternal(e,i,r,l,d){this.initConnection_();const p={p:i,d:r};void 0!==d&&(p.h=d),this.outstandingPuts_.push({action:e,request:p,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Eo("Unrecognized action received from server: "+(0,N.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ep,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ep,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ep),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Hc.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,p=e.lastSessionId;let v=!1,D=null;const T=function(){D?D.close():(v=!0,l())};e.realtime_={close:T,sendRequest:function(K){(0,N.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(K)}};const V=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[K,ie]=yield Promise.all([e.authTokenProvider_.getToken(V),e.appCheckTokenProvider_.getToken(V)]);v?Ti("getToken() completed but was canceled"):(Ti("getToken() completed. Creating connection."),e.authToken_=K&&K.accessToken,e.appCheckToken_=ie&&ie.token,D=new Wm(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,l,Ce=>{Vi(Ce+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},p))}catch(K){e.log_("Failed to get token: "+K),v||(e.repoInfo_.nodeAdmin&&Vi(K),T())}}})()}interrupt(e){Ti("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ti("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ep,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(d=>Dh(d)).join("$"):"default";const l=this.removeListen_(e,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const r=new en(e).toString();let l;if(this.listens.has(r)){const d=this.listens.get(r);l=d.get(i),d.delete(i),0===d.size&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(e,i){Ti("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ti("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Rm.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cp.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Nt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Nt(t,e)}}class Ps{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Nt(zc,t),r=new Nt(zc,e);return 0!==this.compare(i,r)}minPost(){return Nt.MIN}}class ob extends Ps{static get __EMPTY_NODE(){return Xc}static set __EMPTY_NODE(t){Xc=t}compare(t,e){return oa(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Nt.MIN}maxPost(){return new Nt(Fs,Xc)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Nt(t,Xc)}toString(){return".key"}}const ca=new ob;class t_{constructor(t,e,i,r,l=null){this.isReverse_=r,this.resultGenerator_=l,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(d=e?i(t.key,e):1,r&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Mh,os=(()=>{class n{constructor(e,i,r,l,d){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=l?l:Ji.EMPTY_NODE,this.right=null!=d?d:Ji.EMPTY_NODE}copy(e,i,r,l,d){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=l?l:this.left,null!=d?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const d=r(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,i,r),null):0===d?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ji.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,l;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ji.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ji{constructor(t,e=Ji.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ji(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,os.BLACK,null,null))}remove(t){return new Ji(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,os.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new t_(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new t_(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new t_(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new t_(this.root_,null,this.comparator_,!0,t)}}function Th(n,t){return oa(n.name,t.name)}function n_(n,t){return oa(n,t)}Ji.EMPTY_NODE=new class ab{copy(t,e,i,r,l){return this}insert(t,e,i){return new os(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const i_=function(n){return"number"==typeof n?"number:"+Vv(n):"string:"+n},r_=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===Mh||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===Mh||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let cb,ub,db,Wl=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),r_(this.priorityNode_)}static set __childrenNodeConstructor(e){cb=e}static get __childrenNodeConstructor(){return cb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pt(e)?this:".priority"===bt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=bt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===la(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(pn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+i_(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Vv(this.value_):this.value_,this.lazyHash_=Fm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),d=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(l>=0,"Unknown leaf type: "+i),(0,N.hu)(d>=0,"Unknown leaf type: "+r),l===d?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const yn=new class fb extends Ps{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),l=i.compareTo(r);return 0===l?oa(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Nt.MIN}maxPost(){return new Nt(Fs,new Wl("[PRIORITY-POST]",db))}makePost(t,e){const i=ub(t);return new Nt(e,new Wl("[PRIORITY-POST]",i))}toString(){return".priority"}},D0=Math.log(2);class md{constructor(t){this.count=parseInt(Math.log(t+1)/D0,10),this.current_=this.count-1;const r=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Dp=function(n,t,e,i){n.sort(t);const r=function(v,D){const T=D-v;let O,V;if(0===T)return null;if(1===T)return O=n[v],V=e?e(O):O,new os(V,O.node,os.BLACK,null,null);{const K=parseInt(T/2,10)+v,ie=r(v,K),Ce=r(K+1,D);return O=n[K],V=e?e(O):O,new os(V,O.node,os.BLACK,ie,Ce)}},p=function(v){let D=null,T=null,O=n.length;const V=function(ie,Ce){const Be=O-ie,Je=O;O-=ie;const gt=r(Be+1,Je),Gt=n[Be],Tt=e?e(Gt):Gt;K(new os(Tt,Gt.node,Ce,null,gt))},K=function(ie){D?(D.left=ie,D=ie):(T=ie,D=ie)};for(let ie=0;ie<v.count;++ie){const Ce=v.nextBitIsOne(),Be=Math.pow(2,v.count-(ie+1));Ce?V(Be,os.BLACK):(V(Be,os.BLACK),V(Be,os.RED))}return T}(new md(n.length));return new Ji(i||t,p)};let s_;const _d={};class qa{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(_d&&yn,"ChildrenNode.ts has not been loaded"),s_=s_||new qa({".priority":_d},{".priority":yn}),s_}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ji?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==ca,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const l=e.getIterator(Nt.Wrap);let p,d=l.getNext();for(;d;)r=r||t.isDefinedOn(d.node),i.push(d),d=l.getNext();p=r?Dp(i,t.getCompare()):_d;const v=t.toString(),D=Object.assign({},this.indexSet_);D[v]=t;const T=Object.assign({},this.indexes_);return T[v]=p,new qa(T,D)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,l)=>{const d=(0,N.DV)(this.indexSet_,l);if((0,N.hu)(d,"Missing index implementation for "+l),r===_d){if(d.isDefinedOn(t.node)){const p=[],v=e.getIterator(Nt.Wrap);let D=v.getNext();for(;D;)D.name!==t.name&&p.push(D),D=v.getNext();return p.push(t),Dp(p,d.getCompare())}return _d}{const p=e.get(t.name);let v=r;return p&&(v=v.remove(new Nt(t.name,p))),v.insert(t,t.node)}});return new qa(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===_d)return r;{const l=e.get(t.name);return l?r.remove(new Nt(t.name,l)):r}});return new qa(i,this.indexSet_)}}let jr,At=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&r_(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jr||(jr=new n(new Ji(n_),null,qa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jr}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?jr:i}}getChild(e){const i=bt(e);return null===i?this:this.getImmediateChild(i).getChild(pn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Nt(e,i);let l,d;i.isEmpty()?(l=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(r,this.children_));const p=l.isEmpty()?jr:this.priorityNode_;return new n(l,p,d)}}updateChild(e,i){const r=bt(e);if(null===r)return i;{(0,N.hu)(".priority"!==bt(e)||1===la(e),".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(pn(e),i);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,l=0,d=!0;if(this.forEachChild(yn,(p,v)=>{i[p]=v.val(e),r++,d&&n.INTEGER_REGEXP_.test(p)?l=Math.max(l,Number(p)):d=!1}),!e&&d&&l<2*r){const p=[];for(const v in i)p[v]=i[v];return p}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+i_(this.getPriority().val())+":"),this.forEachChild(yn,(i,r)=>{const l=r.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":Fm(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const l=this.resolveIndex_(r);if(l){const d=l.getPredecessorKey(new Nt(e,i));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Nt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Nt(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Nt.Wrap);let d=l.peek();for(;null!=d&&i.compare(d,e)<0;)l.getNext(),d=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Nt.Wrap);let d=l.peek();for(;null!=d&&i.compare(d,e)>0;)l.getNext(),d=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yd?-1:0}withIndex(e){if(e===ca||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ca||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(yn),l=i.getIterator(yn);let d=r.getNext(),p=l.getNext();for(;d&&p;){if(d.name!==p.name||!d.node.equals(p.node))return!1;d=r.getNext(),p=l.getNext()}return null===d&&null===p}return!1}return!1}}resolveIndex_(e){return e===ca?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const yd=new class pb extends At{constructor(){super(new Ji(n_),At.EMPTY_NODE,qa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return At.EMPTY_NODE}isEmpty(){return!1}};function Mn(n,t=null){if(null===n)return At.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Wl(n,Mn(t));if(n instanceof Array){let e=At.EMPTY_NODE;return Mi(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const l=Mn(r);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(Mn(t))}{const e=[];let i=!1;if(Mi(n,(d,p)=>{if("."!==d.substring(0,1)){const v=Mn(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),e.push(new Nt(d,v)))}}),0===e.length)return At.EMPTY_NODE;const l=Dp(e,Th,d=>d.name,n_);if(i){const d=Dp(e,yn.getCompare());return new At(l,Mn(t),new qa({".priority":d},{".priority":yn}))}return new At(l,Mn(t),qa.Default)}}Object.defineProperties(Nt,{MIN:{value:new Nt(zc,At.EMPTY_NODE)},MAX:{value:new Nt(Fs,yd)}}),ob.__EMPTY_NODE=At.EMPTY_NODE,Wl.__childrenNodeConstructor=At,function lb(n){Mh=n}(yd),function gd(n){db=n}(yd),function hb(n){ub=n}(Mn);class o_ extends Ps{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!Pt(t)&&".priority"!==bt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),l=i.compareTo(r);return 0===l?oa(t.name,e.name):l}makePost(t,e){const i=Mn(t),r=At.EMPTY_NODE.updateChild(this.indexPath_,i);return new Nt(e,r)}maxPost(){const t=At.EMPTY_NODE.updateChild(this.indexPath_,yd);return new Nt(Fs,t)}toString(){return pd(this.indexPath_,0).join("/")}}const a_=new class x0 extends Ps{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?oa(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Nt.MIN}maxPost(){return Nt.MAX}makePost(t,e){const i=Mn(t);return new Nt(e,i)}toString(){return".value"}};function mb(n){return{type:"value",snapshotNode:n}}function Jc(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function xp(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function vd(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class l_{constructor(t){this.index_=t}updateChild(t,e,i,r,l,d){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(e);return p.getChild(r).equals(i.getChild(r))&&p.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?t.hasChild(e)?d.trackChildChange(xp(e,p)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?d.trackChildChange(Jc(e,i)):d.trackChildChange(vd(e,i,p))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(yn,(r,l)=>{e.hasChild(r)||i.trackChildChange(xp(r,l))}),e.isLeafNode()||e.forEachChild(yn,(r,l)=>{if(t.hasChild(r)){const d=t.getImmediateChild(r);d.equals(l)||i.trackChildChange(vd(r,l,d))}else i.trackChildChange(Jc(r,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?At.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ap{constructor(t){this.indexedFilter_=new l_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ap.getStartPost_(t),this.endPost_=Ap.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,l,d){return this.matches(new Nt(e,i))||(i=At.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,l,d)}updateFullNode(t,e,i){e.isLeafNode()&&(e=At.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(At.EMPTY_NODE);const l=this;return e.forEachChild(yn,(d,p)=>{l.matches(new Nt(d,p))||(r=r.updateImmediateChild(d,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class dS{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ap(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,l,d){return this.rangedFilter_.matches(new Nt(e,i))||(i=At.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,l,d):this.fullLimitUpdateChild_(t,e,i,l,d)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=At.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;r=At.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;l.hasNext()&&d<this.limit_;){const p=l.getNext();if(this.withinDirectionalStart(p)){if(!this.withinDirectionalEnd(p))break;r=r.updateImmediateChild(p.name,p.node),d++}}}else{let l;r=e.withIndex(this.index_),r=r.updatePriority(At.EMPTY_NODE),l=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let d=0;for(;l.hasNext();){const p=l.getNext();d<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?d++:r=r.updateImmediateChild(p.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,l){let d;if(this.reverse_){const O=this.index_.getCompare();d=(V,K)=>O(K,V)}else d=this.index_.getCompare();const p=t;(0,N.hu)(p.numChildren()===this.limit_,"");const v=new Nt(e,i),D=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),T=this.rangedFilter_.matches(v);if(p.hasChild(e)){const O=p.getImmediateChild(e);let V=r.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=V&&(V.name===e||p.hasChild(V.name));)V=r.getChildAfterChild(this.index_,V,this.reverse_);const K=null==V?1:d(V,v);if(T&&!i.isEmpty()&&K>=0)return null!=l&&l.trackChildChange(vd(e,i,O)),p.updateImmediateChild(e,i);{null!=l&&l.trackChildChange(xp(e,O));const Ce=p.updateImmediateChild(e,At.EMPTY_NODE);return null!=V&&this.rangedFilter_.matches(V)?(null!=l&&l.trackChildChange(Jc(V.name,V.node)),Ce.updateImmediateChild(V.name,V.node)):Ce}}return i.isEmpty()?t:T&&d(D,v)>=0?(null!=l&&(l.trackChildChange(xp(D.name,D.node)),l.trackChildChange(Jc(e,i))),p.updateImmediateChild(e,i).updateImmediateChild(D.name,At.EMPTY_NODE)):t}}class bd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yn}copy(){const t=new bd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function vb(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function bb(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Rh(n,t){const e=n.copy();return e.index_=t,e}function c_(n){const t={};if(n.isDefault())return t;let e;if(n.index_===yn?e="$priority":n.index_===a_?e="$value":n.index_===ca?e="$key":((0,N.hu)(n.index_ instanceof o_,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,N.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,N.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,N.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,N.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function u_(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==yn&&(t.i=n.index_.toString()),t}class Sp extends eb{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$c("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const d=Sp.getListenId_(t,i),p={};this.listens_[d]=p;const v=c_(t._queryParams);this.restRequest_(l+".json",v,(D,T)=>{let O=T;if(404===D&&(O=null,D=null),null===D&&this.onDataUpdate_(l,O,!1,i),(0,N.DV)(this.listens_,d)===p){let V;V=D?401===D?"permission_denied":"rest_error:"+D:"ok",r(V,null)}})}unlisten(t,e){const i=Sp.getListenId_(t,e);delete this.listens_[i]}get(t){const e=c_(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(l,d)=>{let p=d;404===l&&(p=null,l=null),null===l?(this.onDataUpdate_(i,p,!1,null),r.resolve(p)):r.reject(new Error(p))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,l])=>{r&&r.accessToken&&(e.auth=r.accessToken),l&&l.token&&(e.ac=l.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(i&&4===p.readyState){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let v=null;if(p.status>=200&&p.status<300){try{v=(0,N.cI)(p.responseText)}catch(D){Vi("Failed to parse JSON response for "+d+": "+p.responseText)}i(null,v)}else 401!==p.status&&404!==p.status&&Vi("Got unsuccessful REST response for "+d+" Status: "+p.status),i(p.status);i=null}},p.open("GET",d,!0),p.send()})}}class fS{constructor(){this.rootNode_=At.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Oh(){return{value:null,children:new Map}}function Yl(n,t,e){if(Pt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=bt(t);n.children.has(i)||n.children.set(i,Oh()),Yl(n.children.get(i),t=pn(t),e)}}function d_(n,t){if(Pt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(yn,(i,r)=>{Yl(n,new en(i),r)}),d_(n,t)}}if(n.children.size>0){const e=bt(t);return t=pn(t),n.children.has(e)&&d_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function kh(n,t,e){null!==n.value?e(t,n.value):function I0(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{kh(r,new en(t.toString()+"/"+i),e)})}class T0{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Mi(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class O0{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new T0(t);const i=1e4+2e4*Math.random();qc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Mi(t,(r,l)=>{l>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=l,i=!0)}),i&&this.server_.reportStats(e),qc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _r=(()=>{return(n=_r||(_r={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",_r;var n})();function eu(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Ip{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=_r.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Pt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new en(t));return new Ip(Qt(),e,this.revert)}}return(0,N.hu)(bt(this.path)===t,"operationForChild called for unrelated child."),new Ip(pn(this.path),this.affectedTree,this.revert)}}class Fh{constructor(t,e){this.source=t,this.path=e,this.type=_r.LISTEN_COMPLETE}operationForChild(t){return Pt(this.path)?new Fh(this.source,Qt()):new Fh(this.source,pn(this.path))}}class Za{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=_r.OVERWRITE}operationForChild(t){return Pt(this.path)?new Za(this.source,Qt(),this.snap.getImmediateChild(t)):new Za(this.source,pn(this.path),this.snap)}}class yr{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=_r.MERGE}operationForChild(t){if(Pt(this.path)){const e=this.children.subtree(new en(t));return e.isEmpty()?null:e.value?new Za(this.source,Qt(),e.value):new yr(this.source,Qt(),e)}return(0,N.hu)(bt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new yr(this.source,pn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ns{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Pt(t))return this.isFullyInitialized()&&!this.filtered_;const e=bt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class er{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Zl(n,t,e,i,r,l){const d=i.filter(p=>p.type===e);d.sort((p,v)=>function f_(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new Nt(t.childName,t.snapshotNode),r=new Nt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,p,v)),d.forEach(p=>{const v=function Ls(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,p,l);r.forEach(D=>{D.respondsTo(p.type)&&t.push(D.createEvent(v,n.query_))})})}function Ka(n,t){return{eventCache:n,serverCache:t}}function ua(n,t,e,i){return Ka(new Ns(t,e,i),n.serverCache)}function nu(n,t,e,i){return Ka(n.eventCache,new Ns(t,e,i))}function Qa(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Bs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Kl;class tn{constructor(t,e=(()=>(Kl||(Kl=new Ji(Bm)),Kl))()){this.value=t,this.children=e}static fromObject(t){let e=new tn(null);return Mi(t,(i,r)=>{e=e.set(new en(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Qt(),value:this.value};if(Pt(t))return null;{const i=bt(t),r=this.children.get(i);if(null!==r){const l=r.findRootMostMatchingPathAndValue(pn(t),e);return null!=l?{path:Tn(new en(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Pt(t))return this;{const e=bt(t),i=this.children.get(e);return null!==i?i.subtree(pn(t)):new tn(null)}}set(t,e){if(Pt(t))return new tn(e,this.children);{const i=bt(t),l=(this.children.get(i)||new tn(null)).set(pn(t),e),d=this.children.insert(i,l);return new tn(this.value,d)}}remove(t){if(Pt(t))return this.children.isEmpty()?new tn(null):new tn(null,this.children);{const e=bt(t),i=this.children.get(e);if(i){const r=i.remove(pn(t));let l;return l=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&l.isEmpty()?new tn(null):new tn(this.value,l)}return this}}get(t){if(Pt(t))return this.value;{const e=bt(t),i=this.children.get(e);return i?i.get(pn(t)):null}}setTree(t,e){if(Pt(t))return e;{const i=bt(t),l=(this.children.get(i)||new tn(null)).setTree(pn(t),e);let d;return d=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new tn(this.value,d)}}fold(t){return this.fold_(Qt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,l)=>{i[r]=l.fold_(Tn(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Qt(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Pt(t))return null;{const l=bt(t),d=this.children.get(l);return d?d.findOnPath_(pn(t),Tn(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Qt(),e)}foreachOnPath_(t,e,i){if(Pt(t))return this;{this.value&&i(e,this.value);const r=bt(t),l=this.children.get(r);return l?l.foreachOnPath_(pn(t),Tn(e,r),i):new tn(null)}}foreach(t){this.foreach_(Qt(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Tn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class tr{constructor(t){this.writeTree_=t}static empty(){return new tr(new tn(null))}}function wd(n,t,e){if(Pt(t))return new tr(new tn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let l=i.value;const d=Ui(r,t);return l=l.updateChild(d,e),new tr(n.writeTree_.set(r,l))}{const r=new tn(e),l=n.writeTree_.setTree(t,r);return new tr(l)}}}function Tp(n,t,e){let i=n;return Mi(e,(r,l)=>{i=wd(i,Tn(t,r),l)}),i}function p_(n,t){if(Pt(t))return tr.empty();{const e=n.writeTree_.setTree(t,new tn(null));return new tr(e)}}function Mp(n,t){return null!=Ql(n,t)}function Ql(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ui(e.path,t)):null}function g_(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(yn,(i,r)=>{t.push(new Nt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Nt(i,r.value))}),t}function Xa(n,t){if(Pt(t))return n;{const e=Ql(n,t);return new tr(null!=e?new tn(e):n.writeTree_.subtree(t))}}function Rp(n){return n.writeTree_.isEmpty()}function iu(n,t){return wb(Qt(),n.writeTree_,t)}function wb(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,l)=>{".priority"===r?((0,N.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=wb(Tn(n,r),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Tn(n,".priority"),i)),e}}function Ph(n,t){return ru(t,n)}function N0(n,t){if(n.snap)return mr(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&mr(Tn(n.path,e),t))return!0;return!1}function L0(n){return n.visible}function m_(n,t,e){let i=tr.empty();for(let r=0;r<n.length;++r){const l=n[r];if(t(l)){const d=l.path;let p;if(l.snap)mr(e,d)?(p=Ui(e,d),i=wd(i,p,l.snap)):mr(d,e)&&(p=Ui(d,e),i=wd(i,Qt(),l.snap.getChild(p)));else{if(!l.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(mr(e,d))p=Ui(e,d),i=Tp(i,p,l.children);else if(mr(d,e))if(p=Ui(d,e),Pt(p))i=Tp(i,Qt(),l.children);else{const v=(0,N.DV)(l.children,bt(p));if(v){const D=v.getChild(pn(p));i=wd(i,Qt(),D)}}}}}return i}function xb(n,t,e,i,r){if(i||r){const l=Xa(n.visibleWrites,t);return!r&&Rp(l)?e:r||null!=e||Mp(l,Qt())?iu(m_(n.allWrites,function(D){return(D.visible||r)&&(!i||!~i.indexOf(D.writeId))&&(mr(D.path,t)||mr(t,D.path))},t),e||At.EMPTY_NODE):null}{const l=Ql(n.visibleWrites,t);if(null!=l)return l;{const d=Xa(n.visibleWrites,t);return Rp(d)?e:null!=e||Mp(d,Qt())?iu(d,e||At.EMPTY_NODE):null}}}function v_(n,t,e,i){return xb(n.writeTree,n.treePath,t,e,i)}function Ab(n,t){return function B0(n,t,e){let i=At.EMPTY_NODE;const r=Ql(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(yn,(l,d)=>{i=i.updateImmediateChild(l,d)}),i;if(e){const l=Xa(n.visibleWrites,t);return e.forEachChild(yn,(d,p)=>{const v=iu(Xa(l,new en(d)),p);i=i.updateImmediateChild(d,v)}),g_(l).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return g_(Xa(n.visibleWrites,t)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(n.writeTree,n.treePath,t)}function H0(n,t,e,i){return function pS(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const l=Tn(t,e);if(Mp(n.visibleWrites,l))return null;{const d=Xa(n.visibleWrites,l);return Rp(d)?r.getChild(e):iu(d,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Op(n,t){return function __(n,t){return Ql(n.visibleWrites,t)}(n.writeTree,Tn(n.treePath,t))}function Ib(n,t,e){return function V0(n,t,e,i){const r=Tn(t,e),l=Ql(n.visibleWrites,r);return null!=l?l:i.isCompleteForChild(e)?iu(Xa(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Tb(n,t){return ru(Tn(n.treePath,t),n.writeTree)}function ru(n,t){return{treePath:n,writeTree:t}}class j0{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const l=r.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,vd(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,xp(i,r.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,Jc(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,vd(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Rb=new class Mb{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class kp{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ns(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ib(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Bs(this.viewCache_),l=function Sb(n,t,e,i,r,l){return function y_(n,t,e,i,r,l,d){let p;const v=Xa(n.visibleWrites,t),D=Ql(v,Qt());if(null!=D)p=D;else{if(null==e)return[];p=iu(v,e)}if(p=p.withIndex(d),p.isEmpty()||p.isLeafNode())return[];{const T=[],O=d.getCompare(),V=l?p.getReverseIteratorFrom(i,d):p.getIteratorFrom(i,d);let K=V.getNext();for(;K&&T.length<r;)0!==O(K,i)&&T.push(K),K=V.getNext();return T}}(n.writeTree,n.treePath,t,e,i,r,l)}(this.writes_,r,e,1,i,t);return 0===l.length?null:l[0]}}function kb(n,t,e,i,r,l){const d=t.eventCache;if(null!=Op(i,e))return t;{let p,v;if(Pt(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=Bs(t),O=Ab(i,D instanceof At?D:At.EMPTY_NODE);p=n.filter.updateFullNode(t.eventCache.getNode(),O,l)}else{const D=v_(i,Bs(t));p=n.filter.updateFullNode(t.eventCache.getNode(),D,l)}else{const D=bt(e);if(".priority"===D){(0,N.hu)(1===la(e),"Can't have a priority with additional path components");const T=d.getNode();v=t.serverCache.getNode();const O=H0(i,e,T,v);p=null!=O?n.filter.updatePriority(T,O):d.getNode()}else{const T=pn(e);let O;if(d.isCompleteForChild(D)){v=t.serverCache.getNode();const V=H0(i,e,d.getNode(),v);O=null!=V?d.getNode().getImmediateChild(D).updateChild(T,V):d.getNode().getImmediateChild(D)}else O=Ib(i,D,t.serverCache);p=null!=O?n.filter.updateChild(d.getNode(),D,O,T,r,l):d.getNode()}}return ua(t,p,d.isFullyInitialized()||Pt(e),n.filter.filtersNodes())}}function Pp(n,t,e,i,r,l,d,p){const v=t.serverCache;let D;const T=d?n.filter:n.filter.getIndexedFilter();if(Pt(e))D=T.updateFullNode(v.getNode(),i,null);else if(T.filtersNodes()&&!v.isFiltered()){const K=v.getNode().updateChild(e,i);D=T.updateFullNode(v.getNode(),K,null)}else{const K=bt(e);if(!v.isCompleteForPath(e)&&la(e)>1)return t;const ie=pn(e),Be=v.getNode().getImmediateChild(K).updateChild(ie,i);D=".priority"===K?T.updatePriority(v.getNode(),Be):T.updateChild(v.getNode(),K,Be,ie,Rb,null)}const O=nu(t,D,v.isFullyInitialized()||Pt(e),T.filtersNodes());return kb(n,O,e,r,new kp(r,O,l),p)}function b_(n,t,e,i,r,l,d){const p=t.eventCache;let v,D;const T=new kp(r,t,l);if(Pt(e))D=n.filter.updateFullNode(t.eventCache.getNode(),i,d),v=ua(t,D,!0,n.filter.filtersNodes());else{const O=bt(e);if(".priority"===O)D=n.filter.updatePriority(t.eventCache.getNode(),i),v=ua(t,D,p.isFullyInitialized(),p.isFiltered());else{const V=pn(e),K=p.getNode().getImmediateChild(O);let ie;if(Pt(V))ie=i;else{const Ce=T.getCompleteChild(O);ie=null!=Ce?".priority"===Zm(V)&&Ce.getChild(nb(V)).isEmpty()?Ce:Ce.updateChild(V,i):At.EMPTY_NODE}v=K.equals(ie)?t:ua(t,n.filter.updateChild(p.getNode(),O,ie,V,T,d),p.isFullyInitialized(),n.filter.filtersNodes())}}return v}function Fb(n,t){return n.eventCache.isCompleteForChild(t)}function Nb(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Np(n,t,e,i,r,l,d,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,v=t;D=Pt(e)?i:new tn(null).setTree(e,i);const T=t.serverCache.getNode();return D.children.inorderTraversal((O,V)=>{if(T.hasChild(O)){const ie=Nb(0,t.serverCache.getNode().getImmediateChild(O),V);v=Pp(n,v,new en(O),ie,r,l,d,p)}}),D.children.inorderTraversal((O,V)=>{const K=!t.serverCache.isCompleteForChild(O)&&null===V.value;if(!T.hasChild(O)&&!K){const Ce=Nb(0,t.serverCache.getNode().getImmediateChild(O),V);v=Pp(n,v,new en(O),Ce,r,l,d,p)}}),v}class w_{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new l_(i.getIndex()),l=function S0(n){return n.loadsAllData()?new l_(n.getIndex()):n.hasLimit()?new dS(n):new Ap(n)}(i);this.processor_=function Fp(n){return{filter:n}}(l);const d=e.serverCache,p=e.eventCache,v=r.updateFullNode(At.EMPTY_NODE,d.getNode(),null),D=l.updateFullNode(At.EMPTY_NODE,p.getNode(),null),T=new Ns(v,d.isFullyInitialized(),r.filtersNodes()),O=new Ns(D,p.isFullyInitialized(),l.filtersNodes());this.viewCache_=Ka(O,T),this.eventGenerator_=new er(this.query_)}get query(){return this.query_}}function Nh(n,t){const e=Bs(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Pt(t)&&!e.getImmediateChild(bt(t)).isEmpty())?e.getChild(t):null}function E_(n){return 0===n.eventRegistrations_.length}function Lp(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(l=>{const d=l.createCancelEvent(e,r);d&&i.push(d)})}if(t){let r=[];for(let l=0;l<n.eventRegistrations_.length;++l){const d=n.eventRegistrations_[l];if(d.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(l+1));break}}else r.push(d)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Bb(n,t,e,i){t.type===_r.MERGE&&null!==t.source.queryId&&((0,N.hu)(Bs(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(Qa(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,l=function Ob(n,t,e,i,r){const l=new j0;let d,p;if(e.type===_r.OVERWRITE){const D=e;D.source.fromUser?d=b_(n,t,D.path,D.snap,i,r,l):((0,N.hu)(D.source.fromServer,"Unknown source."),p=D.source.tagged||t.serverCache.isFiltered()&&!Pt(D.path),d=Pp(n,t,D.path,D.snap,i,r,p,l))}else if(e.type===_r.MERGE){const D=e;D.source.fromUser?d=function Pb(n,t,e,i,r,l,d){let p=t;return i.foreach((v,D)=>{const T=Tn(e,v);Fb(t,bt(T))&&(p=b_(n,p,T,D,r,l,d))}),i.foreach((v,D)=>{const T=Tn(e,v);Fb(t,bt(T))||(p=b_(n,p,T,D,r,l,d))}),p}(n,t,D.path,D.children,i,r,l):((0,N.hu)(D.source.fromServer,"Unknown source."),p=D.source.tagged||t.serverCache.isFiltered(),d=Np(n,t,D.path,D.children,i,r,p,l))}else if(e.type===_r.ACK_USER_WRITE){const D=e;d=D.revert?function gS(n,t,e,i,r,l){let d;if(null!=Op(i,e))return t;{const p=new kp(i,t,r),v=t.eventCache.getNode();let D;if(Pt(e)||".priority"===bt(e)){let T;if(t.serverCache.isFullyInitialized())T=v_(i,Bs(t));else{const O=t.serverCache.getNode();(0,N.hu)(O instanceof At,"serverChildren would be complete if leaf node"),T=Ab(i,O)}D=n.filter.updateFullNode(v,T,l)}else{const T=bt(e);let O=Ib(i,T,t.serverCache);null==O&&t.serverCache.isCompleteForChild(T)&&(O=v.getImmediateChild(T)),D=null!=O?n.filter.updateChild(v,T,O,pn(e),p,l):t.eventCache.getNode().hasChild(T)?n.filter.updateChild(v,T,At.EMPTY_NODE,pn(e),p,l):v,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=v_(i,Bs(t)),d.isLeafNode()&&(D=n.filter.updateFullNode(D,d,l)))}return d=t.serverCache.isFullyInitialized()||null!=Op(i,Qt()),ua(t,D,d,n.filter.filtersNodes())}}(n,t,D.path,i,r,l):function Lb(n,t,e,i,r,l,d){if(null!=Op(r,e))return t;const p=t.serverCache.isFiltered(),v=t.serverCache;if(null!=i.value){if(Pt(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return Pp(n,t,e,v.getNode().getChild(e),r,l,p,d);if(Pt(e)){let D=new tn(null);return v.getNode().forEachChild(ca,(T,O)=>{D=D.set(new en(T),O)}),Np(n,t,e,D,r,l,p,d)}return t}{let D=new tn(null);return i.foreach((T,O)=>{const V=Tn(e,T);v.isCompleteForPath(V)&&(D=D.set(T,v.getNode().getChild(V)))}),Np(n,t,e,D,r,l,p,d)}}(n,t,D.path,D.affectedTree,i,r,l)}else{if(e.type!==_r.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);d=function C_(n,t,e,i,r){const l=t.serverCache;return kb(n,nu(t,l.getNode(),l.isFullyInitialized()||Pt(e),l.isFiltered()),e,i,Rb,r)}(n,t,e.path,i,l)}const v=l.getChanges();return function $0(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Qa(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(mb(Qa(t)))}}(t,d,v),{viewCache:d,changes:v}}(n.processor_,r,t,e,i);return function G0(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,N.hu)(l.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,Lh(n,l.changes,l.viewCache.eventCache.getNode(),null)}function Lh(n,t,e,i){return function tu(n,t,e,i){const r=[],l=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&l.push(function A0(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),Zl(n,r,"child_removed",t,i,e),Zl(n,r,"child_added",t,i,e),Zl(n,r,"child_moved",l,i,e),Zl(n,r,"child_changed",t,i,e),Zl(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Ed,Dd;class W0{constructor(){this.views=new Map}}function Bh(n,t,e,i){const r=t.source.queryId;if(null!==r){const l=n.views.get(r);return(0,N.hu)(null!=l,"SyncTree gave us an op for an invalid query."),Bb(l,t,e,i)}{let l=[];for(const d of n.views.values())l=l.concat(Bb(d,t,e,i));return l}}function x_(n,t,e,i,r){const d=n.views.get(t._queryIdentifier);if(!d){let p=v_(e,r?i:null),v=!1;p?v=!0:i instanceof At?(p=Ab(e,i),v=!1):(p=At.EMPTY_NODE,v=!1);const D=Ka(new Ns(p,v,!1),new Ns(i,r,!1));return new w_(t,D)}return d}function S_(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function da(n,t){let e=null;for(const i of n.views.values())e=e||Nh(i,t);return e}function Hp(n,t){return t._queryParams.loadsAllData()?Vh(n):n.views.get(t._queryIdentifier)}function Ub(n,t){return null!=Hp(n,t)}function Ja(n){return null!=Vh(n)}function Vh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let jb=1;class I_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new tn(null),this.pendingWriteTree_=function U0(){return{visibleWrites:tr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jp(n,t,e,i,r){return function k0(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=wd(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?su(n,new Za({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function el(n,t,e=!1){const i=function Eb(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function P0(n,t){const e=n.allWrites.findIndex(p=>p.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,l=!1,d=n.allWrites.length-1;for(;r&&d>=0;){const p=n.allWrites[d];p.visible&&(d>=e&&N0(p,i.path)?r=!1:mr(i.path,p.path)&&(l=!0)),d--}return!!r&&(l?(function Db(n){n.visibleWrites=m_(n.allWrites,L0,Qt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=p_(n.visibleWrites,i.path):Mi(i.children,v=>{n.visibleWrites=p_(n.visibleWrites,Tn(i.path,v))}),!0))}(n.pendingWriteTree_,t)){let l=new tn(null);return null!=i.snap?l=l.set(Qt(),!0):Mi(i.children,d=>{l=l.set(new en(d),!0)}),su(n,new Ip(i.path,l,e))}return[]}function xd(n,t,e){return su(n,new Za({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Uh(n,t,e,i,r=!1){const l=t._path,d=n.syncPointTree_.get(l);let p=[];if(d&&("default"===t._queryIdentifier||Ub(d,t))){const v=function Vb(n,t,e,i){const r=t._queryIdentifier,l=[];let d=[];const p=Ja(n);if("default"===r)for(const[v,D]of n.views.entries())d=d.concat(Lp(D,e,i)),E_(D)&&(n.views.delete(v),D.query._queryParams.loadsAllData()||l.push(D.query));else{const v=n.views.get(r);v&&(d=d.concat(Lp(v,e,i)),E_(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||l.push(v.query)))}return p&&!Ja(n)&&l.push(new(function Vp(){return(0,N.hu)(Ed,"Reference.ts has not been loaded"),Ed}())(t._repo,t._path)),{removed:l,events:d}}(d,t,e,i);(function Up(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const D=v.removed;if(p=v.events,!r){const T=-1!==D.findIndex(V=>V._queryParams.loadsAllData()),O=n.syncPointTree_.findOnPath(l,(V,K)=>Ja(K));if(T&&!O){const V=n.syncPointTree_.subtree(l);if(!V.isEmpty()){const K=function Zb(n){return n.fold((t,e,i)=>{if(e&&Ja(e))return[Vh(e)];{let r=[];return e&&(r=S_(e)),Mi(i,(l,d)=>{r=r.concat(d)}),r}})}(V);for(let ie=0;ie<K.length;++ie){const Ce=K[ie],Be=Ce.query,Je=R_(n,Ce);n.listenProvider_.startListening(ha(Be),Hh(n,Be),Je.hashFn,Je.onComplete)}}}!O&&D.length>0&&!i&&(T?n.listenProvider_.stopListening(ha(t),null):D.forEach(V=>{const K=n.queryToTagMap.get($p(V));n.listenProvider_.stopListening(ha(V),K)}))}!function K0(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=$p(i),l=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(l)}}}(n,D)}return p}function M_(n,t,e,i){const r=zp(n,i);if(null!=r){const l=O_(r),d=l.path,p=l.queryId,v=Ui(d,t);return Wp(n,d,new Za(eu(p),v,e))}return[]}function Yb(n,t,e,i=!1){const r=t._path;let l=null,d=!1;n.syncPointTree_.foreachOnPath(r,(V,K)=>{const ie=Ui(V,r);l=l||da(K,ie),d=d||Ja(K)});let v,p=n.syncPointTree_.get(r);p?(d=d||Ja(p),l=l||da(p,Qt())):(p=new W0,n.syncPointTree_=n.syncPointTree_.set(r,p)),null!=l?v=!0:(v=!1,l=At.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((K,ie)=>{const Ce=da(ie,Qt());Ce&&(l=l.updateImmediateChild(K,Ce))}));const D=Ub(p,t);if(!D&&!t._queryParams.loadsAllData()){const V=$p(t);(0,N.hu)(!n.queryToTagMap.has(V),"View does not exist, but we have a tag");const K=function Q0(){return jb++}();n.queryToTagMap.set(V,K),n.tagToQueryMap.set(K,V)}let O=function A_(n,t,e,i,r,l){const d=x_(n,t,i,r,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function D_(n,t){n.eventRegistrations_.push(t)}(d,e),function Bp(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(yn,(l,d)=>{i.push(Jc(l,d))}),e.isFullyInitialized()&&i.push(mb(e.getNode())),Lh(n,i,e.getNode(),t)}(d,e)}(p,t,e,Ph(n.pendingWriteTree_,r),l,v);if(!D&&!d&&!i){const V=Hp(p,t);O=O.concat(function Kb(n,t,e){const i=t._path,r=Hh(n,t),l=R_(n,e),d=n.listenProvider_.startListening(ha(t),r,l.hashFn,l.onComplete),p=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!Ja(p.value),"If we're adding a query, it shouldn't be shadowed");else{const v=p.fold((D,T,O)=>{if(!Pt(D)&&T&&Ja(T))return[Vh(T).query];{let V=[];return T&&(V=V.concat(S_(T).map(K=>K.query))),Mi(O,(K,ie)=>{V=V.concat(ie)}),V}});for(let D=0;D<v.length;++D){const T=v[D];n.listenProvider_.stopListening(ha(T),Hh(n,T))}}return d}(n,t,V))}return O}function Gp(n,t,e){const r=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(d,p)=>{const D=da(p,Ui(d,t));if(D)return D});return xb(r,t,l,e,!0)}function su(n,t){return qb(t,n.syncPointTree_,null,Ph(n.pendingWriteTree_,Qt()))}function qb(n,t,e,i){if(Pt(n.path))return ti(n,t,e,i);{const r=t.get(Qt());null==e&&null!=r&&(e=da(r,Qt()));let l=[];const d=bt(n.path),p=n.operationForChild(d),v=t.children.get(d);if(v&&p){const D=e?e.getImmediateChild(d):null,T=Tb(i,d);l=l.concat(qb(p,v,D,T))}return r&&(l=l.concat(Bh(r,n,i,e))),l}}function ti(n,t,e,i){const r=t.get(Qt());null==e&&null!=r&&(e=da(r,Qt()));let l=[];return t.children.inorderTraversal((d,p)=>{const v=e?e.getImmediateChild(d):null,D=Tb(i,d),T=n.operationForChild(d);T&&(l=l.concat(ti(T,p,v,D)))}),r&&(l=l.concat(Bh(r,n,i,e))),l}function R_(n,t){const e=t.query,i=Hh(n,e);return{hashFn:()=>(function z0(n){return n.viewCache_.serverCache.getNode()}(t)||At.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function zb(n,t,e){const i=zp(n,e);if(i){const r=O_(i),l=r.path,d=r.queryId,p=Ui(l,t);return Wp(n,l,new Fh(eu(d),p))}return[]}(n,e._path,i):function $b(n,t){return su(n,new Fh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function Uv(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Uh(n,e,null,l)}}}}function Hh(n,t){const e=$p(t);return n.queryToTagMap.get(e)}function $p(n){return n._path.toString()+"$"+n._queryIdentifier}function zp(n,t){return n.tagToQueryMap.get(t)}function O_(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new en(n.substr(0,t))}}function Wp(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),Bh(i,e,Ph(n.pendingWriteTree_,t),null)}function ha(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function q0(){return(0,N.hu)(Dd,"Reference.ts has not been loaded"),Dd}())(n._repo,n._path):n}class k_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new k_(e)}node(){return this.node_}}class Yp{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Tn(this.path_,t);return new Yp(this.syncTree_,e)}node(){return Gp(this.syncTree_,this.path_)}}const qp=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?F_(n[".sv"],t,e):"object"==typeof n[".sv"]?fa(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},F_=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},fa=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const d=r.getValue();return"number"!=typeof d?i:d+i},Qb=function(n,t,e,i){return Vs(t,new Yp(e,n),i)},P_=function(n,t,e){return Vs(n,new k_(t),e)};function Vs(n,t,e){const i=n.getPriority().val(),r=qp(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const d=n,p=qp(d.getValue(),t,e);return p!==d.getValue()||r!==d.getPriority().val()?new Wl(p,Mn(r)):n}{const d=n;return l=d,r!==d.getPriority().val()&&(l=l.updatePriority(new Wl(r))),d.forEachChild(yn,(p,v)=>{const D=Vs(v,t.getImmediateChild(p),e);D!==v&&(l=l.updateImmediateChild(p,D))}),l}}class as{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Gr(n,t){let e=t instanceof en?t:new en(t),i=n,r=bt(e);for(;null!==r;){const l=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new as(r,i,l),e=pn(e),r=bt(e)}return i}function Xl(n){return n.node.value}function Zp(n,t){n.node.value=t,L_(n)}function Xb(n){return n.node.childCount>0}function Kp(n,t){Mi(n.node.children,(e,i)=>{t(new as(e,n,i))})}function Jb(n,t,e,i){e&&!i&&t(n),Kp(n,r=>{Jb(r,t,!0,i)}),e&&i&&t(n)}function tl(n){return new en(null===n.parent?n.name:tl(n.parent)+"/"+n.name)}function L_(n){null!==n.parent&&function eC(n,t,e){const i=function X0(n){return void 0===Xl(n)&&!Xb(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,L_(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,L_(n))}(n.parent,n.name,n)}const J0=/[\[\].#$\/\u0000-\u001F\u007F]/,tC=/[\[\].#$\u0000-\u001F\u007F]/,Qp=10485760,ou=function(n){return"string"==typeof n&&0!==n.length&&!J0.test(n)},nC=function(n){return"string"==typeof n&&0!==n.length&&!tC.test(n)},Ad=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Lm(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},Us=function(n,t,e,i){i&&void 0===t||Jl((0,N.gK)(n,"value"),t,e)},Jl=function(n,t,e){const i=e instanceof en?new Qm(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+$l(i));if("function"==typeof t)throw new Error(n+"contains a function "+$l(i)+" with contents = "+t.toString());if(Lm(t))throw new Error(n+"contains "+t.toString()+" "+$l(i));if("string"==typeof t&&t.length>Qp/3&&(0,N.ug)(t)>Qp)throw new Error(n+"contains a string greater than "+Qp+" utf8 bytes "+$l(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,l=!1;if(Mi(t,(d,p)=>{if(".value"===d)r=!0;else if(".priority"!==d&&".sv"!==d&&(l=!0,!ou(d)))throw new Error(n+" contains an invalid key ("+d+") "+$l(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function C0(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),wp(n)})(i,d),Jl(n,p,i),function Xm(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&l)throw new Error(n+' contains ".value" child '+$l(i)+" in addition to actual children.")}},B_=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const l=[];Mi(t,(d,p)=>{const v=new en(d);if(Jl(r,p,Tn(e,v)),".priority"===Zm(v)&&!Ad(p))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(v)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=pd(i);for(let d=0;d<l.length;d++)if((".priority"!==l[d]||d!==l.length-1)&&!ou(l[d]))throw new Error(n+"contains an invalid key ("+l[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(b0);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&mr(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,l)},Xp=function(n,t,e){if(!e||void 0!==t){if(Lm(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ad(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Sd=function(n,t,e,i){if(!(i&&void 0===e||ou(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Id=function(n,t,e,i){if(!(i&&void 0===e||nC(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ls=function(n,t){if(".info"===bt(t))throw new Error(n+" failed = Can't modify data under /.info/")},V_=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ou(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),nC(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class eD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jp(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],l=r.getPath();null!==e&&!Km(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(r)}e&&n.eventLists_.push(e)}function oC(n,t,e){Jp(n,e),aC(n,i=>Km(i,t))}function cs(n,t,e){Jp(n,e),aC(n,i=>mr(i,t)||mr(t,i))}function aC(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(tD(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function tD(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();sa&&Ti("event: "+e.toString()),Yc(i)}}}const lC="repo_interrupt";class iD{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oh(),this.transactionQueueTree_=new as,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cC(n){const e=n.infoData_.getNode(new en(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function jh(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:cC(n)})}function uC(n,t,e,i,r){n.dataUpdateCount++;const l=new en(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(r)if(i){const v=(0,N.UI)(e,D=>Mn(D));d=function Wb(n,t,e,i){const r=zp(n,i);if(r){const l=O_(r),d=l.path,p=l.queryId,v=Ui(d,t),D=tn.fromObject(e);return Wp(n,d,new yr(eu(p),v,D))}return[]}(n.serverSyncTree_,l,v,r)}else{const v=Mn(e);d=M_(n.serverSyncTree_,l,v,r)}else if(i){const v=(0,N.UI)(e,D=>Mn(D));d=function Gb(n,t,e){const i=tn.fromObject(e);return su(n,new yr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,v)}else{const v=Mn(e);d=xd(n.serverSyncTree_,l,v)}let p=l;d.length>0&&(p=Gh(n,l)),cs(n.eventQueue_,p,d)}function dC(n,t){U_(n,"connected",t),!1===t&&function fC(n){Hs(n,"onDisconnectEvents");const t=jh(n),e=Oh();kh(n.onDisconnect_,Qt(),(r,l)=>{const d=Qb(r,l,n.serverSyncTree_,t);Yl(e,r,d)});let i=[];kh(e,Qt(),(r,l)=>{i=i.concat(xd(n.serverSyncTree_,r,l));const d=W_(n,r);Gh(n,d)}),n.onDisconnect_=Oh(),cs(n.eventQueue_,Qt(),i)}(n)}function U_(n,t,e){const i=new en("/.info/"+t),r=Mn(e);n.infoData_.updateSnapshot(i,r);const l=xd(n.infoSyncTree_,i,r);cs(n.eventQueue_,i,l)}function eg(n){return n.nextWriteId_++}function tg(n,t,e,i,r){Hs(n,"set",{path:t.toString(),value:e,priority:i});const l=jh(n),d=Mn(e,i),p=Gp(n.serverSyncTree_,t),v=P_(d,p,l),D=eg(n),T=jp(n.serverSyncTree_,t,v,D,!0);Jp(n.eventQueue_,T),n.server_.put(t.toString(),d.val(!0),(V,K)=>{const ie="ok"===V;ie||Vi("set at "+t+" failed: "+V);const Ce=el(n.serverSyncTree_,D,!ie);cs(n.eventQueue_,t,Ce),ec(0,r,V,K)});const O=W_(n,t);Gh(n,O),cs(n.eventQueue_,O,[])}function pC(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&d_(n.onDisconnect_,t),ec(0,e,i,r)})}function H_(n,t,e,i){const r=Mn(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(l,d)=>{"ok"===l&&Yl(n.onDisconnect_,t,r),ec(0,i,l,d)})}function ng(n,t,e){let i;i=".info"===bt(t._path)?Uh(n.infoSyncTree_,t,e):Uh(n.serverSyncTree_,t,e),oC(n.eventQueue_,t._path,i)}function ig(n){n.persistentConnection_&&n.persistentConnection_.interrupt(lC)}function Hs(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ti(e,...t)}function ec(n,t,e,i){t&&Yc(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let l=r;i&&(l+=": "+i);const d=new Error(l);d.code=r,t(d)}})}function tc(n,t,e){return Gp(n.serverSyncTree_,t,e)||At.EMPTY_NODE}function G_(n,t=n.transactionQueueTree_){if(t||rg(n,t),Xl(t)){const e=lD(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function $_(n,t,e){const i=e.map(D=>D.currentWriteId),r=tc(n,t,i);let l=r;const d=r.hash();for(let D=0;D<e.length;D++){const T=e[D];(0,N.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const O=Ui(t,T.path);l=l.updateChild(O,T.currentOutputSnapshotRaw)}const p=l.val(!0),v=t;n.server_.put(v.toString(),p,D=>{Hs(n,"transaction put response",{path:v.toString(),status:D});let T=[];if("ok"===D){const O=[];for(let V=0;V<e.length;V++)e[V].status=2,T=T.concat(el(n.serverSyncTree_,e[V].currentWriteId)),e[V].onComplete&&O.push(()=>e[V].onComplete(null,!0,e[V].currentOutputSnapshotResolved)),e[V].unwatcher();rg(n,Gr(n.transactionQueueTree_,t)),G_(n,n.transactionQueueTree_),cs(n.eventQueue_,t,T);for(let V=0;V<O.length;V++)Yc(O[V])}else{if("datastale"===D)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{Vi("transaction at "+v.toString()+" failed: "+D);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=D}Gh(n,t)}},d)}(n,tl(t),e)}else Xb(t)&&Kp(t,e=>{G_(n,e)})}function Gh(n,t){const e=z_(n,t),i=tl(e);return function yC(n,t,e){if(0===t.length)return;const i=[];let r=[];const d=t.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const v=t[p],D=Ui(e,v.path);let O,T=!1;if((0,N.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)T=!0,O=v.abortReason,r=r.concat(el(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)T=!0,O="maxretry",r=r.concat(el(n.serverSyncTree_,v.currentWriteId,!0));else{const V=tc(n,v.path,d);v.currentInputSnapshot=V;const K=t[p].update(V.val());if(void 0!==K){Jl("transaction failed: Data returned ",K,v.path);let ie=Mn(K);"object"==typeof K&&null!=K&&(0,N.r3)(K,".priority")||(ie=ie.updatePriority(V.getPriority()));const Be=v.currentWriteId,Je=jh(n),gt=P_(ie,V,Je);v.currentOutputSnapshotRaw=ie,v.currentOutputSnapshotResolved=gt,v.currentWriteId=eg(n),d.splice(d.indexOf(Be),1),r=r.concat(jp(n.serverSyncTree_,v.path,gt,v.currentWriteId,v.applyLocally)),r=r.concat(el(n.serverSyncTree_,Be,!0))}else T=!0,O="nodata",r=r.concat(el(n.serverSyncTree_,v.currentWriteId,!0))}cs(n.eventQueue_,e,r),r=[],T&&(t[p].status=2,setTimeout(t[p].unwatcher,Math.floor(0)),t[p].onComplete&&i.push("nodata"===O?()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot):()=>t[p].onComplete(new Error(O),!1,null)))}rg(n,n.transactionQueueTree_);for(let p=0;p<i.length;p++)Yc(i[p]);G_(n,n.transactionQueueTree_)}(n,lD(n,e),i),i}function z_(n,t){let e,i=n.transactionQueueTree_;for(e=bt(t);null!==e&&void 0===Xl(i);)i=Gr(i,e),e=bt(t=pn(t));return i}function lD(n,t){const e=[];return ft(n,t,e),e.sort((i,r)=>i.order-r.order),e}function ft(n,t,e){const i=Xl(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Kp(t,r=>{ft(n,r,e)})}function rg(n,t){const e=Xl(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,Zp(t,e.length>0?e:void 0)}Kp(t,i=>{rg(n,i)})}function W_(n,t){const e=tl(z_(n,t)),i=Gr(n.transactionQueueTree_,t);return function N_(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{Y_(n,r)}),Y_(n,i),Jb(i,r=>{Y_(n,r)}),e}function Y_(n,t){const e=Xl(t);if(e){const i=[];let r=[],l=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,N.hu)(l===d-1,"All SENT items should be at beginning of queue."),l=d,e[d].status=3,e[d].abortReason="set"):((0,N.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),r=r.concat(el(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&i.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===l?Zp(t,void 0):e.length=l+1,cs(n.eventQueue_,tl(t),r);for(let d=0;d<i.length;d++)Yc(i[d])}}const Td=function(n,t){const e=og(n),i=e.namespace;return"firebase.com"===e.domain&&ks(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ks("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Vi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ah(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new en(e.pathString)}},og=function(n){let t="",e="",i="",r="",l="",d=!0,p="https",v=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(p=n.substring(0,D-1),n=n.substring(D+2));let T=n.indexOf("/");-1===T&&(T=n.length);let O=n.indexOf("?");-1===O&&(O=n.length),t=n.substring(0,Math.min(T,O)),T<O&&(r=function sg(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(l){}t+="/"+r}return t}(n.substring(T,O)));const V=function cD(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Vi(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,O)));D=t.indexOf(":"),D>=0?(d="https"===p||"wss"===p,v=parseInt(t.substring(D+1),10)):D=t.length;const K=t.slice(0,D);if("localhost"===K.toLowerCase())e="localhost";else if(K.split(".").length<=2)e=K;else{const ie=t.indexOf(".");i=t.substring(0,ie).toLowerCase(),e=t.substring(ie+1),l=i}"ns"in V&&(l=V.ns)}return{host:t,port:v,domain:e,subdomain:i,secure:d,scheme:p,pathString:r,namespace:l}},Fn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",yS=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const l=new Array(8);for(r=7;r>=0;r--)l[r]=Fn.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let d=l.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)d+=Fn.charAt(t[r]);return(0,N.hu)(20===d.length,"nextPushId: Length should be 20."),d}}();class q_{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class vC{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Z_{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class K_{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return pC(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ls("OnDisconnect.remove",this._path);const t=new N.BH;return H_(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ls("OnDisconnect.set",this._path),Us("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return H_(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ls("OnDisconnect.setWithPriority",this._path),Us("OnDisconnect.setWithPriority",t,this._path,!1),Xp("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function gC(n,t,e,i,r){const l=Mn(e,i);n.server_.onDisconnectPut(t.toString(),l.val(!0),(d,p)=>{"ok"===d&&Yl(n.onDisconnect_,t,l),ec(0,r,d,p)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){ls("OnDisconnect.update",this._path),B_("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function mC(n,t,e,i){if((0,N.xb)(e))return Ti("onDisconnect().update() called with empty data.  Don't do anything."),void ec(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,l)=>{"ok"===r&&Mi(e,(d,p)=>{const v=Mn(p);Yl(n.onDisconnect_,Tn(t,d),v)}),ec(0,i,r,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class vr{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Pt(this._path)?null:Zm(this._path)}get ref(){return new js(this._repo,this._path)}get _queryIdentifier(){const t=u_(this._queryParams),e=Dh(t);return"{}"===e?"default":e}get _queryObject(){return u_(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof vr))return!1;const e=this._repo===t._repo,i=Km(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function uS(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function $h(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===ca){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==zc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Fs)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===yn){if(null!=t&&!Ad(t)||null!=e&&!Ad(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof o_||n.getIndex()===a_,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ag(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class js extends vr{constructor(t,e){super(t,e,new bd,!1)}get parent(){const t=nb(this._path);return null===t?null:new js(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class au{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new en(t),i=lu(this.ref,t);return new au(this._node.getChild(e),i,yn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new au(r,lu(this.ref,i),yn)))}hasChild(t){const e=new en(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Md(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?lu(n._root,t):n._root}function bC(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=Td(t,n._repo.repoInfo_.nodeAdmin);V_("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ks("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Md(n,e.path.toString())}function lu(n,t){return null===bt((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Id("child","path",e,!1)):Id("child","path",t,!1),new js(n._repo,Tn(n._path,t));var e}function cg(n,t){n=(0,N.m9)(n),ls("set",n._path),Us("set",t,n._path,!1);const e=new N.BH;return tg(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function zh(n,t){B_("update",t,n._path,!1);const e=new N.BH;return function hC(n,t,e,i){Hs(n,"update",{path:t.toString(),value:e});let r=!0;const l=jh(n),d={};if(Mi(e,(p,v)=>{r=!1,d[p]=Qb(Tn(t,p),Mn(v),n.serverSyncTree_,l)}),r)Ti("update() called with empty data.  Don't do anything."),ec(0,i,"ok",void 0);else{const p=eg(n),v=function T_(n,t,e,i){!function F0(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Tp(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=tn.fromObject(e);return su(n,new yr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,d,p);Jp(n.eventQueue_,v),n.server_.merge(t.toString(),e,(D,T)=>{const O="ok"===D;O||Vi("update at "+t+" failed: "+D);const V=el(n.serverSyncTree_,p,!O),K=V.length>0?Gh(n,t):t;cs(n.eventQueue_,K,V),ec(0,i,D,T)}),Mi(e,D=>{const T=W_(n,Tn(t,D));Gh(n,T)}),cs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Wh(n){n=(0,N.m9)(n);const t=new Z_(()=>{}),e=new Yh(t);return function oD(n,t,e){const i=function Z0(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(D,T)=>{const O=Ui(D,e);i=i||da(T,O)});let r=n.syncPointTree_.get(e);r?i=i||da(r,Qt()):(r=new W0,n.syncPointTree_=n.syncPointTree_.set(e,r));const l=null!=i,d=l?new Ns(i,!0,!1):null;return function mS(n){return Qa(n.viewCache_)}(x_(r,t,Ph(n.pendingWriteTree_,t._path),l?d.getNode():At.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const l=Mn(r).withIndex(t._queryParams.getIndex());let d;if(Yb(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())d=xd(n.serverSyncTree_,t._path,l);else{const p=Hh(n.serverSyncTree_,t);d=M_(n.serverSyncTree_,t._path,l,p)}return cs(n.eventQueue_,t._path,d),Uh(n.serverSyncTree_,t,e,null,!0),l},r=>(Hs(n,"get for query "+(0,N.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new au(i,new js(n._repo,n._path),n._queryParams.getIndex()))}class Yh{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new q_("value",this,new au(t.snapshotNode,new js(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new vC(this,t,e):null}matches(t){return t instanceof Yh&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ug{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new vC(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=lu(new js(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new q_(t.type,this,new au(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ug&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function qh(n,t,e,i,r){let l;if("object"==typeof i&&(l=void 0,r=i),"function"==typeof i&&(l=i),r&&r.onlyOnce){const v=e,D=(T,O)=>{ng(n._repo,n,p),v(T,O)};D.userCallback=e.userCallback,D.context=e.context,e=D}const d=new Z_(e,l||void 0),p="value"===t?new Yh(d):new ug(t,d);return function _C(n,t,e){let i;i=".info"===bt(t._path)?Yb(n.infoSyncTree_,t,e):Yb(n.serverSyncTree_,t,e),oC(n.eventQueue_,t._path,i)}(n._repo,n,p),()=>ng(n._repo,n,p)}function dg(n,t,e,i){return qh(n,"value",t,e,i)}function Q_(n,t,e,i){return qh(n,"child_added",t,e,i)}function X_(n,t,e,i){return qh(n,"child_changed",t,e,i)}function EC(n,t,e,i){return qh(n,"child_moved",t,e,i)}function J_(n,t,e,i){return qh(n,"child_removed",t,e,i)}function DC(n,t,e){let i=null;const r=e?new Z_(e):null;"value"===t?i=new Yh(r):t&&(i=new ug(t,r)),ng(n._repo,n,i)}class xo{}class dD extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Us("endAt",this._value,t._path,!0);const e=bb(t._queryParams,this._value,this._key);if(ag(e),nl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vr(t._repo,t._path,e,t._orderByCalled)}}class CS extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Us("endBefore",this._value,t._path,!1);const e=function hS(n,t,e){let i;return i=bb(n,t,n.index_===ca||e?e:zc),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(ag(e),nl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vr(t._repo,t._path,e,t._orderByCalled)}}class ey extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Us("startAt",this._value,t._path,!0);const e=vb(t._queryParams,this._value,this._key);if(ag(e),nl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vr(t._repo,t._path,e,t._orderByCalled)}}class hD extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Us("startAfter",this._value,t._path,!1);const e=function Do(n,t,e){let i;return i=vb(n,t,n.index_===ca||e?e:Fs),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(ag(e),nl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vr(t._repo,t._path,e,t._orderByCalled)}}class xC extends xo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vr(t._repo,t._path,function _b(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class pD extends xo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vr(t._repo,t._path,function yb(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class mD extends xo{constructor(t){super(),this._path=t}_apply(t){$h(t,"orderByChild");const e=new en(this._path);if(Pt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new o_(e),r=Rh(t._queryParams,i);return nl(r),new vr(t._repo,t._path,r,!0)}}class yD extends xo{_apply(t){$h(t,"orderByKey");const e=Rh(t._queryParams,ca);return nl(e),new vr(t._repo,t._path,e,!0)}}class vD extends xo{_apply(t){$h(t,"orderByPriority");const e=Rh(t._queryParams,yn);return nl(e),new vr(t._repo,t._path,e,!0)}}class Rd extends xo{_apply(t){$h(t,"orderByValue");const e=Rh(t._queryParams,a_);return nl(e),new vr(t._repo,t._path,e,!0)}}class SC extends xo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Us("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new dD(this._value,this._key)._apply(new ey(this._value,this._key)._apply(t))}}function Gs(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function Y0(n){(0,N.hu)(!Ed,"__referenceConstructor has already been defined"),Ed=n})(js),function Hb(n){(0,N.hu)(!Dd,"__referenceConstructor has already been defined"),Dd=n}(js);const fg={};function TC(n,t,e,i,r){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||ks("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ti("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,D,d=Td(l,r),p=d.repoInfo;"undefined"!=typeof process&&process.env&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(v=!0,l=`http://${D}?ns=${p.namespace}`,d=Td(l,r),p=d.repoInfo):v=!d.repoInfo.secure;const T=r&&v?new hp(hp.OWNER):new cS(n.name,n.options,t);V_("Invalid Firebase Database URL",d),Pt(d.path)||ks("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function RC(n,t,e,i){let r=fg[t.name];r||(r={},fg[t.name]=r);let l=r[n.toURLString()];return l&&ks("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new iD(n,false,e,i),r[n.toURLString()]=l,l}(p,n,T,new lS(n.name,e));return new xD(O,n)}class xD{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function rD(n,t,e){if(n.stats_=jm(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Sp(n.repoInfo_,(i,r,l,d)=>{uC(n,i,r,l,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>dC(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new zl(n.repoInfo_,t,(i,r,l,d)=>{uC(n,i,r,l,d)},i=>{dC(n,i)},i=>{!function sD(n,t){Mi(t,(e,i)=>{U_(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Gm(n,t){const e=n.toString();return pp[e]||(pp[e]=t()),pp[e]}(n.repoInfo_,()=>new O0(n.stats_,n.server_)),n.infoData_=new fS,n.infoSyncTree_=new I_({startListening:(i,r,l,d)=>{let p=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(p=xd(n.infoSyncTree_,i._path,v),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),U_(n,"connected",!1),n.serverSyncTree_=new I_({startListening:(i,r,l,d)=>(n.server_.listen(i,l,r,(p,v)=>{const D=d(p,v);cs(n.eventQueue_,i._path,D)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new js(this._repo,Qt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function MC(n,t){const e=fg[t];(!e||e[n.key]!==n)&&ks(`Database ${t}(${n.repoInfo_}) has already been deleted.`),ig(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ks("Cannot call "+t+" on a deleted database.")}}function OC(){Zv.IS_TRANSPORT_INITIALIZED&&Vi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ny(){OC(),Ya.forceDisallow()}function AD(){OC(),Qc.forceDisallow(),Ya.forceAllow()}function MD(n,t){Pm(n,t)}const OD={".sv":"timestamp"};class FC{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}zl.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},zl.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function RD(n){Pv(jc.SDK_VERSION),(0,jc._registerComponent)(new Gl.wA("database",(t,{instanceIdentifier:e})=>TC(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,jc.registerVersion)(Mm,"0.14.0",n),(0,jc.registerVersion)(Mm,"0.14.0","esm2017")}();const ND=new dp.Yd("@firebase/database-compat"),LC=function(n){ND.warn("FIREBASE WARNING: "+n)};class BC{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),l=>i(l)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let l=0;l<t.length;++l)r[""+l]=t[l];t=r,LC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class sy{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class nc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Id("DataSnapshot.child","path",t,!1),new nc(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Id("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new nc(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new br(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Hi{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var l;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const d=Hi.getCancelAndContextArgs_("Query.on",i,r),p=(D,T)=>{e.call(d.context,new nc(this.database,D),T)};p.userCallback=e,p.context=d.context;const v=null===(l=d.cancel)||void 0===l?void 0:l.bind(d.context);switch(t){case"value":return dg(this._delegate,p,v),e;case"child_added":return Q_(this._delegate,p,v),e;case"child_removed":return J_(this._delegate,p,v),e;case"child_changed":return X_(this._delegate,p,v),e;case"child_moved":return EC(this._delegate,p,v),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,DC(this._delegate,t,r)}else DC(this._delegate,t)}get(){return Wh(this._delegate).then(t=>new nc(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const l=Hi.getCancelAndContextArgs_("Query.once",i,r),d=new N.BH,p=(D,T)=>{const O=new nc(this.database,D);e&&e.call(l.context,O,T),d.resolve(O)};p.userCallback=e,p.context=l.context;const v=D=>{l.cancel&&l.cancel.call(l.context,D),d.reject(D)};switch(t){case"value":dg(this._delegate,p,v,{onlyOnce:!0});break;case"child_added":Q_(this._delegate,p,v,{onlyOnce:!0});break;case"child_removed":J_(this._delegate,p,v,{onlyOnce:!0});break;case"child_changed":X_(this._delegate,p,v,{onlyOnce:!0});break;case"child_moved":EC(this._delegate,p,v,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new Hi(this.database,Gs(this._delegate,function Zh(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new xC(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new Hi(this.database,Gs(this._delegate,function gD(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pD(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new Hi(this.database,Gs(this._delegate,function _D(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Id("orderByChild","path",n,!1),new mD(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new Hi(this.database,Gs(this._delegate,function AC(){return new yD}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new Hi(this.database,Gs(this._delegate,function bD(){return new vD}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new Hi(this.database,Gs(this._delegate,function CD(){return new Rd}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new Hi(this.database,Gs(this._delegate,function hg(n=null,t){return Sd("startAt","key",t,!0),new ey(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new Hi(this.database,Gs(this._delegate,function fD(n,t){return Sd("startAfter","key",t,!0),new hD(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new Hi(this.database,Gs(this._delegate,function bS(n,t){return Sd("endAt","key",t,!0),new dD(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new Hi(this.database,Gs(this._delegate,function wS(n,t){return Sd("endBefore","key",t,!0),new CS(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new Hi(this.database,Gs(this._delegate,function wD(n,t){return Sd("equalTo","key",t,!0),new SC(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Hi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new br(this.database,new js(this._delegate._repo,this._delegate._path))}}class br extends Hi{constructor(t,e){super(t,new vr(e._repo,e._path,new bd,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new br(this.database,lu(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new br(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new br(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=cg(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let l=0;l<t.length;++l)r[""+l]=t[l];t=r,LC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ls("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=zh(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function uD(n,t,e){if(ls("setWithPriority",n._path),Us("setWithPriority",t,n._path,!1),Xp("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return tg(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),l=>i(l)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function CC(n){return ls("remove",n._path),cg(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function PC(n,t,e){var i;if(n=(0,N.m9)(n),ls("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,l=new N.BH,p=dg(n,()=>{});return function aD(n,t,e,i,r,l){Hs(n,"transaction on "+t);const d={path:t,update:e,onComplete:i,status:null,order:km(),applyLocally:l,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},p=tc(n,t,void 0);d.currentInputSnapshot=p;const v=d.update(p.val());if(void 0===v)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{Jl("transaction failed: Data returned ",v,d.path),d.status=0;const D=Gr(n.transactionQueueTree_,t),T=Xl(D)||[];let O;T.push(d),Zp(D,T),"object"==typeof v&&null!==v&&(0,N.r3)(v,".priority")?(O=(0,N.DV)(v,".priority"),(0,N.hu)(Ad(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(Gp(n.serverSyncTree_,t)||At.EMPTY_NODE).getPriority().val();const V=jh(n),K=Mn(v,O),ie=P_(K,p,V);d.currentOutputSnapshotRaw=K,d.currentOutputSnapshotResolved=ie,d.currentWriteId=eg(n);const Ce=jp(n.serverSyncTree_,t,ie,d.currentWriteId,d.applyLocally);cs(n.eventQueue_,t,Ce),G_(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,D,T)=>{let O=null;v?l.reject(v):(O=new au(T,new js(n._repo,n._path),yn),l.resolve(new FC(D,O)))},p,r),l.promise}(this._delegate,t,{applyLocally:i}).then(l=>new sy(l.committed,new nc(this.database,l.snapshot)));return e&&r.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function wC(n,t){n=(0,N.m9)(n),ls("setPriority",n._path),Xp("setPriority",t,!1);const e=new N.BH;return tg(n._repo,Tn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function lg(n,t){n=(0,N.m9)(n),ls("push",n._path),Us("push",t,n._path,!0);const e=cC(n._repo),i=yS(e),r=lu(n,i),l=lu(n,i);let d;return d=null!=t?cg(l,t).then(()=>l):Promise.resolve(l),r.then=d.then.bind(d),r.catch=d.then.bind(d,void 0),r}(this._delegate,t),r=i.then(d=>new br(this.database,d));e&&r.then(()=>e(null),d=>e(d));const l=new br(this.database,i);return l.then=r.then.bind(r),l.catch=r.catch.bind(r,void 0),l}onDisconnect(){return ls("Reference.onDisconnect",this._delegate._path),new BC(new K_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Kh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ny,forceLongPolling:AD}}useEmulator(t,e,i={}){!function kC(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ks("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let l;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ks('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new hp(hp.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);l=new hp(d)}!function ty(n,t,e,i){n.repoInfo_=new Ah(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,l)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof br){const e=bC(this._delegate,t.toString());return new br(this,e)}{const e=Md(this._delegate,t);return new br(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=bC(this._delegate,t);return new br(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function ID(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),ig(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function TD(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function j_(n){n.persistentConnection_&&n.persistentConnection_.resume(lC)}(n._repo)}(this._delegate)}}Kh.ServerValue={TIMESTAMP:function kD(){return OD}(),increment:n=>function FD(n){return{".sv":{increment:n}}}(n)};var LD=Object.freeze({__proto__:null,initStandalone:function VC({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:l=!1}){Pv(e);const d=new Gl.zt("auth-internal",new Gl.H0("database-standalone"));return d.setComponent(new Gl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Kh(TC(n,d,void 0,t,l),n),namespace:r}}});const UC=Kh.ServerValue;!function BD(n){n.INTERNAL.registerComponent(new Gl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Kh(r,i)},"PUBLIC").setServiceProps({Reference:br,Query:Hi,Database:Kh,DataSnapshot:nc,enableLogging:MD,INTERNAL:LD,ServerValue:UC}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(YE.Z);var Qh=F(5363),xS=F(6063);class VD extends St.x{constructor(t=1/0,e=1/0,i=xS.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:d}=this;e||(i.push(t),!r&&i.push(l.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let d=0;d<l.length&&!t.closed;d+=i?1:2)t.next(l[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const d=e.now();let p=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)p=v;p&&i.splice(0,p+1)}}}function Xh(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,Uc.B)({connector:()=>new VD(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function HC(n,t){return(0,Yn.m)(t)?An(()=>n,t):An(()=>n)}var ic=F(9468);F(259);const Jh=new Map,zC={activated:!1,tokenObservers:[]},OS={initialized:!1,enabled:!1};function ji(n){return Jh.get(n)||Object.assign({},zC)}function il(){return OS}class qC{constructor(t,e,i,r,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Hc.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function PS(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Gi=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ly(n){if(!ji(n).activated)throw Gi.create("use-before-activation",{appName:n.name})}function uy(n,t){return dy.apply(this,arguments)}function dy(){return(dy=(0,Hc.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const O=yield r.getHeartbeatsHeader();O&&(i["X-Firebase-Client"]=O)}const l={method:"POST",body:JSON.stringify(t),headers:i};let d,p;try{d=yield fetch(n,l)}catch(O){throw Gi.create("fetch-network-error",{originalErrorMessage:null==O?void 0:O.message})}if(200!==d.status)throw Gi.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch(O){throw Gi.create("fetch-parse-error",{originalErrorMessage:null==O?void 0:O.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Gi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const D=1e3*Number(v[1]),T=Date.now();return{token:p.token,expireTimeMillis:T+D,issuedAtTimeMillis:T}})).apply(this,arguments)}function YD(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Fd="firebase-app-check-store";let tf=null;function fy(){return tf||(tf=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Gi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Fd,{keyPath:"compositeKey"})}}catch(e){t(Gi.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}),tf)}function py(){return(py=(0,Hc.Z)(function*(n,t){const i=(yield fy()).transaction(Fd,"readwrite"),l=i.objectStore(Fd).put({compositeKey:n,value:t});return new Promise((d,p)=>{l.onsuccess=v=>{d()},i.onerror=v=>{var D;p(Gi.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const nf=new dp.Yd("@firebase/app-check");function _y(n,t){return(0,N.hl)()?function ZD(n,t){return function QC(n,t){return py.apply(this,arguments)}(function Pd(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{nf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function JC(){return il().enabled}function ew(){return vy.apply(this,arguments)}function vy(){return(vy=(0,Hc.Z)(function*(){const n=il();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bg={error:"UNKNOWN_ERROR"};function XD(n){return N.US.encodeString(JSON.stringify(n),!1)}function Cg(n){return wg.apply(this,arguments)}function wg(){return(wg=(0,Hc.Z)(function*(n,t=!1){const e=n.app;ly(e);const i=ji(e);let l,r=i.token;if(r&&!sf(r)&&(i.token=void 0,r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(sf(v)?r=v:yield _y(e,void 0))}if(!t&&r&&sf(r))return{token:r.token};let p,d=!1;if(JC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=uy(YD(e,yield ew()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const v=yield i.exchangeTokenPromise;return yield _y(e,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield ji(e).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?nf.warn(v.message):nf.error(v),l=v}return r?l?p=sf(r)?{token:r.token,internalError:l}:Dg(l):(p={token:r.token},i.token=r,yield _y(e,r)):p=Dg(l),d&&tw(e,p),p})).apply(this,arguments)}function rf(n,t){const e=ji(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function by(n){const{app:t}=n,e=ji(t);let i=e.tokenRefresher;i||(i=function JD(n){const{app:t}=n;return new qC((0,Hc.Z)(function*(){let i;if(i=ji(t).token?yield Cg(n,!0):yield Cg(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=ji(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function tw(n,t){const e=ji(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function sf(n){return n.expireTimeMillis-Date.now()>0}function Dg(n){return{token:XD(bg),error:n}}class Cy{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=ji(this.app);for(const e of t)rf(this.app,e.next);return Promise.resolve()}}const lw="app-check-internal";!function cw(){(0,jc._registerComponent)(new Gl.wA("app-check",n=>function nw(n,t){return new Cy(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(lw).initialize()})),(0,jc._registerComponent)(new Gl.wA(lw,n=>function wy(n){return{getToken:t=>Cg(n,t),addTokenListener:t=>function Eg(n,t,e,i){const{app:r}=n,l=ji(r);if(l.tokenObservers=[...l.tokenObservers,{next:e,error:i,type:t}],l.token&&sf(l.token)){const p=l.token;Promise.resolve().then(()=>{e({token:p.token}),by(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>by(n))}(n,"INTERNAL",t),removeTokenListener:t=>rf(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,jc.registerVersion)("@firebase/app-check","0.6.0")}();class lf{constructor(){return(0,rs.vb)("app-check")}}"undefined"!=typeof window&&window;var cx=F(9260);const ky=new c.OlP("angularfire2.auth.use-emulator"),mw=new c.OlP("angularfire2.auth.settings"),Fy=new c.OlP("angularfire2.auth.tenant-id"),Py=new c.OlP("angularfire2.auth.langugage-code"),_w=new c.OlP("angularfire2.auth.use-device-language"),yw=new c.OlP("angularfire.auth.persistence"),Ny=(n,t,e,i,r,l,d,p)=>(0,ra.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=r,l&&v.useDeviceLanguage(),d)for(const[D,T]of Object.entries(d))v.settings[D]=T;return p&&v.setPersistence(p),v},[e,i,r,l,d,p]);let vw=(()=>{class n{constructor(e,i,r,l,d,p,v,D,T,O,V,K){const ie=new St.x,Ce=Ke(void 0).pipe((0,Qh.Q)(d.outsideAngular),An(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9169)))),(0,Et.U)(()=>(0,ra.on)(e,l,i)),(0,Et.U)(Be=>Ny(Be,l,p,D,T,O,v,V)),Xh({bufferSize:1,refCount:!1}));if(dr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{Ce.pipe(Fa()).subscribe();const Je=Ce.pipe(An(Tt=>Tt.getRedirectResult().then(zi=>zi,()=>null)),rs.iC,Xh({bufferSize:1,refCount:!1})),gt=Ce.pipe(An(Tt=>new cn.y(zi=>({unsubscribe:l.runOutsideAngular(()=>Tt.onAuthStateChanged(sr=>zi.next(sr),sr=>zi.error(sr),()=>zi.complete()))})))),Gt=Ce.pipe(An(Tt=>new cn.y(zi=>({unsubscribe:l.runOutsideAngular(()=>Tt.onIdTokenChanged(sr=>zi.next(sr),sr=>zi.error(sr),()=>zi.complete()))}))));this.authState=Je.pipe(HC(gt),(0,ic.R)(d.outsideAngular),(0,Qh.Q)(d.insideAngular)),this.user=Je.pipe(HC(Gt),(0,ic.R)(d.outsideAngular),(0,Qh.Q)(d.insideAngular)),this.idToken=this.user.pipe(An(Tt=>Tt?(0,kn.D)(Tt.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(An(Tt=>Tt?(0,kn.D)(Tt.getIdTokenResult()):Ke(null))),this.credential=(0,za.T)(Je,ie,this.authState.pipe(qt(Tt=>!Tt))).pipe((0,Et.U)(Tt=>(null==Tt?void 0:Tt.user)?Tt:null),(0,ic.R)(d.outsideAngular),(0,Qh.Q)(d.insideAngular))}return(0,ra.pX)(this,Ce,l,{spy:{apply:(Be,Je,gt)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&gt.then(Gt=>ie.next(Gt))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ra.Dh),c.LFG(ra.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(rs.HU),c.LFG(ky,8),c.LFG(mw,8),c.LFG(Fy,8),c.LFG(Py,8),c.LFG(_w,8),c.LFG(yw,8),c.LFG(lf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Ly(n){return null==n}function ww(n){return"function"==typeof n.set}function Ew(n,t){return ww(t)?t:n.ref(t)}function dx(n,t){if(function bw(n){return"string"==typeof n}(n))return t.stringCase();if(ww(n))return t.firebaseCase();if(function Cw(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Ld(n,t,e="on",i=up.z){return new cn.y(r=>{let l=null;return l=n[e](t,(d,p)=>{i.schedule(()=>{r.next({snapshot:d,prevKey:p})}),"once"===e&&i.schedule(()=>r.complete())},d=>{i.schedule(()=>r.error(d))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,Et.U)(r=>{const{snapshot:l,prevKey:d}=r;let p=null;return l.exists()&&(p=l.key),{type:t,payload:l,prevKey:d,key:p}}),(0,Uc.B)())}function hx(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function jS(n,t){const{payload:e,prevKey:i,key:r}=t,l=hx(n,r),d=function HS(n,t){if(Ly(t))return 0;{const e=hx(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let p=null;t.payload.forEach(v=>{const D={payload:v,type:"value",prevKey:p,key:v.key};return p=v.key,n=[...n,D],!1})}return n;case"child_added":if(l>-1){const p=n[l-1];(p&&p.key||null)!==i&&(n=n.filter(v=>v.payload.key!==e.key)).splice(d,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(d,0,t)}return n;case"child_removed":return n.filter(p=>p.payload.key!==e.key);case"child_changed":return n.map(p=>p.payload.key===r?t:p);case"child_moved":if(l>-1){const p=n.splice(l,1)[0];return(n=n.slice()).splice(d,0,p),n}return n;default:return n}}function fx(n){return(Ly(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function px(n,t,e){return function US(n,t,e){return Ld(n,"value","once",e).pipe(An(i=>{const r=[Ke(i)];return t.forEach(l=>r.push(Ld(n,l,"on",e))),(0,za.T)(...r).pipe(Nr(jS,[]))}),wo())}(n,t=fx(t),e)}function gx(n,t,e){const i=(t=fx(t)).map(r=>Ld(n,r,"on",e));return(0,za.T)(...i)}function By(n,t){return function(i,r){return dx(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Vy(n){return function(e){return e?dx(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Uy(n,t){return function(){return Ld(n,"value","on",t)}}const Hy=new c.OlP("angularfire2.realtimeDatabaseURL"),xw=new c.OlP("angularfire2.database.use-emulator");let du=(()=>{class n{constructor(e,i,r,l,d,p,v,D,T,O,V,K,ie,Ce,Be){this.schedulers=p;const Je=v,gt=(0,ra.on)(e,d,i);D&&Ny(gt,d,T,V,K,ie,O,Ce),this.database=(0,ra.cc)(`${gt.name}.database.${r}`,"AngularFireDatabase",gt.name,()=>{const Gt=d.runOutsideAngular(()=>gt.database(r||void 0));return Je&&Gt.useEmulator(...Je),Gt},[Je])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Ew(this.database,e));let l=r;return i&&(l=i(r)),function Dw(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:By(i,"update"),set:By(i,"set"),push:r=>i.push(r),remove:Vy(i),snapshotChanges:r=>px(n,r,e).pipe(rs.iC),stateChanges:r=>gx(n,r,e).pipe(rs.iC),auditTrail:r=>function GS(n,t,e){return function $S(n,t,e){return function Sg(n,t){return Ld(n,"value","on",t).pipe((0,Et.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function kv(...n){const t=(0,Vo.jO)(n);return(0,wn.e)((e,i)=>{const r=n.length,l=new Array(r);let d=n.map(()=>!1),p=!1;for(let v=0;v<r;v++)(0,Jr.Xf)(n[v]).subscribe((0,Cn.x)(i,D=>{l[v]=D,!p&&!d[v]&&(d[v]=!0,(p=d.every(pr.y))&&(d=null))},zE.Z));e.subscribe((0,Cn.x)(i,v=>{if(p){const D=[v,...l];i.next(t?t(...D):D)}}))})}(t),(0,Et.U)(([r,l])=>{const d=r.lastKeyToLoad,p=l.map(v=>v.key);return{actions:l,lastKeyToLoad:d,loadedKeys:p}}),function sS(n){return(0,wn.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Cn.x)(e,l=>(i||(i=!n(l,r++)))&&e.next(l)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Et.U)(r=>r.actions))}(n,gx(n,t).pipe(Nr((r,l)=>[...r,l],[])),e)}(n,r,e).pipe(rs.iC),valueChanges:(r,l)=>px(n,r,e).pipe((0,Et.U)(p=>p.map(v=>l&&l.idField?Object.assign(Object.assign({},v.payload.val()),{[l.idField]:v.key}):v.payload.val())),rs.iC)}}(l,this)}object(e){return function zS(n,t){return{query:n,snapshotChanges:()=>Uy(n,t.schedulers.outsideAngular)().pipe(rs.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Uy(n,t.schedulers.outsideAngular)().pipe(rs.iC,(0,Et.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Ew(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ra.Dh),c.LFG(ra.xv,8),c.LFG(Hy,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(rs.HU),c.LFG(xw,8),c.LFG(vw,8),c.LFG(ky,8),c.LFG(mw,8),c.LFG(Fy,8),c.LFG(Py,8),c.LFG(_w,8),c.LFG(yw,8),c.LFG(lf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Aw=(()=>{class n{constructor(){cx.Z.registerVersion("angularfire",rs.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[du]}),n})(),WS=(()=>{class n{constructor(e){this.db=e,this.title="chameleon"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(du))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},directives:[dh],styles:[""]}),n})();const Sw_firebase={apiKey:"AIzaSyCQ-B4QQumdwrsI_h3IkVjmhwENY8CJBHY",authDomain:"chameleon-board-game.firebaseapp.com",databaseURL:"https://chameleon-board-game-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chameleon-board-game",storageBucket:"chameleon-board-game.appspot.com",messagingSenderId:"663808251011",appId:"1:663808251011:web:62a691d370b2937594f7b6",measurementId:"G-EZ8ES5XX4Z"};let Ig=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),hu=(()=>{class n extends Ig{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const rl=new c.OlP("NgValueAccessor"),yx={provide:rl,useExisting:(0,c.Gpc)(()=>Tg),multi:!0},bx=new c.OlP("CompositionEventMode");let Tg=(()=>{class n extends Ig{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vx(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(bx,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[c._Bn([yx]),c.qOj]}),n})();function rc(n){return null==n||0===n.length}function Mg(n){return null!=n&&"number"==typeof n.length}const ir=new c.OlP("NgValidators"),Ri=new c.OlP("NgAsyncValidators"),Cx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sl{static min(t){return function Iw(n){return t=>{if(rc(t.value)||rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Tw(n){return t=>{if(rc(t.value)||rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function Rg(n){return rc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function jy(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Gy(n){return rc(n.value)||Cx.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Mw(n){return t=>rc(t.value)||!Mg(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function $y(n){return t=>Mg(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Rw(n){if(!n)return Og;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(rc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return wx(t)}static composeAsync(t){return Pw(t)}}function Og(n){return null}function Ow(n){return null!=n}function kg(n){const t=(0,c.QGY)(n)?(0,kn.D)(n):n;return(0,c.CqO)(t),t}function sc(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function zy(n,t){return t.map(e=>e(n))}function Fw(n){return n.map(t=>function kw(n){return!n.validate}(t)?t:e=>t.validate(e))}function wx(n){if(!n)return null;const t=n.filter(Ow);return 0==t.length?null:function(e){return sc(zy(e,t))}}function Wy(n){return null!=n?wx(Fw(n)):null}function Pw(n){if(!n)return null;const t=n.filter(Ow);return 0==t.length?null:function(e){return function mx(...n){const t=(0,Vo.jO)(n),{args:e,keys:i}=xn(n),r=new cn.y(l=>{const{length:d}=e;if(!d)return void l.complete();const p=new Array(d);let v=d,D=d;for(let T=0;T<d;T++){let O=!1;(0,Jr.Xf)(e[T]).subscribe((0,Cn.x)(l,V=>{O||(O=!0,D--),p[T]=V},()=>v--,void 0,()=>{(!v||!O)&&(D||l.next(i?Ra(i,p):p),l.complete())}))}});return t?r.pipe(El(t)):r}(zy(e,t).map(kg)).pipe((0,Et.U)(sc))}}function Yy(n){return null!=n?Pw(Fw(n)):null}function qy(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Nw(n){return n._rawValidators}function Lw(n){return n._rawAsyncValidators}function Bw(n){return n?Array.isArray(n)?n:[n]:[]}function Bd(n,t){return Array.isArray(n)?n.includes(t):n===t}function Zy(n,t){const e=Bw(t);return Bw(n).forEach(r=>{Bd(e,r)||e.push(r)}),e}function Vw(n,t){return Bw(t).filter(e=>!Bd(n,e))}class Uw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wy(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class pa extends Uw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $i extends Uw{get formDirective(){return null}get path(){return null}}class Fg{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Pg=(()=>{class n extends Fg{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(pa,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),Ng=(()=>{class n extends Fg{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36($i,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function Vd(n,t){uf(n,t),t.valueAccessor.writeValue(n.value),function Xy(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&df(n,t)})}(n,t),function eI(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Jy(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&df(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Qy(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ga(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Ug(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function uf(n,t){const e=Nw(n);null!==t.validator?n.setValidators(qy(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Lw(n);null!==t.asyncValidator?n.setAsyncValidators(qy(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();cf(t._rawValidators,r),cf(t._rawAsyncValidators,r)}function Ug(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Nw(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==t.validator);l.length!==r.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const r=Lw(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==t.asyncValidator);l.length!==r.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return cf(t._rawValidators,i),cf(t._rawAsyncValidators,i),e}function df(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Sx(n,t){uf(n,t)}function tv(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function jg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ud="VALID",Hd="INVALID",hf="PENDING",jd="DISABLED";function rv(n){return(Gg(n)?n.validators:n)||null}function zw(n){return Array.isArray(n)?Wy(n):n||null}function Ww(n,t){return(Gg(t)?t.asyncValidators:n)||null}function Tx(n){return Array.isArray(n)?Yy(n):n||null}function Gg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const sv=n=>n instanceof Yw,ov=n=>n instanceof lv,Mx=n=>n instanceof Fx;function Rx(n){return sv(n)?n.value:n.getRawValue()}function Ox(n,t){const e=ov(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[t])throw new c.vHH(1001,"")}function kx(n,t){ov(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new c.vHH(1002,"")})}class av{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=zw(this._rawValidators),this._composedAsyncValidatorFn=Tx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ud}get invalid(){return this.status===Hd}get pending(){return this.status==hf}get disabled(){return this.status===jd}get enabled(){return this.status!==jd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=zw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Tx(t)}addValidators(t){this.setValidators(Zy(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Zy(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Vw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Vw(t,this._rawAsyncValidators))}hasValidator(t){return Bd(this._rawValidators,t)}hasAsyncValidator(t){return Bd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=hf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=jd,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ud,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ud||this.status===hf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jd:Ud}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=hf,this._hasOwnPendingAsyncValidator=!0;const e=kg(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function iv(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=ov(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:Mx(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?jd:this.errors?Hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hf)?hf:this._anyControlsHaveStatus(Hd)?Hd:Ud}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Yw extends av{constructor(t=null,e,i){super(rv(e),Ww(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gg(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class lv extends av{constructor(t,e,i){super(rv(e),Ww(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){kx(this,t),Object.keys(t).forEach(i=>{Ox(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=Rx(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,l)=>{i=e(i,r,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Fx extends av{constructor(t,e,i){super(rv(e),Ww(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){kx(this,t),t.forEach((i,r)=>{Ox(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Rx(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const rI={provide:$i,useExisting:(0,c.Gpc)(()=>o)},s=(()=>Promise.resolve(null))();let o=(()=>{class n extends $i{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new lv({},Wy(e),Yy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){s.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Vd(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){s.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){s.then(()=>{const i=this._findContainer(e.path),r=new lv({});Sx(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){s.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){s.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,tv(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ir,10),c.Y36(Ri,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([rI]),c.qOj]}),n})(),$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Qe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Cr=new c.OlP("NgModelWithFormControlWarning"),cv={provide:$i,useExisting:(0,c.Gpc)(()=>oc)};let oc=(()=>{class n extends $i{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ug(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Vd(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ga(e.control||null,e,!1),jg(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,tv(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(ga(i||null,e),sv(r)&&(Vd(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Sx(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function tI(n,t){return Ug(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uf(this.form,this),this._oldForm&&Ug(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ir,10),c.Y36(Ri,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([cv]),c.qOj,c.TTD]}),n})();const hv={provide:pa,useExisting:(0,c.Gpc)(()=>qw)};let qw=(()=>{class n extends pa{constructor(e,i,r,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Hg(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(l=>{l.constructor===Tg?e=l:function Ix(n){return Object.getPrototypeOf(n.constructor)===hu}(l)?i=l:r=l}),r||i||e||null}(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function ev(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Vg(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36($i,13),c.Y36(ir,10),c.Y36(Ri,10),c.Y36(rl,10),c.Y36(Cr,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([hv]),c.qOj,c.TTD]}),n})(),RR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Qe]]}),n})(),mI=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Cr,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[RR]}),n})(),_I=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let p,l=null,d=null;return null!=i&&(function OR(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(l=null!=i.validators?i.validators:null,d=null!=i.asyncValidators?i.asyncValidators:null,p=null!=i.updateOn?i.updateOn:void 0):(l=null!=i.validator?i.validator:null,d=null!=i.asyncValidator?i.asyncValidator:null)),new lv(r,{asyncValidators:d,updateOn:p,validators:l})}control(e,i,r){return new Yw(e,i,r)}array(e,i,r){const l=e.map(d=>this._createControl(d));return new Fx(l,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return sv(e)||ov(e)||Mx(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:mI}),n})();function hi(n){return null!=n&&"false"!=`${n}`}function yI(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function vI(n){return Array.isArray(n)?n:[n]}function Oi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function pu(n){return n instanceof c.SBq?n.nativeElement:n}var FR=F(1144);const PR=["addListener","removeListener"],NR=["addEventListener","removeEventListener"],LR=["on","off"];function Zw(n,t,e,i){if((0,Yn.m)(e)&&(i=e,e=void 0),i)return Zw(n,t,e).pipe(El(i));const[r,l]=function UR(n){return(0,Yn.m)(n.addEventListener)&&(0,Yn.m)(n.removeEventListener)}(n)?NR.map(d=>p=>n[d](t,p,e)):function BR(n){return(0,Yn.m)(n.addListener)&&(0,Yn.m)(n.removeListener)}(n)?PR.map(bI(n,t)):function VR(n){return(0,Yn.m)(n.on)&&(0,Yn.m)(n.off)}(n)?LR.map(bI(n,t)):[];if(!r&&(0,FR.z)(n))return(0,Un.z)(d=>Zw(d,t,e))((0,Jr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new cn.y(d=>{const p=(...v)=>d.next(1<v.length?v:v[0]);return r(p),()=>l(p)})}function bI(n,t){return e=>i=>n[e](t,i)}var CI=F(4408);const fv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=fv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(l=>{e=void 0,n(l)});return new Pr.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=fv;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=fv;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var wI=F(7565);new class jR extends wI.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class HR extends CI.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=fv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(r=l[l.length-1])||void 0===r?void 0:r.id)!==e&&(fv.cancelAnimationFrame(e),t._scheduled=void 0)}});let Bx,$R=1;const Kw={};function EI(n){return n in Kw&&(delete Kw[n],!0)}const zR={setImmediate(n){const t=$R++;return Kw[t]=!0,Bx||(Bx=Promise.resolve()),Bx.then(()=>EI(t)&&n()),t},clearImmediate(n){EI(n)}},{setImmediate:WR,clearImmediate:YR}=zR,Qw={setImmediate(...n){const{delegate:t}=Qw;return((null==t?void 0:t.setImmediate)||WR)(...n)},clearImmediate(n){const{delegate:t}=Qw;return((null==t?void 0:t.clearImmediate)||YR)(n)},delegate:void 0};new class ZR extends wI.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class qR extends CI.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Qw.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(r=l[l.length-1])||void 0===r?void 0:r.id)!==e&&(Qw.clearImmediate(e),t._scheduled=void 0)}});var XR=F(3532);function DI(n,t=up.z){return function QR(n){return(0,wn.e)((t,e)=>{let i=!1,r=null,l=null,d=!1;const p=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const D=r;r=null,e.next(D)}d&&e.complete()},v=()=>{l=null,d&&e.complete()};t.subscribe((0,Cn.x)(e,D=>{i=!0,r=D,l||(0,Jr.Xf)(n(D)).subscribe(l=(0,Cn.x)(e,p,v))},()=>{d=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>function eO(n=0,t,e=up.P){let i=-1;return null!=t&&((0,XR.K)(t)?e=t:i=t),new cn.y(r=>{let l=function JR(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},l)})}(n,t))}let Vx;try{Vx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Vx=!1}let Wg,zs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?vn(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xI=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function AI(){if(Wg)return Wg;if("object"!=typeof document||!document)return Wg=new Set(xI),Wg;let n=document.createElement("input");return Wg=new Set(xI.filter(t=>(n.setAttribute("type",t),n.type===t))),Wg}let pv,mf,Ux;function Xw(n){return function tO(){if(null==pv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pv=!0}))}finally{pv=pv||!1}return pv}()?n:!!n.capture}function nO(){if(null==mf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return mf=!1,mf;if("scrollBehavior"in document.documentElement.style)mf=!0;else{const n=Element.prototype.scrollTo;mf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return mf}function Hx(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function _f(n){return n.composedPath?n.composedPath()[0]:n.target}function jx(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const sO=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function oO(){return(0,c.f3M)(ne)}}),aO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let yf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function lO(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?aO.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(sO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),uO=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new St.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new cn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(DI(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(qt(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=pu(i),l=e.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Zw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(zs),c.LFG(ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new St.x,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,l=r.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(DI(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zs),c.LFG(c.R0b),c.LFG(ne,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),zx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yg,$x],Yg,$x]}),n})();class Wx{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Yx extends Wx{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class SI extends Wx{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class hO extends Wx{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class qx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Yx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof SI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof hO?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class fO extends qx{constructor(t,e,i,r,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const p=d.element,v=this._document.createComment("dom-portal");p.parentNode.insertBefore(v,p),this.outletElement.appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(p,v)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let II=(()=>{class n extends qx{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=l=>{const d=l.element,p=this._document.createComment("dom-portal");l.setAttachedHost(this),d.parentNode.insertBefore(p,d),this._getRootNode().appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(l,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(ne))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),TI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function $r(n){return(0,wn.e)((t,e)=>{(0,Jr.Xf)(n).subscribe((0,Cn.x)(e,()=>e.complete(),zE.Z)),!e.closed&&t.subscribe(e)})}const MI=nO();class pO{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Oi(-this._previousScrollPosition.left),t.style.top=Oi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,l=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),MI&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),MI&&(i.scrollBehavior=l,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class gO{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class RI{enable(){}disable(){}attach(){}}function Zx(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function OI(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class mO{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Zx(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _O=(()=>{class n{constructor(e,i,r,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new RI,this.close=d=>new gO(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new pO(this._viewportRuler,this._document),this.reposition=d=>new mO(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(uO),c.LFG(Gx),c.LFG(c.R0b),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class kI{constructor(t){if(this.scrollStrategy=new RI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class yO{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class vO{constructor(t,e,i,r,l,d,p,v,D){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=d,this._document=p,this._location=v,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new St.x,this._attachments=new St.x,this._detachments=new St.x,this._locationChanges=Pr.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new St.x,this._outsidePointerEvents=new St.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ci(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Oi(this._config.width),t.height=Oi(this._config.height),t.minWidth=Oi(this._config.minWidth),t.minHeight=Oi(this._config.minHeight),t.maxWidth=Oi(this._config.maxWidth),t.maxHeight=Oi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=vI(e||[]).filter(l=>!!l);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe($r((0,za.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Kx=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||jx()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].remove()}const i=this._document.createElement("div");i.classList.add(e),jx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne),c.LFG(zs))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FI="cdk-overlay-connected-position-bounding-box",bO=/([A-Za-z%]+)$/;class CO{constructor(t,e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St.x,this._resizeSubscription=Pr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(FI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,l=[];let d;for(let p of this._preferredPositions){let v=this._getOriginPoint(t,r,p),D=this._getOverlayPoint(v,e,p),T=this._getOverlayFit(D,e,i,p);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,v);this._canFitWithFlexibleDimensions(T,D,i)?l.push({position:p,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,p)}):(!d||d.overlayFit.visibleArea<T.visibleArea)&&(d={overlayFit:T,overlayPoint:D,originPoint:v,position:p,overlayRect:e})}if(l.length){let p=null,v=-1;for(const D of l){const T=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);T>v&&(v=T,p=D)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,l;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,p=this._isRtl()?t.left:t.right;r="start"==i.originX?d:p}return e.left<0&&(r-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:r,y:l}}_getOverlayPoint(t,e,i){let r,l;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+l}}_getOverlayFit(t,e,i,r){const l=NI(e);let{x:d,y:p}=t,v=this._getOffset(r,"x"),D=this._getOffset(r,"y");v&&(d+=v),D&&(p+=D);let V=0-p,K=p+l.height-i.height,ie=this._subtractOverflows(l.width,0-d,d+l.width-i.width),Ce=this._subtractOverflows(l.height,V,K),Be=ie*Ce;return{visibleArea:Be,isCompletelyWithinViewport:l.width*l.height===Be,fitsInViewportVertically:Ce===l.height,fitsInViewportHorizontally:ie==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,l=i.right-e.x,d=PI(this._overlayRef.getConfig().minHeight),p=PI(this._overlayRef.getConfig().minWidth),D=t.fitsInViewportHorizontally||null!=p&&p<=l;return(t.fitsInViewportVertically||null!=d&&d<=r)&&D}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=NI(e),l=this._viewportRect,d=Math.max(t.x+r.width-l.width,0),p=Math.max(t.y+r.height-l.height,0),v=Math.max(l.top-i.top-t.y,0),D=Math.max(l.left-i.left-t.x,0);let T=0,O=0;return T=r.width<=l.width?D||-d:t.x<this._viewportMargin?l.left-i.left-t.x:0,O=r.height<=l.height?v||-p:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:T,y:O},{x:t.x+T,y:t.y+O}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new yO(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let l,d,p,T,O,V;if("top"===e.overlayY)d=t.y,l=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)p=i.height-t.y+2*this._viewportMargin,l=i.height-p+this._viewportMargin;else{const K=Math.min(i.bottom-t.y+i.top,t.y),ie=this._lastBoundingBoxSize.height;l=2*K,d=t.y-K,l>ie&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-ie/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)V=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)O=t.x,T=i.right-t.x;else{const K=Math.min(i.right-t.x+i.left,t.x),ie=this._lastBoundingBoxSize.width;T=2*K,O=t.x-K,T>ie&&!this._isInitialRender&&!this._growAfterOpen&&(O=t.x-ie/2)}return{top:d,left:O,bottom:p,right:V,width:T,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=Oi(i.height),r.top=Oi(i.top),r.bottom=Oi(i.bottom),r.width=Oi(i.width),r.left=Oi(i.left),r.right=Oi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=Oi(l)),d&&(r.maxWidth=Oi(d))}this._lastBoundingBoxSize=i,vf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){vf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();vf(i,this._getExactOverlayY(e,t,T)),vf(i,this._getExactOverlayX(e,t,T))}else i.position="static";let p="",v=this._getOffset(e,"x"),D=this._getOffset(e,"y");v&&(p+=`translateX(${v}px) `),D&&(p+=`translateY(${D}px)`),i.transform=p.trim(),d.maxHeight&&(r?i.maxHeight=Oi(d.maxHeight):l&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=Oi(d.maxWidth):l&&(i.maxWidth="")),vf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=Oi(l.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=Oi(l.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OI(t,i),isOriginOutsideView:Zx(t,i),isOverlayClipped:OI(e,i),isOverlayOutsideView:Zx(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&vI(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function vf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function PI(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(bO);return e&&"px"!==e?null:parseFloat(t)}return n||null}function NI(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const LI="cdk-global-overlay-wrapper";class wO{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(LI),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:d,maxHeight:p}=i,v=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),D=!("100%"!==l&&"100vh"!==l||p&&"100%"!==p&&"100vh"!==p);t.position=this._cssPosition,t.marginLeft=v?"0":this._leftOffset,t.marginTop=D?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,v?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(LI),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let EO=(()=>{class n{constructor(e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new wO}flexibleConnectedTo(e){return new CO(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Gx),c.LFG(ne),c.LFG(zs),c.LFG(Kx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BI=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DO=(()=>{class n extends BI{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const p=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xO=(()=>{class n extends BI{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=_f(l)},this._clickListener=l=>{const d=_f(l),p="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let D=v.length-1;D>-1;D--){const T=v[D];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(d)||T.overlayElement.contains(p))break;const O=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>O.next(l)):O.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne),c.LFG(zs),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AO=0,gv=(()=>{class n{constructor(e,i,r,l,d,p,v,D,T,O,V){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=p,this._ngZone=v,this._document=D,this._directionality=T,this._location=O,this._outsideClickDispatcher=V}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),d=new kI(e);return d.direction=d.direction||this._directionality.value,new vO(l,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+AO++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new fO(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_O),c.LFG(Kx),c.LFG(c._Vd),c.LFG(EO),c.LFG(DO),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(ne),c.LFG(yf),c.LFG(ge),c.LFG(xO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const TO={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[gv],useFactory:function IO(n){return()=>n.scrollStrategies.reposition()}};let VI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gv,TO],imports:[[Yg,TI,zx],zx]}),n})(),GI=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function HO(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function UO(n){try{return n.frameElement}catch(t){return null}}(function ZO(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===zI(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),l=zI(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function YO(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==l:"video"===r?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function qO(n){return!function GO(n){return function zO(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function jO(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function $O(n){return function WO(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||$I(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zs))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $I(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function zI(n){if(!$I(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class KO{constructor(t,e,i,r,l=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ci(1)).subscribe(t)}}let QO=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new KO(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(GI),c.LFG(c.R0b),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WI(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function YI(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const XO=new c.OlP("cdk-input-modality-detector-options"),JO={ignoreKeys:[18,17,224,91,16]},qg=Xw({passive:!0,capture:!0});let ek=(()=>{class n{constructor(e,i,r,l){this._platform=e,this._mostRecentTarget=null,this._modality=new Wn(null),this._lastTouchMs=0,this._onKeydown=d=>{var p,v;(null===(v=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===v?void 0:v.some(D=>D===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=_f(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(WI(d)?"keyboard":"mouse"),this._mostRecentTarget=_f(d))},this._onTouchstart=d=>{YI(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_f(d))},this._options=Object.assign(Object.assign({},JO),l),this.modalityDetected=this._modality.pipe(function LO(n){return qt((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(wo()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,qg),r.addEventListener("mousedown",this._onMousedown,qg),r.addEventListener("touchstart",this._onTouchstart,qg)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qg),document.removeEventListener("mousedown",this._onMousedown,qg),document.removeEventListener("touchstart",this._onTouchstart,qg))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zs),c.LFG(c.R0b),c.LFG(ne),c.LFG(XO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nk=new c.OlP("cdk-focus-monitor-default-options"),eE=Xw({passive:!0,capture:!0});let ZI=(()=>{class n{constructor(e,i,r,l,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new St.x,this._rootNodeFocusAndBlurListener=p=>{const v=_f(p),D="focus"===p.type?this._onFocus:this._onBlur;for(let T=v;T;T=T.parentElement)D.call(this,p,T)},this._document=l,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,i=!1){const r=pu(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ke(null);const l=function rO(n){if(function iO(){if(null==Ux){const n="undefined"!=typeof document?document.head:null;Ux=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Ux}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const p={checkChildren:i,subject:new St.x,rootNode:l};return this._elementInfo.set(r,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const i=pu(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const l=pu(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,v])=>this._originChanged(p,i,v)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),l=_f(e);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,eE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,eE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($r(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,eE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,eE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,l)=>{(l===e||r.checkChildren&&l.contains(e))&&i.push([l,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(zs),c.LFG(ek),c.LFG(ne,8),c.LFG(nk,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KI="cdk-high-contrast-black-on-white",QI="cdk-high-contrast-white-on-black",Qx="cdk-high-contrast-active";let ik=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Qx),e.remove(KI),e.remove(QI),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Qx),e.add(KI)):2===i&&(e.add(Qx),e.add(QI))}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zs),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XI{}const gu="*";function tE(n,t){return{type:7,name:n,definitions:t,options:{}}}function mv(n,t=null){return{type:4,styles:t,timings:n}}function JI(n,t=null){return{type:3,steps:n,options:t}}function eT(n,t=null){return{type:2,steps:n,options:t}}function ma(n){return{type:6,styles:n,offset:null}}function Zg(n,t,e){return{type:0,name:n,styles:t,options:e}}function Kg(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Xx(n=null){return{type:9,options:n}}function Jx(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function tT(n){Promise.resolve(null).then(n)}class _v{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nT{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const l=this.players.length;0==l?tT(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const zt=!1;function iT(n){return new c.vHH(3e3,zt)}function Bk(){return"undefined"!=typeof window&&void 0!==window.document}function tA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gd(n){switch(n.length){case 0:return new _v;case 1:return n[0];default:return new nT(n)}}function rT(n,t,e,i,r={},l={}){const d=[],p=[];let v=-1,D=null;if(i.forEach(T=>{const O=T.offset,V=O==v,K=V&&D||{};Object.keys(T).forEach(ie=>{let Ce=ie,Be=T[ie];if("offset"!==ie)switch(Ce=t.normalizePropertyName(Ce,d),Be){case"!":Be=r[ie];break;case gu:Be=l[ie];break;default:Be=t.normalizeStyleValue(ie,Ce,Be,d)}K[Ce]=Be}),V||p.push(K),D=K,v=O}),d.length)throw function Sk(n){return new c.vHH(3502,zt)}();return p}function nA(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&iA(e,"start",n)));break;case"done":n.onDone(()=>i(e&&iA(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&iA(e,"destroy",n)))}}function iA(n,t,e){const i=e.totalTime,l=rA(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),d=n._data;return null!=d&&(l._data=d),l}function rA(n,t,e,i,r="",l=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:l,disabled:!!d}}function Ao(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function sT(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let sA=(n,t)=>!1,oT=(n,t,e)=>[],aT=null;function oA(n){const t=n.parentNode||n.host;return t===aT?null:t}(tA()||"undefined"!=typeof Element)&&(Bk()?(aT=(()=>document.documentElement)(),sA=(n,t)=>{for(;t;){if(t===n)return!0;t=oA(t)}return!1}):sA=(n,t)=>n.contains(t),oT=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let bf=null,lT=!1;function cT(n){bf||(bf=function Uk(){return"undefined"!=typeof document?document.body:null}()||{},lT=!!bf.style&&"WebkitAppearance"in bf.style);let t=!0;return bf.style&&!function Vk(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in bf.style,!t&&lT&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in bf.style)),t}const uT=sA,dT=oT;let hT=(()=>{class n{validateStyleProperty(e){return cT(e)}matchesElement(e,i){return!1}containsElement(e,i){return uT(e,i)}getParentElement(e){return oA(e)}query(e,i,r){return dT(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,l,d,p=[],v){return new _v(r,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),aA=(()=>{class n{}return n.NOOP=new hT,n})();const lA="ng-enter",iE="ng-leave",rE="ng-trigger",sE=".ng-trigger",pT="ng-animating",cA=".ng-animating";function Cf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:uA(parseFloat(t[1]),t[2])}function uA(n,t){return"s"===t?1e3*n:n}function oE(n,t,e){return n.hasOwnProperty("duration")?n:function Gk(n,t,e){let r,l=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(iT()),{duration:0,delay:0,easing:""};r=uA(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(l=uA(parseFloat(v),p[4]));const D=p[5];D&&(d=D)}else r=n;if(!e){let p=!1,v=t.length;r<0&&(t.push(function sk(){return new c.vHH(3100,zt)}()),p=!0),l<0&&(t.push(function ok(){return new c.vHH(3101,zt)}()),p=!0),p&&t.splice(v,0,iT())}return{duration:r,delay:l,easing:d}}(n,t,e)}function Qg(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function $d(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Qg(n,e);return e}function mT(n,t,e){return e?t+":"+e+";":""}function _T(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=mT(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=mT(0,Wk(e),n.style[e]));n.setAttribute("style",t)}function ac(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=hA(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),tA()&&_T(n))}function wf(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=hA(e);n.style[i]=""}),tA()&&_T(n))}function yv(n){return Array.isArray(n)?1==n.length?n[0]:eT(n):n}const dA=new RegExp("{{\\s*(.+?)\\s*}}","g");function yT(n){let t=[];if("string"==typeof n){let e;for(;e=dA.exec(n);)t.push(e[1]);dA.lastIndex=0}return t}function aE(n,t,e){const i=n.toString(),r=i.replace(dA,(l,d)=>{let p=t[d];return t.hasOwnProperty(d)||(e.push(function lk(n){return new c.vHH(3003,zt)}()),p=""),p.toString()});return r==i?n:r}function lE(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const zk=/-+([a-z0-9])/g;function hA(n){return n.replace(zk,(...t)=>t[1].toUpperCase())}function Wk(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function So(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function ck(n){return new c.vHH(3004,zt)}()}}function vT(n,t){return window.getComputedStyle(n)[t]}function Xk(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Jk(n,t,e){if(":"==n[0]){const v=function eF(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Ek(n){return new c.vHH(3016,zt)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function wk(n){return new c.vHH(3015,zt)}()),t;const r=i[1],l=i[2],d=i[3];t.push(bT(r,d));"<"==l[0]&&!("*"==r&&"*"==d)&&t.push(bT(d,r))}(i,e,t)):e.push(n),e}const hE=new Set(["true","1"]),fE=new Set(["false","0"]);function bT(n,t){const e=hE.has(n)||fE.has(n),i=hE.has(t)||fE.has(t);return(r,l)=>{let d="*"==n||n==r,p="*"==t||t==l;return!d&&e&&"boolean"==typeof r&&(d=r?hE.has(n):fE.has(n)),!p&&i&&"boolean"==typeof l&&(p=l?hE.has(t):fE.has(t)),d&&p}}const tF=new RegExp("s*:selfs*,?","g");function fA(n,t,e,i){return new nF(n).build(t,e,i)}class nF{constructor(t){this._driver=t}build(t,e,i){const r=new sF(e);this._resetContextStyleTimingState(r);const l=So(this,yv(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const l=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function dk(){return new c.vHH(3006,zt)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const v=p,D=v.name;D.toString().split(/\s*,\s*/).forEach(T=>{v.name=T,l.push(this.visitState(v,e))}),v.name=D}else if(1==p.type){const v=this.visitTransition(p,e);i+=v.queryCount,r+=v.depCount,d.push(v)}else e.errors.push(function hk(){return new c.vHH(3007,zt)}())}),{type:7,name:t.name,states:l,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=r||{};i.styles.forEach(p=>{if(pE(p)){const v=p;Object.keys(v).forEach(D=>{yT(v[D]).forEach(T=>{d.hasOwnProperty(T)||l.add(T)})})}}),l.size&&(lE(l.values()),e.errors.push(function fk(n,t){return new c.vHH(3008,zt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=So(this,yv(t.animation),e);return{type:1,matchers:Xk(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ef(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>So(this,i,e)),options:Ef(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const l=t.steps.map(d=>{e.currentTime=i;const p=So(this,d,e);return r=Math.max(r,e.currentTime),p});return e.currentTime=r,{type:3,steps:l,options:Ef(t.options)}}visitAnimate(t,e){const i=function aF(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pA(oE(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=pA(0,0,"");return l.dynamic=!0,l.strValue=e,l}const r=oE(e,t);return pA(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,l=t.styles?t.styles:ma({});if(5==l.type)r=this.visitKeyframes(l,e);else{let d=t.styles,p=!1;if(!d){p=!0;const D={};i.easing&&(D.easing=i.easing),d=ma(D)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(d,e);v.isEmptyStep=p,r=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(d=>{"string"==typeof d?d==gu?i.push(d):e.errors.push(function pk(n){return new c.vHH(3002,zt)}()):i.push(d)}):i.push(t.styles);let r=!1,l=null;return i.forEach(d=>{if(pE(d)){const p=d,v=p.easing;if(v&&(l=v,delete p.easing),!r)for(let D in p)if(p[D].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete d[p],void e.unsupportedCSSPropertiesFound.add(p);const v=e.collectedStyles[e.currentQuerySelector],D=v[p];let T=!0;D&&(l!=r&&l>=D.startTime&&r<=D.endTime&&(e.errors.push(function gk(n,t,e,i,r){return new c.vHH(3010,zt)}()),T=!1),l=D.startTime),T&&(v[p]={startTime:l,endTime:r}),e.options&&function $k(n,t,e){const i=t.params||{},r=yT(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||e.push(function ak(n){return new c.vHH(3001,zt)}())})}(d[p],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function mk(){return new c.vHH(3011,zt)}()),i;let l=0;const d=[];let p=!1,v=!1,D=0;const T=t.steps.map(Je=>{const gt=this._makeStyleAst(Je,e);let Gt=null!=gt.offset?gt.offset:function oF(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(pE(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(pE(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(gt.styles),Tt=0;return null!=Gt&&(l++,Tt=gt.offset=Gt),v=v||Tt<0||Tt>1,p=p||Tt<D,D=Tt,d.push(Tt),gt});v&&e.errors.push(function _k(){return new c.vHH(3012,zt)}()),p&&e.errors.push(function yk(){return new c.vHH(3200,zt)}());const O=t.steps.length;let V=0;l>0&&l<O?e.errors.push(function vk(){return new c.vHH(3202,zt)}()):0==l&&(V=1/(O-1));const K=O-1,ie=e.currentTime,Ce=e.currentAnimateTimings,Be=Ce.duration;return T.forEach((Je,gt)=>{const Gt=V>0?gt==K?1:V*gt:d[gt],Tt=Gt*Be;e.currentTime=ie+Ce.delay+Tt,Ce.duration=Tt,this._validateStyleAst(Je,e),Je.offset=Gt,i.styles.push(Je)}),i}visitReference(t,e){return{type:8,animation:So(this,yv(t.animation),e),options:Ef(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ef(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ef(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[l,d]=function iF(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(tF,"")),n=n.replace(/@\*/g,sE).replace(/@\w+/g,e=>sE+"-"+e.substr(1)).replace(/:animating/g,cA),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,Ao(e.collectedStyles,e.currentQuerySelector,{});const p=So(this,yv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:p,originalSelector:t.selector,options:Ef(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function bk(){return new c.vHH(3013,zt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:oE(t.timings,e.errors,!0);return{type:12,animation:So(this,yv(t.animation),e),timings:i,options:null}}}class sF{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pE(n){return!Array.isArray(n)&&"object"==typeof n}function Ef(n){return n?(n=Qg(n)).params&&(n.params=function rF(n){return n?Qg(n):null}(n.params)):n={},n}function pA(n,t,e){return{duration:n,delay:t,easing:e}}function gA(n,t,e,i,r,l,d=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:d,subTimeline:p}}class gE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const uF=new RegExp(":enter","g"),hF=new RegExp(":leave","g");function mA(n,t,e,i,r,l={},d={},p,v,D=[]){return(new fF).buildKeyframes(n,t,e,i,r,l,d,p,v,D)}class fF{buildKeyframes(t,e,i,r,l,d,p,v,D,T=[]){D=D||new gE;const O=new _A(t,e,D,r,l,T,[]);O.options=v,O.currentTimeline.setStyles([d],null,O.errors,v),So(this,i,O);const V=O.timelines.filter(K=>K.containsAnimation());if(Object.keys(p).length){let K;for(let ie=V.length-1;ie>=0;ie--){const Ce=V[ie];if(Ce.element===e){K=Ce;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([p],null,O.errors,v)}return V.length?V.map(K=>K.buildKeyframes()):[gA(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),l=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);l!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const d=null!=i.duration?Cf(i.duration):null,p=null!=i.delay?Cf(i.delay):null;return 0!==d&&t.forEach(v=>{const D=e.appendInstructionToTimeline(v,d,p);l=Math.max(l,D.duration+D.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),So(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const l=t.options;if(l&&(l.params||l.delay)&&(r=e.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=mE);const d=Cf(l.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>So(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?Cf(t.options.delay):0;t.steps.forEach(d=>{const p=e.createSubContext(t.options);l&&p.delayNextStep(l),So(this,d,p),r=Math.max(r,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return oE(e.params?aE(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,l=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(v=>{p.forwardTime((v.offset||0)*l),p.setStyles(v.styles,v.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(r+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},l=r.delay?Cf(r.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=mE);let d=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=p.length;let v=null;p.forEach((D,T)=>{e.currentQueryIndex=T;const O=e.createSubContext(t.options,D);l&&O.delayNextStep(l),D===e.element&&(v=O.currentTimeline),So(this,t.animation,O),O.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,O.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,l=t.timings,d=Math.abs(l.duration),p=d*(e.currentQueryTotal-1);let v=d*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":v=p-v;break;case"full":v=i.currentStaggerTime}const T=e.currentTimeline;v&&T.delayNextStep(v);const O=T.currentTime;So(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-O+(r.startTime-i.currentTimeline.startTime)}}const mE={};class _A{constructor(t,e,i,r,l,d,p,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new _E(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Cf(i.duration)),null!=i.delay&&(r.delay=Cf(i.delay));const l=i.params;if(l){let d=r.params;d||(d=this.options.params={}),Object.keys(l).forEach(p=>{(!e||!d.hasOwnProperty(p))&&(d[p]=aE(l[p],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,l=new _A(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=mE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},l=new pF(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,l,d){let p=[];if(r&&p.push(this.element),t.length>0){t=(t=t.replace(uF,"."+this._enterClassName)).replace(hF,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=i);0!==i&&(D=i<0?D.slice(D.length+i,D.length):D.slice(0,i)),p.push(...D)}return!l&&0==p.length&&d.push(function Ck(n){return new c.vHH(3014,zt)}()),p}}class _E{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new _E(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||gu,this._currentKeyframe[e]=gu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const l=r&&r.params||{},d=function gF(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(l=>{e[l]=gu})):$d(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(d).forEach(p=>{const v=aE(d[p],l,i);this._pendingStyles[p]=v,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:gu),this._updateStyle(p,v)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,v)=>{const D=$d(p,!0);Object.keys(D).forEach(T=>{const O=D[T];"!"==O?t.add(T):O==gu&&e.add(T)}),i||(D.offset=v/this.duration),r.push(D)});const l=t.size?lE(t.values()):[],d=e.size?lE(e.values()):[];if(i){const p=r[0],v=Qg(p);p.offset=0,v.offset=1,r=[p,v]}return gA(this.element,r,l,d,this.duration,this.startTime,this.easing,!1)}}class pF extends _E{constructor(t,e,i,r,l,d,p=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],d=i+e,p=e/d,v=$d(t[0],!1);v.offset=0,l.push(v);const D=$d(t[0],!1);D.offset=ET(p),l.push(D);const T=t.length-1;for(let O=1;O<=T;O++){let V=$d(t[O],!1);V.offset=ET((e+V.offset*i)/d),l.push(V)}i=d,e=0,r="",t=l}return gA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function ET(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class yA{}class mF extends yA{normalizePropertyName(t,e){return hA(t)}normalizeStyleValue(t,e,i,r){let l="";const d=i.toString().trim();if(_F[e]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function uk(n,t){return new c.vHH(3005,zt)}())}return d+l}}const _F=(()=>function yF(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function DT(n,t,e,i,r,l,d,p,v,D,T,O,V){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:l,toState:i,toStyles:d,timelines:p,queriedElements:v,preStyleProps:D,postStyleProps:T,totalTime:O,errors:V}}const vA={};class xT{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function vF(n,t,e,i,r){return n.some(l=>l(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],l=this._stateStyles[t],d=r?r.buildStyles(e,i):{};return l?l.buildStyles(e,i):d}build(t,e,i,r,l,d,p,v,D,T){const O=[],V=this.ast.options&&this.ast.options.params||vA,ie=this.buildStyles(i,p&&p.params||vA,O),Ce=v&&v.params||vA,Be=this.buildStyles(r,Ce,O),Je=new Set,gt=new Map,Gt=new Map,Tt="void"===r,zi={params:Object.assign(Object.assign({},V),Ce)},sr=T?[]:mA(t,e,this.ast.animation,l,d,ie,Be,zi,D,O);let us=0;if(sr.forEach(Cu=>{us=Math.max(Cu.duration+Cu.delay,us)}),O.length)return DT(e,this._triggerName,i,r,Tt,ie,Be,[],[],gt,Gt,us,O);sr.forEach(Cu=>{const wu=Cu.element,tR=Ao(gt,wu,{});Cu.preStyleProps.forEach(xf=>tR[xf]=!0);const Av=Ao(Gt,wu,{});Cu.postStyleProps.forEach(xf=>Av[xf]=!0),wu!==e&&Je.add(wu)});const bu=lE(Je.values());return DT(e,this._triggerName,i,r,Tt,ie,Be,sr,bu,gt,Gt,us)}}class bF{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Qg(this.defaultParams);return Object.keys(t).forEach(l=>{const d=t[l];null!=d&&(r[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(p=>{let v=d[p];v.length>1&&(v=aE(v,r,e));const D=this.normalizer.normalizePropertyName(p,e);v=this.normalizer.normalizeStyleValue(p,D,v,e),i[D]=v})}}),i}}class wF{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new bF(r.style,r.options&&r.options.params||{},i)}),AT(this.states,"true","1"),AT(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new xT(t,r,this.states))}),this.fallbackTransition=function EF(n,t,e){return new xT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function AT(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const DF=new gE;class xF{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],l=fA(this._driver,e,i,[]);if(i.length)throw function Ik(n){return new c.vHH(3503,zt)}();this._animations[t]=l}_buildPlayer(t,e,i){const r=t.element,l=rT(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],l=this._animations[t];let d;const p=new Map;if(l?(d=mA(this._driver,e,l,lA,iE,{},{},i,DF,r),d.forEach(T=>{const O=Ao(p,T.element,{});T.postStyleProps.forEach(V=>O[V]=null)})):(r.push(function Tk(){return new c.vHH(3300,zt)}()),d=[]),r.length)throw function Mk(n){return new c.vHH(3504,zt)}();p.forEach((T,O)=>{Object.keys(T).forEach(V=>{T[V]=this._driver.computeStyle(O,V,gu)})});const D=Gd(d.map(T=>{const O=p.get(T.element);return this._buildPlayer(T,{},O)}));return this._playersById[t]=D,D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function Rk(n){return new c.vHH(3301,zt)}();return e}listen(t,e,i,r){const l=rA(e,"","","");return nA(this._getPlayer(t),i,l,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const ST="ng-animate-queued",bA="ng-animate-disabled",MF=[],IT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_a="__ng_removed";class CA{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function PF(n){return null!=n?n:null}(i?t.value:t),i){const l=Qg(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const vv="void",wA=new CA(vv);class OF{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ya(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function Ok(n,t){return new c.vHH(3302,zt)}();if(null==i||0==i.length)throw function kk(n){return new c.vHH(3303,zt)}();if(!function NF(n){return"start"==n||"done"==n}(i))throw function Fk(n,t){return new c.vHH(3400,zt)}();const l=Ao(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};l.push(d);const p=Ao(this._engine.statesByElement,t,{});return p.hasOwnProperty(e)||(ya(t,rE),ya(t,rE+"-"+e),p[e]=wA),()=>{this._engine.afterFlush(()=>{const v=l.indexOf(d);v>=0&&l.splice(v,1),this._triggers[e]||delete p[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function Pk(n){return new c.vHH(3401,zt)}();return e}trigger(t,e,i,r=!0){const l=this._getTrigger(e),d=new EA(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(ya(t,rE),ya(t,rE+"-"+e),this._engine.statesByElement.set(t,p={}));let v=p[e];const D=new CA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&D.absorbOptions(v.options),p[e]=D,v||(v=wA),D.value!==vv&&v.value===D.value){if(!function VF(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const l=e[r];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(v.params,D.params)){const Ce=[],Be=l.matchStyles(v.value,v.params,Ce),Je=l.matchStyles(D.value,D.params,Ce);Ce.length?this._engine.reportError(Ce):this._engine.afterFlush(()=>{wf(t,Be),ac(t,Je)})}return}const V=Ao(this._engine.playersByElement,t,[]);V.forEach(Ce=>{Ce.namespaceId==this.id&&Ce.triggerName==e&&Ce.queued&&Ce.destroy()});let K=l.matchTransition(v.value,D.value,t,D.params),ie=!1;if(!K){if(!r)return;K=l.fallbackTransition,ie=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:K,fromState:v,toState:D,player:d,isFallbackTransition:ie}),ie||(ya(t,ST),d.onStart(()=>{Xg(t,ST)})),d.onDone(()=>{let Ce=this.players.indexOf(d);Ce>=0&&this.players.splice(Ce,1);const Be=this._engine.playersByElement.get(t);if(Be){let Je=Be.indexOf(d);Je>=0&&Be.splice(Je,1)}}),this.players.push(d),V.push(d),d}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,sE,!0);i.forEach(r=>{if(r[_a])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const l=this._engine.statesByElement.get(t),d=new Map;if(l){const p=[];if(Object.keys(l).forEach(v=>{if(d.set(v,l[v].value),this._triggers[v]){const D=this.trigger(t,v,vv,r);D&&p.push(D)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&Gd(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(l=>{const d=l.name;if(r.has(d))return;r.add(d);const v=this._triggers[d].fallbackTransition,D=i[d]||wA,T=new CA(vv),O=new EA(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:v,fromState:D,toState:T,player:O,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[_a];(!l||l===IT)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ya(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(p=>{if(p.name==i.triggerName){const v=rA(l,i.triggerName,i.fromState.value,i.toState.value);v._data=t,nA(i.player,p.phase,v,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const l=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class kF{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new OF(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,l=i.length-1;if(l>=0){let d=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(e);for(;p;){const v=r.get(p);if(v){const D=i.indexOf(v);i.splice(D+1,0,t),d=!0;break}p=this.driver.getParentElement(p)}}else for(let p=l;p>=0;p--)if(this.driver.containsElement(i[p].hostElement,e)){i.splice(p+1,0,t),d=!0;break}d||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let l=0;l<r.length;l++){const d=i[r[l]].namespaceId;if(d){const p=this._fetchNamespace(d);p&&e.add(p)}}}return e}trigger(t,e,i,r){if(yE(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!yE(e))return;const l=e[_a];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ya(t,bA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Xg(t,bA))}removeNode(t,e,i,r){if(yE(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,l){this.collectedLeaveElements.push(e),e[_a]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,r,l){return yE(e)?this._fetchNamespace(t).listen(e,i,r,l):()=>{}}_buildInstruction(t,e,i,r,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,sE,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,cA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Gd(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[_a];if(i&&i.setForRemoval){if(t[_a]=IT,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(bA))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ya(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Gd(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Nk(n){return new c.vHH(3402,zt)}()}_flushAnimations(t,e){const i=new gE,r=[],l=new Map,d=[],p=new Map,v=new Map,D=new Map,T=new Set;this.disabledNodes.forEach(it=>{T.add(it);const mt=this.driver.query(it,".ng-animate-queued",!0);for(let xt=0;xt<mt.length;xt++)T.add(mt[xt])});const O=this.bodyNode,V=Array.from(this.statesByElement.keys()),K=RT(V,this.collectedEnterElements),ie=new Map;let Ce=0;K.forEach((it,mt)=>{const xt=lA+Ce++;ie.set(mt,xt),it.forEach(rn=>ya(rn,xt))});const Be=[],Je=new Set,gt=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const mt=this.collectedLeaveElements[it],xt=mt[_a];xt&&xt.setForRemoval&&(Be.push(mt),Je.add(mt),xt.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(rn=>Je.add(rn)):gt.add(mt))}const Gt=new Map,Tt=RT(V,Array.from(Je));Tt.forEach((it,mt)=>{const xt=iE+Ce++;Gt.set(mt,xt),it.forEach(rn=>ya(rn,xt))}),t.push(()=>{K.forEach((it,mt)=>{const xt=ie.get(mt);it.forEach(rn=>Xg(rn,xt))}),Tt.forEach((it,mt)=>{const xt=Gt.get(mt);it.forEach(rn=>Xg(rn,xt))}),Be.forEach(it=>{this.processLeaveNode(it)})});const zi=[],sr=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(e).forEach(xt=>{const rn=xt.player,or=xt.element;if(zi.push(rn),this.collectedEnterElements.length){const ds=or[_a];if(ds&&ds.setForMove){if(ds.previousTriggersValues&&ds.previousTriggersValues.has(xt.triggerName)){const Af=ds.previousTriggersValues.get(xt.triggerName),Wd=this.statesByElement.get(xt.element);Wd&&Wd[xt.triggerName]&&(Wd[xt.triggerName].value=Af)}return void rn.destroy()}}const lc=!O||!this.driver.containsElement(O,or),Io=Gt.get(or),zd=ie.get(or),Kn=this._buildInstruction(xt,i,zd,Io,lc);if(Kn.errors&&Kn.errors.length)return void sr.push(Kn);if(lc)return rn.onStart(()=>wf(or,Kn.fromStyles)),rn.onDestroy(()=>ac(or,Kn.toStyles)),void r.push(rn);if(xt.isFallbackTransition)return rn.onStart(()=>wf(or,Kn.fromStyles)),rn.onDestroy(()=>ac(or,Kn.toStyles)),void r.push(rn);const rR=[];Kn.timelines.forEach(ds=>{ds.stretchStartingKeyframe=!0,this.disabledNodes.has(ds.element)||rR.push(ds)}),Kn.timelines=rR,i.append(or,Kn.timelines),d.push({instruction:Kn,player:rn,element:or}),Kn.queriedElements.forEach(ds=>Ao(p,ds,[]).push(rn)),Kn.preStyleProps.forEach((ds,Af)=>{const Wd=Object.keys(ds);if(Wd.length){let Sf=v.get(Af);Sf||v.set(Af,Sf=new Set),Wd.forEach(JA=>Sf.add(JA))}}),Kn.postStyleProps.forEach((ds,Af)=>{const Wd=Object.keys(ds);let Sf=D.get(Af);Sf||D.set(Af,Sf=new Set),Wd.forEach(JA=>Sf.add(JA))})});if(sr.length){const it=[];sr.forEach(mt=>{it.push(function Lk(n,t){return new c.vHH(3505,zt)}())}),zi.forEach(mt=>mt.destroy()),this.reportError(it)}const us=new Map,bu=new Map;d.forEach(it=>{const mt=it.element;i.has(mt)&&(bu.set(mt,mt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,us))}),r.forEach(it=>{const mt=it.element;this._getPreviousPlayers(mt,!1,it.namespaceId,it.triggerName,null).forEach(rn=>{Ao(us,mt,[]).push(rn),rn.destroy()})});const Cu=Be.filter(it=>kT(it,v,D)),wu=new Map;MT(wu,this.driver,gt,D,gu).forEach(it=>{kT(it,v,D)&&Cu.push(it)});const Av=new Map;K.forEach((it,mt)=>{MT(Av,this.driver,new Set(it),v,"!")}),Cu.forEach(it=>{const mt=wu.get(it),xt=Av.get(it);wu.set(it,Object.assign(Object.assign({},mt),xt))});const xf=[],nR=[],iR={};d.forEach(it=>{const{element:mt,player:xt,instruction:rn}=it;if(i.has(mt)){if(T.has(mt))return xt.onDestroy(()=>ac(mt,rn.toStyles)),xt.disabled=!0,xt.overrideTotalTime(rn.totalTime),void r.push(xt);let or=iR;if(bu.size>1){let Io=mt;const zd=[];for(;Io=Io.parentNode;){const Kn=bu.get(Io);if(Kn){or=Kn;break}zd.push(Io)}zd.forEach(Kn=>bu.set(Kn,or))}const lc=this._buildAnimation(xt.namespaceId,rn,us,l,Av,wu);if(xt.setRealPlayer(lc),or===iR)xf.push(xt);else{const Io=this.playersByElement.get(or);Io&&Io.length&&(xt.parentPlayer=Gd(Io)),r.push(xt)}}else wf(mt,rn.fromStyles),xt.onDestroy(()=>ac(mt,rn.toStyles)),nR.push(xt),T.has(mt)&&r.push(xt)}),nR.forEach(it=>{const mt=l.get(it.element);if(mt&&mt.length){const xt=Gd(mt);it.setRealPlayer(xt)}}),r.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<Be.length;it++){const mt=Be[it],xt=mt[_a];if(Xg(mt,iE),xt&&xt.hasAnimation)continue;let rn=[];if(p.size){let lc=p.get(mt);lc&&lc.length&&rn.push(...lc);let Io=this.driver.query(mt,cA,!0);for(let zd=0;zd<Io.length;zd++){let Kn=p.get(Io[zd]);Kn&&Kn.length&&rn.push(...Kn)}}const or=rn.filter(lc=>!lc.destroyed);or.length?LF(this,mt,or):this.processLeaveNode(mt)}return Be.length=0,xf.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const mt=this.players.indexOf(it);this.players.splice(mt,1)}),it.play()}),xf}elementContainsData(t,e){let i=!1;const r=e[_a];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,l){let d=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(d=p)}else{const p=this.playersByElement.get(t);if(p){const v=!l||l==vv;p.forEach(D=>{D.queued||!v&&D.triggerName!=r||d.push(D)})}}return(i||r)&&(d=d.filter(p=>!(i&&i!=p.namespaceId||r&&r!=p.triggerName))),d}_beforeAnimationBuild(t,e,i){const l=e.element,d=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const D=v.element,T=D!==l,O=Ao(i,D,[]);this._getPreviousPlayers(D,T,d,p,e.toState).forEach(K=>{const ie=K.getRealPlayer();ie.beforeDestroy&&ie.beforeDestroy(),K.destroy(),O.push(K)})}wf(l,e.fromStyles)}_buildAnimation(t,e,i,r,l,d){const p=e.triggerName,v=e.element,D=[],T=new Set,O=new Set,V=e.timelines.map(ie=>{const Ce=ie.element;T.add(Ce);const Be=Ce[_a];if(Be&&Be.removedBeforeQueried)return new _v(ie.duration,ie.delay);const Je=Ce!==v,gt=function BF(n){const t=[];return OT(n,t),t}((i.get(Ce)||MF).map(us=>us.getRealPlayer())).filter(us=>!!us.element&&us.element===Ce),Gt=l.get(Ce),Tt=d.get(Ce),zi=rT(0,this._normalizer,0,ie.keyframes,Gt,Tt),sr=this._buildPlayer(ie,zi,gt);if(ie.subTimeline&&r&&O.add(Ce),Je){const us=new EA(t,p,Ce);us.setRealPlayer(sr),D.push(us)}return sr});D.forEach(ie=>{Ao(this.playersByQueriedElement,ie.element,[]).push(ie),ie.onDone(()=>function FF(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,ie.element,ie))}),T.forEach(ie=>ya(ie,pT));const K=Gd(V);return K.onDestroy(()=>{T.forEach(ie=>Xg(ie,pT)),ac(v,e.toStyles)}),O.forEach(ie=>{Ao(r,ie,[]).push(K)}),K}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new _v(t.duration,t.delay)}}class EA{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new _v,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>nA(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ao(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function yE(n){return n&&1===n.nodeType}function TT(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function MT(n,t,e,i,r){const l=[];e.forEach(v=>l.push(TT(v)));const d=[];i.forEach((v,D)=>{const T={};v.forEach(O=>{const V=T[O]=t.computeStyle(D,O,r);(!V||0==V.length)&&(D[_a]=RF,d.push(D))}),n.set(D,T)});let p=0;return e.forEach(v=>TT(v,l[p++])),d}function RT(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const r=new Set(t),l=new Map;function d(p){if(!p)return 1;let v=l.get(p);if(v)return v;const D=p.parentNode;return v=e.has(D)?D:r.has(D)?1:d(D),l.set(p,v),v}return t.forEach(p=>{const v=d(p);1!==v&&e.get(v).push(p)}),e}function ya(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Xg(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function LF(n,t,e){Gd(e).onDone(()=>n.processLeaveNode(t))}function OT(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof nT?OT(i.players,t):t.push(i)}}function kT(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(l=>r.add(l)):t.set(n,i),e.delete(n),!0}class vE{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new kF(t,e,i),this._timelineEngine=new xF(t,e,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(t,e,i,r,l){const d=t+"-"+r;let p=this._triggerCache[d];if(!p){const v=[],T=fA(this._driver,l,v,[]);if(v.length)throw function Ak(n,t){return new c.vHH(3404,zt)}();p=function CF(n,t,e){return new wF(n,t,e)}(r,T,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(e,r,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[l,d]=sT(i);this._timelineEngine.command(l,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,l){if("@"==i.charAt(0)){const[d,p]=sT(i);return this._timelineEngine.listen(d,e,p,l)}return this._transitionEngine.listen(t,e,i,r,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let HF=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&ac(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ac(this._element,this._initialStyles),this._endStyles&&(ac(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wf(this._element,this._endStyles),this._endStyles=null),ac(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function DA(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];jF(r)&&(t=t||{},t[r]=n[r])}return t}function jF(n){return"display"===n||"position"===n}class FT{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:vT(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class GF{validateStyleProperty(t){return cT(t)}matchesElement(t,e){return!1}containsElement(t,e){return uT(t,e)}getParentElement(t){return oA(t)}query(t,e,i){return dT(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,l,d=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(v.easing=l);const D={},T=d.filter(V=>V instanceof FT);(function Yk(n,t){return 0===n||0===t})(i,r)&&T.forEach(V=>{let K=V.currentSnapshot;Object.keys(K).forEach(ie=>D[ie]=K[ie])}),e=function qk(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let l=t[0],d=[];if(i.forEach(p=>{l.hasOwnProperty(p)||d.push(p),l[p]=e[p]}),d.length)for(var r=1;r<t.length;r++){let p=t[r];d.forEach(function(v){p[v]=vT(n,v)})}}return t}(t,e=e.map(V=>$d(V,!1)),D);const O=function UF(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=DA(t[0]),t.length>1&&(i=DA(t[t.length-1]))):t&&(e=DA(t)),e||i?new HF(n,e,i):null}(t,e);return new FT(t,e,v,O)}}let $F=(()=>{class n extends XI{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?eT(e):e;return PT(this._renderer,null,i,"register",[r]),new zF(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(ne))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class zF extends class rk{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new WF(this._id,t,e||{},this._renderer)}}class WF{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return PT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function PT(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const NT="@.disabled";let YF=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const p=null==d?void 0:d.parentNode(l);p&&d.removeChild(p,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(l);return T||(T=new LT("",l,this.engine),this._rendererCache.set(l,T)),T}const d=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const v=T=>{Array.isArray(T)?T.forEach(v):this.engine.registerTrigger(d,p,e,T.name,T)};return i.data.animation.forEach(v),new qF(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,p]=l;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(vE),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class LT{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==NT?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class qF extends LT{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==NT?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function ZF(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function KF(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,r,l,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}let QF=(()=>{class n extends vE{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ne),c.LFG(aA),c.LFG(yA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Jg=new c.OlP("AnimationModuleType"),BT=[{provide:XI,useClass:$F},{provide:yA,useFactory:function XF(){return new mF}},{provide:vE,useClass:QF},{provide:c.FYo,useFactory:function JF(n,t,e){return new YF(n,t,e)},deps:[eo,vE,c.R0b]}],VT=[{provide:aA,useFactory:()=>new GF},{provide:Jg,useValue:"BrowserAnimations"},...BT],eP=[{provide:aA,useClass:hT},{provide:Jg,useValue:"NoopAnimations"},...BT];let tP=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?eP:VT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:VT,imports:[No]}),n})();const iP=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function nP(){return!0}});let rr=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!jx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ik),c.LFG(iP,8),c.LFG(ne))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yg],Yg]}),n})();function rP(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=hi(t)}}}function HT(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function sP(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=hi(t)}}}function oP(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new St.x,this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}let jT=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lP{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const GT={enterDuration:225,exitDuration:150},xA=Xw({passive:!0}),$T=["mousedown","touchstart"],zT=["mouseup","mouseleave","touchend","touchcancel"];class uP{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pu(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},GT),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function hP(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),p=t-r.left,v=e-r.top,D=l.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=p-d+"px",T.style.top=v-d+"px",T.style.height=2*d+"px",T.style.width=2*d+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(T),function dP(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const O=new lP(this,T,i);return O.state=0,this._activeRipples.add(O),i.persistent||(this._mostRecentTransientRipple=O),this._runTimeoutOutsideZone(()=>{const V=O===this._mostRecentTransientRipple;O.state=1,!i.persistent&&(!V||!this._isPointerDown)&&O.fadeOut()},D),O}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},GT),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=pu(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents($T))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zT),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=WI(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!YI(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,xA)})})}_removeTriggerEvents(){this._triggerElement&&($T.forEach(t=>{this._triggerElement.removeEventListener(t,this,xA)}),this._pointerUpEventsRegistered&&zT.forEach(t=>{this._triggerElement.removeEventListener(t,this,xA)}))}}const fP=new c.OlP("mat-ripple-global-options");let WT=(()=>{class n{constructor(e,i,r,l,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new uP(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(zs),c.Y36(fP,8),c.Y36(Jg,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),YT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rr],rr]}),n})(),pP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rr]]}),n})(),qT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[YT,vs,rr,pP]]}),n})();function gP(n,t){}class AA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const mP={dialogContainer:tE("dialogContainer",[Zg("void, exit",ma({opacity:0,transform:"scale(0.7)"})),Zg("enter",ma({transform:"none"})),Kg("* => enter",JI([mv("150ms cubic-bezier(0, 0, 0.2, 1)",ma({transform:"none",opacity:1})),Jx("@*",Xx(),{optional:!0})])),Kg("* => void, * => exit",JI([mv("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ma({opacity:0})),Jx("@*",Xx(),{optional:!0})]))])};let _P=(()=>{class n extends qx{constructor(e,i,r,l,d,p,v,D){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=d,this._interactivityChecker=p,this._ngZone=v,this._focusMonitor=D,this._animationStateChanged=new c.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Hx())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Hx(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Hx();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(QO),c.Y36(c.sBO),c.Y36(ne,8),c.Y36(AA),c.Y36(GI),c.Y36(c.R0b),c.Y36(ZI))},n.\u0275dir=c.lG2({type:n,viewQuery:function(e,i){if(1&e&&c.Gf(II,7),2&e){let r;c.iGM(r=c.CRH())&&(i._portalOutlet=r.first)}},features:[c.qOj]}),n})(),yP=(()=>{class n extends _P{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&c.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&e&&(c.Ikx("id",i._id),c.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),c.d8E("@dialogContainer",i._state))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&c.YNc(0,gP,0,0,"ng-template",0)},directives:[II],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[mP.dialogContainer]}}),n})(),vP=0;class SA{constructor(t,e,i="mat-dialog-"+vP++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new St.x,this._afterClosed=new St.x,this._beforeClosed=new St.x,this._state=0,e._id=i,e._animationStateChanged.pipe(qt(r=>"opened"===r.state),Ci(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(qt(r=>"closed"===r.state),Ci(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(qt(r=>27===r.keyCode&&!this.disableClose&&!function NO(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),ZT(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ZT(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(qt(e=>"closing"===e.state),Ci(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ZT(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const bP=new c.OlP("MatDialogData"),CP=new c.OlP("mat-dialog-default-options"),KT=new c.OlP("mat-dialog-scroll-strategy"),EP={provide:KT,deps:[gv],useFactory:function wP(n){return()=>n.scrollStrategies.block()}};let DP=(()=>{class n{constructor(e,i,r,l,d,p,v,D,T,O){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=l,this._overlayContainer=d,this._dialogRefConstructor=v,this._dialogContainerType=D,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new St.x,this._afterOpenedAtThisLevel=new St.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Go(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(gr(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function xP(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new AA),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),l=this._attachDialogContainer(r,i),d=this._attachDialogContent(e,l,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),l._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new kI({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const l=c.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:AA,useValue:i}]}),d=new Yx(this._dialogContainerType,i.viewContainerRef,l,i.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,r,l){const d=new this._dialogRefConstructor(r,i,l.id);if(e instanceof c.Rgc)i.attachTemplatePortal(new SI(e,null,{$implicit:l.data,dialogRef:d}));else{const p=this._createInjector(l,d,i),v=i.attachComponentPortal(new Yx(e,l.viewContainerRef,p,l.componentFactoryResolver));d.componentInstance=v.instance}return d.updateSize(l.width,l.height).updatePosition(l.position),d}_createInjector(e,i,r){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!l||!l.get(yf,null,c.XFs.Optional))&&d.push({provide:yf,useValue:{value:e.direction,change:Ke()}}),c.zs3.create({parent:l||this._injector,providers:d})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,l)=>{r?l.setAttribute("aria-hidden",r):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let l=i[r];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n}),n})(),QT=(()=>{class n extends DP{constructor(e,i,r,l,d,p,v,D){super(e,i,l,p,v,d,SA,yP,bP,D)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(gv),c.LFG(c.zs3),c.LFG(ge,8),c.LFG(CP,8),c.LFG(KT),c.LFG(n,12),c.LFG(Kx),c.LFG(Jg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),AP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[QT,EP],imports:[[VI,TI,rr],rr]}),n})(),XT=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IP=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=pu(e);return new cn.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new St.x,r=this._mutationObserverFactory.create(l=>i.next(l));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(XT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TP=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=hi(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function kR(n,t=0){return yI(n)?Number(n):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function SP(n,t=up.z){return(0,wn.e)((e,i)=>{let r=null,l=null,d=null;const p=()=>{if(r){r.unsubscribe(),r=null;const D=l;l=null,i.next(D)}};function v(){const D=d+n,T=t.now();if(T<D)return r=this.schedule(void 0,D-T),void i.add(r);p()}e.subscribe((0,Cn.x)(i,D=>{l=D,d=t.now(),r||(r=t.schedule(v,n),i.add(r))},()=>{p(),i.complete()},void 0,()=>{l=r=null}))})}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(IP),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),MP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[XT]}),n})();const RP=["connectionContainer"],OP=["inputContainer"],kP=["label"];function FP(n,t){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15)(3,"div",16)(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15)(7,"div",16)(8,"div",17),c.qZA(),c.BQk())}function PP(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(e),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function NP(n,t){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const e=c.oxw(2);c.xp6(3),c.Oqu(e._control.placeholder)}}function LP(n,t){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function BP(n,t){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function VP(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(e),c.oxw().updateOutlineGap()}),c.YNc(2,NP,4,1,"ng-container",12),c.YNc(3,LP,1,0,"ng-content",12),c.YNc(4,BP,2,0,"span",22),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),c.uIk("for",e._control.id)("aria-owns",e._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function UP(n,t){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function HP(n,t){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function jP(n,t){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function GP(n,t){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function $P(n,t){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,GP,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const zP=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],WP=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],YP=new c.OlP("MatError"),qP={transitionMessages:tE("transitionMessages",[Zg("enter",ma({opacity:1,transform:"translateY(0%)"})),Kg("void => enter",[ma({opacity:0,transform:"translateY(-5px)"}),mv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let IA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})();const ZP=new c.OlP("MatHint");let CE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),KP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const QP=new c.OlP("MatPrefix"),XP=new c.OlP("MatSuffix");let JT=0;const eN=HT(class{constructor(n){this._elementRef=n}},"primary"),tN=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tM=new c.OlP("MatFormField");let nM=(()=>{class n extends eN{constructor(e,i,r,l,d,p,v){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=l,this._platform=d,this._ngZone=p,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new St.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+JT++,this._labelId="mat-form-field-label-"+JT++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=hi(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(gr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe($r(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe($r(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,za.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(gr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(gr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe($r(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Zw(this._label.nativeElement,"transitionend").pipe(Ci(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,r=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const T=i.querySelectorAll(`${r}, ${l}`);for(let O=0;O<T.length;O++)T[O].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,p=0;const v=i.querySelectorAll(r),D=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const O=this._getStartEnd(T),V=e.children,K=this._getStartEnd(V[0].getBoundingClientRect());let ie=0;for(let Ce=0;Ce<V.length;Ce++)ie+=V[Ce].offsetWidth;d=Math.abs(K-O)-5,p=ie>0?.75*ie+10:0}for(let T=0;T<v.length;T++)v[T].style.width=`${d}px`;for(let T=0;T<D.length;T++)D[T].style.width=`${p}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(yf,8),c.Y36(tN,8),c.Y36(zs),c.Y36(c.R0b),c.Y36(Jg,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,IA,5),c.Suo(r,IA,7),c.Suo(r,CE,5),c.Suo(r,CE,7),c.Suo(r,KP,5),c.Suo(r,YP,5),c.Suo(r,ZP,5),c.Suo(r,QP,5),c.Suo(r,XP,5)),2&e){let l;c.iGM(l=c.CRH())&&(i._controlNonStatic=l.first),c.iGM(l=c.CRH())&&(i._controlStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(i._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(i._placeholderChild=l.first),c.iGM(l=c.CRH())&&(i._errorChildren=l),c.iGM(l=c.CRH())&&(i._hintChildren=l),c.iGM(l=c.CRH())&&(i._prefixChildren=l),c.iGM(l=c.CRH())&&(i._suffixChildren=l)}},viewQuery:function(e,i){if(1&e&&(c.Gf(RP,7),c.Gf(OP,5),c.Gf(kP,5)),2&e){let r;c.iGM(r=c.CRH())&&(i._connectionContainerRef=r.first),c.iGM(r=c.CRH())&&(i._inputContainerRef=r.first),c.iGM(r=c.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&c.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:tM,useExisting:n}]),c.qOj],ngContentSelectors:WP,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(c.F$t(zP),c.TgZ(0,"div",0)(1,"div",1,2),c.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),c.YNc(3,FP,9,0,"ng-container",3),c.YNc(4,PP,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,VP,5,16,"label",8),c.qZA()(),c.YNc(10,UP,2,0,"div",9),c.qZA(),c.YNc(11,HP,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,jP,2,1,"div",12),c.YNc(14,$P,5,2,"div",13),c.qZA()()),2&e&&(c.xp6(3),c.Q6J("ngIf","outline"==i.appearance),c.xp6(1),c.Q6J("ngIf",i._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",i._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",i._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=i.appearance),c.xp6(1),c.Q6J("ngSwitch",i._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[Bn,TP,yi,ur],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[qP.transitionMessages]},changeDetection:0}),n})(),TA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vs,rr,MP],rr]}),n})();const iM=Xw({passive:!0});let nN=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Li.E;const i=pu(e),r=this._monitoredElements.get(i);if(r)return r.subject;const l=new St.x,d="cdk-text-field-autofilled",p=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>l.next({target:v.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>l.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",p,iM),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",p,iM)}}),l}stopMonitoring(e){const i=pu(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const iN=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),rN=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let sN=0;const oN=oP(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let sM=(()=>{class n extends oN{constructor(e,i,r,l,d,p,v,D,T,O){super(p,l,d,r),this._elementRef=e,this._platform=i,this._autofillMonitor=D,this._formField=O,this._uid="mat-input-"+sN++,this.focused=!1,this.stateChanges=new St.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ie=>AI().has(ie)),this._iOSKeyupListener=ie=>{const Ce=ie.target;!Ce.value&&0===Ce.selectionStart&&0===Ce.selectionEnd&&(Ce.setSelectionRange(1,1),Ce.setSelectionRange(0,0))};const V=this._elementRef.nativeElement,K=V.nodeName.toLowerCase();this._inputValueAccessor=v||V,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!O,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=hi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(sl.required))&&void 0!==l&&l}set required(e){this._required=hi(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&AI().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=hi(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=r,r?l.setAttribute("placeholder",r):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){rN.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(zs),c.Y36(pa,10),c.Y36(o,8),c.Y36(oc,8),c.Y36(jT),c.Y36(iN,10),c.Y36(nN),c.Y36(c.R0b),c.Y36(tM,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(c.Ikx("disabled",i.disabled)("required",i.required),c.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),c.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:IA,useExisting:n}]),c.qOj,c.TTD]}),n})(),aN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[jT],imports:[[rM,TA,rr],rM,TA]}),n})();const lN=["mat-button",""],cN=["*"],dN=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],hN=HT(rP(sP(class{constructor(n){this._elementRef=n}})));let wE=(()=>{class n extends hN{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of dN)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(ZI),c.Y36(Jg,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&c.Gf(WT,5),2&e){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:lN,ngContentSelectors:cN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1)(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[WT],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),oM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[YT,rr],rr]}),n})(),fN=(()=>{class n{constructor(e,i,r,l){this.fb=e,this.db=i,this.router=r,this.dialogRef=l}ngOnInit(){this.lobbyForm=this.fb.group({userName:["",sl.required],lobbyName:["",sl.required],lobbyPassword:["",sl.required]}),this.db.object("/lobbies").valueChanges().subscribe(i=>{this.allLobbies=i})}createLobby(){var e,i,r,l,d;if(!this.lobbyForm.valid)return;const D=this.db.list("/users").push(null===(e=this.getUserName())||void 0===e?void 0:e.value).key,T=this.db.list("/lobbies"),O={lobbyName:null===(i=this.getLobbyName())||void 0===i?void 0:i.value,lobbyPassword:null===(r=this.getLobbyPassword())||void 0===r?void 0:r.value,users:[{name:null===(l=this.getUserName())||void 0===l?void 0:l.value,userId:D,admin:!0}],timestamp:(new Date).getTime()},V=T.push(O);V.update(Object.assign(Object.assign({},O),{uniqueId:V.key})),sessionStorage.setItem("user",`{ "name": "${null===(d=this.getUserName())||void 0===d?void 0:d.value}", "userId": "${D}", "admin": true }`),this.router.navigate(["lobby",V.key]),this.dialogRef.close()}getUserName(){return this.lobbyForm.get("userName")}getLobbyPassword(){return this.lobbyForm.get("lobbyPassword")}getLobbyName(){return this.lobbyForm.get("lobbyName")}deleteOldLobbies(){const i=(new Date).getTime();Object.keys(this.allLobbies).filter(l=>i-l.timestamp>864e5)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(_I),c.Y36(du),c.Y36(di),c.Y36(SA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-create-lobby"]],decls:22,vars:1,consts:[[3,"formGroup"],[1,"container-centered"],["appearance","outline"],["matInput","","placeholder","your name","type","text","formControlName","userName"],["matInput","","placeholder","lobby name","type","text","formControlName","lobbyName"],["matInput","","placeholder","password","type","password","formControlName","lobbyPassword"],["mat-raised-button","","color","primary","type","submit",1,"center-button",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"form",0)(1,"h2"),c._uU(2,"Create Your Lobby"),c.qZA(),c.TgZ(3,"div",1)(4,"p")(5,"mat-form-field",2)(6,"mat-label"),c._uU(7,"Your Name"),c.qZA(),c._UZ(8,"input",3),c.qZA()(),c.TgZ(9,"p")(10,"mat-form-field",2)(11,"mat-label"),c._uU(12,"Lobby Name"),c.qZA(),c._UZ(13,"input",4),c.qZA()(),c.TgZ(14,"p")(15,"mat-form-field",2)(16,"mat-label"),c._uU(17,"Lobby Password"),c.qZA(),c._UZ(18,"input",5),c.qZA()(),c._UZ(19,"hr"),c.TgZ(20,"button",6),c.NdJ("click",function(){return i.createLobby()}),c._uU(21," Create Lobby "),c.qZA()()()),2&e&&c.Q6J("formGroup",i.lobbyForm)},directives:[$,Ng,oc,nM,CE,sM,Tg,Pg,qw,wE],styles:[".button-neu[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;color:#000;background:linear-gradient(145deg,#cacaca,#f0f0f0);box-shadow:12px 12px 20px #989898,-12px -12px 20px #fff}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto}.container-centered[_ngcontent-%COMP%]{text-align:center}"]}),n})(),pN=(()=>{class n{constructor(e,i,r,l){this.fb=e,this.db=i,this.router=r,this.dialogRef=l,this.db.list("/lobbies").valueChanges().subscribe(d=>{this.items=d})}ngOnInit(){this.lobbyForm=this.fb.group({userName:["",sl.required],lobbyName:["",sl.required],lobbyPassword:["",sl.required]})}joinLobby(){var e,i,r,l;if(!this.lobbyForm.valid)return;const d=null===(e=this.getLobbyName())||void 0===e?void 0:e.value,p=this.items.findIndex(D=>D.lobbyName===d),v=this.items[p];if(p>-1){const O=this.db.list("/users").push(null===(i=this.getUserName())||void 0===i?void 0:i.value).key,V=this.db.object(`lobbies/${v.uniqueId}`);v.users.push({name:null===(r=this.getUserName())||void 0===r?void 0:r.value,userId:O,admin:!1}),V.update(v),sessionStorage.setItem("user",`{ "name": "${null===(l=this.getUserName())||void 0===l?void 0:l.value}", "userId": "${O}", "admin": false }`),this.router.navigate(["lobby",v.uniqueId]),this.dialogRef.close()}}getUserName(){return this.lobbyForm.get("userName")}getLobbyPassword(){return this.lobbyForm.get("lobbyPassword")}getLobbyName(){return this.lobbyForm.get("lobbyName")}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(_I),c.Y36(du),c.Y36(di),c.Y36(SA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-join-lobby"]],decls:22,vars:1,consts:[[3,"formGroup"],[1,"container-centered"],["appearance","outline"],["matInput","","placeholder","your name","type","text","formControlName","userName"],["matInput","","placeholder","lobby name","type","text","formControlName","lobbyName"],["matInput","","placeholder","password","type","password","formControlName","lobbyPassword"],["mat-raised-button","","color","primary","type","submit",1,"center-button",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"form",0)(1,"h2"),c._uU(2,"Join Lobby"),c.qZA(),c.TgZ(3,"div",1)(4,"p")(5,"mat-form-field",2)(6,"mat-label"),c._uU(7,"Your Name"),c.qZA(),c._UZ(8,"input",3),c.qZA()(),c.TgZ(9,"p")(10,"mat-form-field",2)(11,"mat-label"),c._uU(12,"Lobby Name"),c.qZA(),c._UZ(13,"input",4),c.qZA()(),c.TgZ(14,"p")(15,"mat-form-field",2)(16,"mat-label"),c._uU(17,"Lobby Password"),c.qZA(),c._UZ(18,"input",5),c.qZA()(),c._UZ(19,"hr"),c.TgZ(20,"button",6),c.NdJ("click",function(){return i.joinLobby()}),c._uU(21," Join Lobby "),c.qZA()()()),2&e&&c.Q6J("formGroup",i.lobbyForm)},directives:[$,Ng,oc,nM,CE,sM,Tg,Pg,qw,wE],styles:[".button-neu[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;color:#000;background:linear-gradient(145deg,#cacaca,#f0f0f0);box-shadow:12px 12px 20px #989898,-12px -12px 20px #fff}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto}.container-centered[_ngcontent-%COMP%]{text-align:center}"]}),n})(),gN=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=hi(e)}get inset(){return this._inset}set inset(e){this._inset=hi(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),c.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),mN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rr],rr]}),n})();const _N=[{path:"",component:(()=>{class n{constructor(e,i){this.dialog=e,this.db=i,this.modal=!1}ngOnInit(){}openCreateLobbyDialog(){this.dialog.open(fN,{})}openJoinLobbyDialog(){this.dialog.open(pN,{})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(QT),c.Y36(du))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"home"],[1,"container-centered"],["mat-raised-button","",1,"button-neu",3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return i.openCreateLobbyDialog()}),c._uU(3," Create Lobby "),c.qZA(),c._UZ(4,"mat-divider"),c.TgZ(5,"button",2),c.NdJ("click",function(){return i.openJoinLobbyDialog()}),c._uU(6," Join Lobby "),c.qZA()()())},directives:[wE,gN],styles:[".home[_ngcontent-%COMP%]{min-height:99vh;height:100vh}.container-centered[_ngcontent-%COMP%]{text-align:center;position:relative;margin:auto;top:50%;left:50%;transform:translate(-50%,-50%)}.button-neu[_ngcontent-%COMP%]{margin-top:15px;color:#000;margin-bottom:15px;background:linear-gradient(145deg,#cacaca,#f0f0f0);box-shadow:12px 12px 20px #989898,-12px -12px 20px #fff}.button-neu[_ngcontent-%COMP%]:hover{color:#0f1923}"]}),n})()}];let yN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Rs.forChild(_N)],Rs]}),n})();const EN={provide:new c.OlP("mat-select-scroll-strategy"),deps:[gv],useFactory:function wN(n){return()=>n.scrollStrategies.reposition()}};let DN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[EN],imports:[[vs,VI,qT,rr],$x,TA,qT,rr]}),n})();const IN={provide:c.tb,useFactory:function SN(n,t){return()=>{if(vn(t)){const e=Array.from(n.querySelectorAll(`[class*=${dM}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${dM}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[ne,c.Lbi],multi:!0},dM="flex-layout-";let RA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[IN]}),n})();const OA={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},ol=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>OA}),em=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),kA=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});let MM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[RA]]}),n})(),FM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[RA,Yg]]}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[RA]]}),n})(),VB=(()=>{class n{constructor(e,i){dr(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:ol,useValue:Object.assign(Object.assign({},OA),e)},{provide:kA,useValue:i,multi:!0},{provide:em,useValue:!0}]:[{provide:ol,useValue:Object.assign(Object.assign({},OA),e)},{provide:kA,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(em),c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[FM,MM,jM],FM,MM,jM]}),n})(),UB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[vs,yN,mI,VB,rr,mN,AP,aN,oM,DN]]}),n})();function LA(n){return n&&"function"==typeof n.connect}class GM{applyChanges(t,e,i,r,l){t.forEachOperation((d,p,v)=>{let D,T;if(null==d.previousIndex){const O=i(d,p,v);D=e.createEmbeddedView(O.templateRef,O.context,O.index),T=1}else null==v?(e.remove(p),T=3):(D=e.get(p),e.move(D,v),T=2);l&&l({context:null==D?void 0:D.context,operation:T,record:d})})}detach(){}}const Ev=new c.OlP("_ViewRepeater"),GB=[[["caption"]],[["colgroup"],["col"]]],$B=["caption","colgroup, col"];function BA(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=hi(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const nm=new c.OlP("CDK_TABLE");let im=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),rm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),AE=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class qB{}const ZB=BA(qB);let yu=(()=>{class n extends ZB{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=hi(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(nm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,im,5),c.Suo(r,rm,5),c.Suo(r,AE,5)),2&e){let l;c.iGM(l=c.CRH())&&(i.cell=l.first),c.iGM(l=c.CRH())&&(i.headerCell=l.first),c.iGM(l=c.CRH())&&(i.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})();class VA{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let UA=(()=>{class n extends VA{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(yu),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]}),n})(),HA=(()=>{class n extends VA{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const l=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(yu),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]}),n})();class WM{constructor(){this.tasks=[],this.endTasks=[]}}const jA=new c.OlP("_COALESCED_STYLE_SCHEDULER");let YM=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new St.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new WM,this._getScheduleObservable().pipe($r(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new WM;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,kn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ci(1))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),GA=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Dv?e.headerCell.template:this instanceof xv?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();class KB extends GA{}const QB=BA(KB);let Dv=(()=>{class n extends QB{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(nm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})();class XB extends GA{}const JB=BA(XB);let xv=(()=>{class n extends JB{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(nm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})(),SE=(()=>{class n extends GA{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(nm,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]}),n})(),vu=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),$A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},directives:[vu],encapsulation:2}),n})(),WA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},directives:[vu],encapsulation:2}),n})(),IE=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const qM=["top","bottom","left","right"];class eV{constructor(t,e,i,r,l=!0,d=!0,p){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=l,this._needsPositionStickyOnElement=d,this._positionListener=p,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let l=0;l<r.children.length;l++)i.push(r.children[l])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(V=>V)&&!i.some(V=>V))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=t[0],d=l.children.length,p=this._getCellWidths(l,r),v=this._getStickyStartColumnPositions(p,e),D=this._getStickyEndColumnPositions(p,i),T=e.lastIndexOf(!0),O=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const V="rtl"===this.direction,K=V?"right":"left",ie=V?"left":"right";for(const Ce of t)for(let Be=0;Be<d;Be++){const Je=Ce.children[Be];e[Be]&&this._addStickyStyle(Je,K,v[Be],Be===T),i[Be]&&this._addStickyStyle(Je,ie,D[Be],Be===O)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:p.slice(0,T+1).map((Ce,Be)=>e[Be]?Ce:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===O?[]:p.slice(O).map((Ce,Be)=>i[Be+O]?Ce:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,l="bottom"===i?e.slice().reverse():e,d=[],p=[],v=[];for(let T=0,O=0;T<r.length;T++){if(!l[T])continue;d[T]=O;const V=r[T];v[T]=this._isNativeHtmlTable?Array.from(V.children):[V];const K=V.getBoundingClientRect().height;O+=K,p[T]=K}const D=l.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,O;for(let V=0;V<r.length;V++){if(!l[V])continue;const K=d[V],ie=V===D;for(const Ce of v[V])this._addStickyStyle(Ce,i,K,ie)}"top"===i?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:p,offsets:d,elements:v}):null===(O=this._positionListener)||void 0===O||O.stickyFooterRowsUpdated({sizes:p,offsets:d,elements:v})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);qM.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of qM)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let l=0;l<r.length;l++)i.push(r[l].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let l=0;l<t.length;l++)e[l]&&(i[l]=r,r+=t[l]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let l=t.length;l>0;l--)e[l]&&(i[l]=r,r+=t[l]);return i}}const YA=new c.OlP("CDK_SPL");let TE=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),ME=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),RE=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),OE=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),kE=(()=>{class n{constructor(e,i,r,l,d,p,v,D,T,O,V,K){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=d,this._platform=v,this._viewRepeater=D,this._coalescedStyleScheduler=T,this._viewportRuler=O,this._stickyPositioningListener=V,this._ngZone=K,this._onDestroy=new St.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new Wn({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","table"),this._document=p,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=hi(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=hi(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe($r(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),LA(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,l,d)=>this._getEmbeddedViewArgs(r.item,d),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Ci(1),$r(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const l=this._headerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,l,"top"),this._headerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const l=this._footerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((l,d)=>{this._addStickyColumnStyles([l],this._headerRowDefs[d])}),this._rowDefs.forEach(l=>{const d=[];for(let p=0;p<i.length;p++)this._renderRows[p].rowDef===l&&d.push(i[p]);this._addStickyColumnStyles(d,l)}),r.forEach((l,d)=>{this._addStickyColumnStyles([l],this._footerRowDefs[d])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let l=this._data[r];const d=this._getRenderRowsForData(l,r,i.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let p=0;p<d.length;p++){let v=d[p];const D=this._cachedRenderRowsMap.get(v.data);D.has(v.rowDef)?D.get(v.rowDef).push(v):D.set(v.rowDef,[v]),e.push(v)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(d=>{const p=r&&r.has(d)?r.get(d):[];if(p.length){const v=p.shift();return v.dataIndex=i,v}return{data:e,rowDef:d,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),FE(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=FE(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=FE(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=FE(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(d,p)=>d||!!p.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(e,!1);return l&&this._forceRenderFooterRows(),i||r||l}_switchDataSource(e){this._data=[],LA(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;LA(this.dataSource)?e=this.dataSource.connect(this):function jB(n){return!!n&&(n instanceof cn.y||(0,Yn.m)(n.lift)&&(0,Yn.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ke(this.dataSource)),this._renderChangeSubscription=e.pipe($r(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(p=>this._columnDefsByName.get(p)),l=r.map(p=>p.sticky),d=r.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(e,l,d,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const l=e.viewContainer.get(r);i.push(l.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(l=>!l.when||l.when(i,e));else{let l=this._rowDefs.find(d=>d.when&&d.when(i,e))||this._defaultRowDef;l&&r.push(l)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,l={}){const d=e.viewContainer.createEmbeddedView(i.template,l,r);return this._renderCellTemplateForItem(i,l),d}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))vu.mostRecentCellOutlet&&vu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const d=e.get(i).context;d.count=r,d.first=0===i,d.last=i===r-1,d.even=i%2==0,d.odd=!d.even,this.multiTemplateDataRows?(d.dataIndex=this._renderRows[i].dataIndex,d.renderIndex=i):d.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const l=this._document.createElement(r.tag);l.setAttribute("role","rowgroup");for(const d of r.outlets)l.appendChild(d.elementRef.nativeElement);e.appendChild(l)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new eV(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ke()).pipe($r(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const l=r.createEmbeddedView(e.templateRef),d=l.rootNodes[0];1===l.rootNodes.length&&(null==d?void 0:d.nodeType)===this._document.ELEMENT_NODE&&(d.setAttribute("role","row"),d.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(yf,8),c.Y36(ne),c.Y36(zs),c.Y36(Ev),c.Y36(jA),c.Y36(Gx),c.Y36(YA,12),c.Y36(c.R0b,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,IE,5),c.Suo(r,yu,5),c.Suo(r,SE,5),c.Suo(r,Dv,5),c.Suo(r,xv,5)),2&e){let l;c.iGM(l=c.CRH())&&(i._noDataRow=l.first),c.iGM(l=c.CRH())&&(i._contentColumnDefs=l),c.iGM(l=c.CRH())&&(i._contentRowDefs=l),c.iGM(l=c.CRH())&&(i._contentHeaderRowDefs=l),c.iGM(l=c.CRH())&&(i._contentFooterRowDefs=l)}},viewQuery:function(e,i){if(1&e&&(c.Gf(TE,7),c.Gf(ME,7),c.Gf(RE,7),c.Gf(OE,7)),2&e){let r;c.iGM(r=c.CRH())&&(i._rowOutlet=r.first),c.iGM(r=c.CRH())&&(i._headerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._footerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:nm,useExisting:n},{provide:Ev,useClass:GM},{provide:jA,useClass:YM},{provide:YA,useValue:null}])],ngContentSelectors:$B,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(c.F$t(GB),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},directives:[ME,TE,OE,RE],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function FE(n,t){return n.concat(Array.from(t))}let nV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[zx]]}),n})();const iV=[[["caption"]],[["colgroup"],["col"]]],rV=["caption","colgroup, col"];let KM=(()=>{class n extends kE{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:Ev,useClass:GM},{provide:kE,useExisting:n},{provide:nm,useExisting:n},{provide:jA,useClass:YM},{provide:YA,useValue:null}]),c.qOj],ngContentSelectors:rV,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(c.F$t(iV),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},directives:[ME,TE,OE,RE],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),qA=(()=>{class n extends im{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:im,useExisting:n}]),c.qOj]}),n})(),ZA=(()=>{class n extends rm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:rm,useExisting:n}]),c.qOj]}),n})(),KA=(()=>{class n extends yu{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:yu,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})(),QA=(()=>{class n extends UA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[c.qOj]}),n})(),XA=(()=>{class n extends HA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[c.qOj]}),n})(),QM=(()=>{class n extends Dv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:Dv,useExisting:n}]),c.qOj]}),n})(),XM=(()=>{class n extends SE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:SE,useExisting:n}]),c.qOj]}),n})(),JM=(()=>{class n extends $A{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:$A,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},directives:[vu],encapsulation:2}),n})(),eR=(()=>{class n extends WA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[c._Bn([{provide:WA,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},directives:[vu],encapsulation:2}),n})(),pV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[nV,rr],rr]}),n})();class _V extends class mV extends class HB{}{constructor(t=[]){super(),this._renderData=new Wn([]),this._filter=new Wn(""),this._internalPageChanges=new St.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(yI(r)){const l=Number(r);return l<9007199254740991?l:r}return r},this.sortData=(e,i)=>{const r=i.active,l=i.direction;return r&&""!=l?e.sort((d,p)=>{let v=this.sortingDataAccessor(d,r),D=this.sortingDataAccessor(p,r);const T=typeof v,O=typeof D;T!==O&&("number"===T&&(v+=""),"number"===O&&(D+=""));let V=0;return null!=v&&null!=D?v>D?V=1:v<D&&(V=-1):null!=v?V=1:null!=D&&(V=-1),V*("asc"==l?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((d,p)=>d+e[p]+"\u25ec","").toLowerCase(),l=i.trim().toLowerCase();return-1!=r.indexOf(l)},this._data=new Wn(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,za.T)(this._sort.sortChange,this._sort.initialized):Ke(null),i=this._paginator?(0,za.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ke(null),l=oo([this._data,this._filter]).pipe((0,Et.U)(([v])=>this._filterData(v))),d=oo([l,e]).pipe((0,Et.U)(([v])=>this._orderData(v))),p=oo([d,i]).pipe((0,Et.U)(([v])=>this._pageData(v)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=p.subscribe(v=>this._renderData.next(v))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}function yV(n,t){if(1&n&&(c.TgZ(0,"th",15),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Oqu(e.currentCategory)}}function vV(n,t){if(1&n&&(c.TgZ(0,"td",16),c._uU(1),c.qZA()),2&n){const e=t.index;c.xp6(1),c.Oqu(e+1)}}function bV(n,t){1&n&&(c.TgZ(0,"th",15),c._uU(1,"A"),c.qZA())}const PE=function(n){return{diagonal:n}};function CV(n,t){if(1&n&&(c.TgZ(0,"td",17),c._uU(1),c.qZA()),2&n){const e=t.$implicit,i=t.index;c.Q6J("ngClass",c.VKq(2,PE,i%2==0||0===i)),c.xp6(1),c.hij("",e[0]," ")}}function wV(n,t){1&n&&(c.TgZ(0,"th",15),c._uU(1,"B"),c.qZA())}function EV(n,t){if(1&n&&(c.TgZ(0,"td",17),c._uU(1),c.qZA()),2&n){const e=t.$implicit,i=t.index;c.Q6J("ngClass",c.VKq(2,PE,i%2==1&&0!==i)),c.xp6(1),c.Oqu(e[1])}}function DV(n,t){1&n&&(c.TgZ(0,"th",15),c._uU(1,"C"),c.qZA())}function xV(n,t){if(1&n&&(c.TgZ(0,"td",17),c._uU(1),c.qZA()),2&n){const e=t.$implicit,i=t.index;c.Q6J("ngClass",c.VKq(2,PE,i%2==0||0===i)),c.xp6(1),c.Oqu(e[2])}}function AV(n,t){1&n&&(c.TgZ(0,"th",15),c._uU(1,"D"),c.qZA())}function SV(n,t){if(1&n&&(c.TgZ(0,"td",17),c._uU(1),c.qZA()),2&n){const e=t.$implicit,i=t.index;c.Q6J("ngClass",c.VKq(2,PE,i%2==1&&0!==i)),c.xp6(1),c.Oqu(e[3])}}function IV(n,t){1&n&&c._UZ(0,"tr",18)}function TV(n,t){1&n&&c._UZ(0,"tr",19)}function MV(n,t){if(1&n&&(c.TgZ(0,"table",4),c.ynx(1,5),c.YNc(2,yV,2,1,"th",6),c.YNc(3,vV,2,1,"td",7),c.BQk(),c.ynx(4,8),c.YNc(5,bV,2,0,"th",6),c.YNc(6,CV,2,4,"td",9),c.BQk(),c.ynx(7,10),c.YNc(8,wV,2,0,"th",6),c.YNc(9,EV,2,4,"td",9),c.BQk(),c.ynx(10,11),c.YNc(11,DV,2,0,"th",6),c.YNc(12,xV,2,4,"td",9),c.BQk(),c.ynx(13,12),c.YNc(14,AV,2,0,"th",6),c.YNc(15,SV,2,4,"td",9),c.BQk(),c.YNc(16,IV,1,0,"tr",13),c.YNc(17,TV,1,0,"tr",14),c.qZA()),2&n){const e=c.oxw();c.Q6J("dataSource",e.items),c.xp6(16),c.Q6J("matHeaderRowDef",e.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",e.displayedColumns)}}function RV(n,t){if(1&n&&(c.TgZ(0,"th",15),c._uU(1),c.qZA()),2&n){const e=c.oxw().index;c.xp6(1),c.Oqu("\u2022".repeat(e))}}const OV=function(n){return{"green-bg":n}};function kV(n,t){if(1&n&&(c.TgZ(0,"td",17),c._uU(1),c.qZA()),2&n){const e=t.$implicit,i=t.index,r=c.oxw().index,l=c.oxw(2);c.Q6J("ngClass",c.VKq(2,OV,r>0&&i%2==r%2&&e[r]!=l.chartColumns[r])),c.xp6(1),c.hij("",e[r]," ")}}function FV(n,t){1&n&&(c.ynx(0,22),c.YNc(1,RV,2,1,"th",6),c.YNc(2,kV,2,4,"td",9),c.BQk()),2&n&&c.Q6J("matColumnDef",t.$implicit)}function PV(n,t){1&n&&c._UZ(0,"tr",18)}function NV(n,t){1&n&&c._UZ(0,"tr",19)}function LV(n,t){if(1&n&&(c.TgZ(0,"table",20),c.YNc(1,FV,3,1,"ng-container",21),c.YNc(2,PV,1,0,"tr",13),c.YNc(3,NV,1,0,"tr",14),c.qZA()),2&n){const e=c.oxw();c.Q6J("dataSource",e.dataSource),c.xp6(1),c.Q6J("ngForOf",e.chartColumns),c.xp6(1),c.Q6J("matHeaderRowDef",e.chartColumns),c.xp6(1),c.Q6J("matRowDefColumns",e.chartColumns)}}function BV(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",23),c.NdJ("click",function(){return c.CHM(e),c.oxw().nextRound()}),c._uU(1,"Next Round"),c.qZA()}}function VV(n,t){1&n&&(c.TgZ(0,"mat-header-cell",15),c._uU(1," Select Category "),c.qZA())}function UV(n,t){if(1&n&&(c.TgZ(0,"mat-cell",16),c._uU(1),c.qZA()),2&n){const e=t.$implicit;c.xp6(1),c.hij(" ",e.key," ")}}function HV(n,t){1&n&&c._UZ(0,"mat-header-row")}const jV=function(n){return{highlighted:n}};function GV(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-row",28),c.NdJ("click",function(){const l=c.CHM(e).$implicit;return c.oxw(2).selectCategory(l)}),c.qZA()}if(2&n){const e=t.$implicit,i=c.oxw(2);c.Q6J("ngClass",c.VKq(1,jV,e===i.selectedRow))}}function $V(n,t){if(1&n&&(c.TgZ(0,"mat-table",24),c.ynx(1,25),c.YNc(2,VV,2,0,"mat-header-cell",6),c.YNc(3,UV,2,1,"mat-cell",7),c.BQk(),c.YNc(4,HV,1,0,"mat-header-row",26),c.YNc(5,GV,1,3,"mat-row",27),c.qZA()),2&n){const e=c.oxw();c.Q6J("dataSource",e.categories),c.xp6(4),c.Q6J("matHeaderRowDef",e.category),c.xp6(1),c.Q6J("matRowDefColumns",e.category)}}const zV=[{path:"game/:id",component:(()=>{class n{constructor(e,i){this.db=e,this.route=i,this.items=[],this.displayedColumns=["category","a","b","c","d"],this.category=["key"],this.categories=[],this.dataSource=new _V,this.chartColumns=["col0","col1","col2","col3","col4","col5","col6"],this.tableData=[["1","a1","b2","c3","d4","a2","b1"],["2","c4","d3","a4","b3","c2","d1"],["3","a3","b4","c1","d2","a4","b3"],["4","c2","d1","a3","b4","c1","d2"],["5","a2","b1","c4","d3","a1","b2"],["6","c3","d4","a1","b2","c4","d3"],["7","a4","b3","c2","d1","a3","b4"],["8","c1","d2","a2","b1","c3","d4"]],this.chameleonTable=[["1","x","x","x","x","x","x"],["2","x","x","x","x","x","x"],["3","x","x","x","x","x","x"],["4","x","x","x","x","x","x"],["5","x","x","x","x","x","x"],["6","x","x","x","x","x","x"],["7","x","x","x","x","x","x"],["8","x","x","x","x","x","x"]],this.userData=sessionStorage.getItem("user"),this.userData&&(this.userData=JSON.parse(this.userData)),this.lobbyId=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.dataSource.data=this.tableData,this.db.list("/cards").valueChanges().subscribe(i=>{}),this.db.object("/cards").valueChanges().subscribe(i=>{this.allCategories=i,this.categories=Object.keys(i).map(r=>({key:r}))}),this.db.list(`/lobbies/${this.lobbyId}`).snapshotChanges().subscribe(i=>{this.lobbyInfo=i.reduce((r,l)=>(r[l.payload.key]=l.payload.val(),r),{}),this.lobbyInfo.users=this.lobbyInfo.users.map(r=>(r.isChameleon=!1,r)),this.lobbyInfo.gameState.gameStarted&&!this.userData.admin&&(this.currentCategory=this.allCategories[this.lobbyInfo.gameState.category].slice(16),this.items=this.allCategories[this.lobbyInfo.gameState.category].slice(0,16).reduce((r,l,d)=>{const p=Math.floor(d/4);return r[p]||(r[p]=[]),r[p].push(l),r},[])),this.dataSource.data=this.userData.userId===this.lobbyInfo.gameState.chameleon?this.chameleonTable:this.tableData,console.log(this.lobbyInfo.gameState)})}nextRound(){this.selectedRow=!1,this.lobbyInfo.gameState={gameStarted:!1,category:null},this.dataRef.update(this.lobbyInfo)}selectCategory(e){this.dataRef=this.db.object(`/lobbies/${this.lobbyId}`);const i=this.lobbyInfo.users[Math.floor(Math.random()*this.lobbyInfo.users.length)];this.lobbyInfo.gameState={gameStarted:!0,category:e.key,chameleon:i.userId},this.dataRef.update(this.lobbyInfo),this.selectedRow=!0,this.currentCategory=this.allCategories[e.key].slice(16),this.items=this.allCategories[e.key].slice(0,16).reduce((r,l,d)=>{const p=Math.floor(d/4);return r[p]||(r[p]=[]),r[p].push(l),r},[])}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(du),c.Y36(Zo))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-gameplay"]],decls:5,vars:4,consts:[["mat-table","","class","mat-elevation-z8 category-table",3,"dataSource",4,"ngIf"],["mat-table","","class","mat-elevation-z8 chart-table",3,"dataSource",4,"ngIf"],[3,"click",4,"ngIf"],["class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","category-table",3,"dataSource"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","a"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","b"],["matColumnDef","c"],["matColumnDef","d"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass"],["mat-header-row",""],["mat-row",""],["mat-table","",1,"mat-elevation-z8","chart-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[3,"matColumnDef"],[3,"click"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","key"],[4,"matHeaderRowDef"],["matRipple","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["matRipple","",3,"ngClass","click"]],template:function(e,i){1&e&&(c.YNc(0,MV,18,3,"table",0),c._UZ(1,"hr"),c.YNc(2,LV,4,4,"table",1),c.YNc(3,BV,2,0,"button",2),c.YNc(4,$V,6,3,"mat-table",3)),2&e&&(c.Q6J("ngIf",i.selectedRow||!i.userData.admin),c.xp6(2),c.Q6J("ngIf",i.selectedRow||!i.userData.admin),c.xp6(1),c.Q6J("ngIf",i.selectedRow&&i.userData.admin),c.xp6(1),c.Q6J("ngIf",!i.selectedRow&&i.userData.admin))},directives:[Bn,KM,KA,ZA,QA,qA,XA,cr,QM,JM,XM,eR,On],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{width:calc(100% / 6);text-align:center;padding:8px}.chart-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .chart-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:calc(100% / 7);text-align:center;border:1px solid black;padding:8px}.category-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .chart-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:calc(100% / 7);text-align:center}.green-bg[_ngcontent-%COMP%], .diagonal[_ngcontent-%COMP%]{background-color:#e3f2e4}"]}),n})()}];let WV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Rs.forChild(zV)],Rs]}),n})(),YV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vs,WV,pV]]}),n})();function qV(n,t){if(1&n&&(c.TgZ(0,"div")(1,"p"),c._uU(2),c.qZA()()),2&n){const e=t.$implicit;c.xp6(2),c.hij(" ",e.name,"\n")}}function ZV(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",2),c.NdJ("click",function(){return c.CHM(e),c.oxw().startGame()}),c._uU(1," Start Game\n"),c.qZA()}}const KV=[{path:"lobby/:id",component:(()=>{class n{constructor(e,i,r){this.db=e,this.activatedRoute=i,this.router=r,console.log(sessionStorage.getItem("user")),this.isAdmin=JSON.parse(sessionStorage.getItem("user")).admin}ngOnInit(){this.lobbyId=this.activatedRoute.snapshot.paramMap.get("id"),this.db.list(`/lobbies/${this.lobbyId}`).snapshotChanges().subscribe(e=>{const i=e.findIndex(l=>"users"===l.key);this.currentUsers=e[i].payload.val(),e.findIndex(l=>"gameState"===l.key)>=0&&this.startGame()})}startGame(){this.router.navigate([`game/${this.lobbyId}`])}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(du),c.Y36(Zo),c.Y36(di))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-lobby"]],decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],["class","button-neu","mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",1,"button-neu",3,"click"]],template:function(e,i){1&e&&(c.YNc(0,qV,3,1,"div",0),c.YNc(1,ZV,2,0,"button",1)),2&e&&(c.Q6J("ngForOf",i.currentUsers),c.xp6(1),c.Q6J("ngIf",i.isAdmin))},directives:[On,Bn,wE],styles:[".button-neu[_ngcontent-%COMP%]{margin-top:15px;color:#000;margin-bottom:15px;background:linear-gradient(145deg,#cacaca,#f0f0f0);box-shadow:12px 12px 20px #989898,-12px -12px 20px #fff}.button-neu[_ngcontent-%COMP%]:hover{color:#0f1923}"]}),n})()}];let QV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Rs.forChild(KV)],Rs]}),n})(),XV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vs,QV,oM]]}),n})(),JV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[WS]}),n.\u0275inj=c.cJS({providers:[],imports:[[No,$E,ra.hO.initializeApp(Sw_firebase),Aw,UB,YV,XV,tP]]}),n})();(0,c.G48)(),_l().bootstrapModule(JV).catch(n=>console.error(n))},8306:(Ye,ye,F)=>{F.d(ye,{y:()=>j});var c=F(930),J=F(727),P=F(8822),le=F(4671);var ne=F(2416),ce=F(576),de=F(2806);let j=(()=>{class xe{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const he=new xe;return he.source=this,he.operator=Ne,he}subscribe(Ne,he,we){const Ue=function Fe(xe){return xe&&xe instanceof c.Lv||function te(xe){return xe&&(0,ce.m)(xe.next)&&(0,ce.m)(xe.error)&&(0,ce.m)(xe.complete)}(xe)&&(0,J.Nn)(xe)}(Ne)?Ne:new c.Hp(Ne,he,we);return(0,de.x)(()=>{const{operator:ze,source:Te}=this;Ue.add(ze?ze.call(Ue,Te):Te?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(he){Ne.error(he)}}forEach(Ne,he){return new(he=G(he))((we,Ue)=>{const ze=new c.Hp({next:Te=>{try{Ne(Te)}catch(ge){Ue(ge),ze.unsubscribe()}},error:Ue,complete:we});this.subscribe(ze)})}_subscribe(Ne){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Ne)}[P.L](){return this}pipe(...Ne){return function fe(xe){return 0===xe.length?le.y:1===xe.length?xe[0]:function(Ne){return xe.reduce((he,we)=>we(he),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=G(Ne))((he,we)=>{let Ue;this.subscribe(ze=>Ue=ze,ze=>we(ze),()=>he(Ue))})}}return xe.create=Me=>new xe(Me),xe})();function G(xe){var Me;return null!==(Me=null!=xe?xe:ne.v.Promise)&&void 0!==Me?Me:Promise}},7579:(Ye,ye,F)=>{F.d(ye,{x:()=>ne});var c=F(8306),J=F(727);const le=(0,F(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=F(8737),fe=F(2806);let ne=(()=>{class de extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const te=new ce(this,this);return te.operator=G,te}_throwIfClosed(){if(this.closed)throw new le}next(G){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(G)}})}error(G){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:te}=this;for(;te.length;)te.shift().error(G)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:te,isStopped:Fe,observers:xe}=this;return te||Fe?J.Lc:(this.currentObservers=null,xe.push(G),new J.w0(()=>{this.currentObservers=null,(0,ae.P)(xe,G)}))}_checkFinalizedStatuses(G){const{hasError:te,thrownError:Fe,isStopped:xe}=this;te?G.error(Fe):xe&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return de.create=(j,G)=>new ce(j,G),de})();class ce extends ne{constructor(j,G){super(),this.destination=j,this.source=G}next(j){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===te||te.call(G,j)}error(j){var G,te;null===(te=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===te||te.call(G,j)}complete(){var j,G;null===(G=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===G||G.call(j)}_subscribe(j){var G,te;return null!==(te=null===(G=this.source)||void 0===G?void 0:G.subscribe(j))&&void 0!==te?te:J.Lc}}},930:(Ye,ye,F)=>{F.d(ye,{Hp:()=>Ne,Lv:()=>te});var c=F(576),J=F(727),P=F(2416),le=F(7849),ae=F(5032);const fe=de("C",void 0,void 0);function de(Te,ge,De){return{kind:Te,value:ge,error:De}}var j=F(3410),G=F(2806);class te extends J.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,J.Nn)(ge)&&ge.add(this)):this.destination=ze}static create(ge,De,Pe){return new Ne(ge,De,Pe)}next(ge){this.isStopped?Ue(function ce(Te){return de("N",Te,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?Ue(function ne(Te){return de("E",void 0,Te)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?Ue(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function xe(Te,ge){return Fe.call(Te,ge)}class Me{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:De}=this;if(De.next)try{De.next(ge)}catch(Pe){he(Pe)}}error(ge){const{partialObserver:De}=this;if(De.error)try{De.error(ge)}catch(Pe){he(Pe)}else he(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(De){he(De)}}}class Ne extends te{constructor(ge,De,Pe){let Le;if(super(),(0,c.m)(ge)||!ge)Le={next:null!=ge?ge:void 0,error:null!=De?De:void 0,complete:null!=Pe?Pe:void 0};else{let z;this&&P.v.useDeprecatedNextContext?(z=Object.create(ge),z.unsubscribe=()=>this.unsubscribe(),Le={next:ge.next&&xe(ge.next,z),error:ge.error&&xe(ge.error,z),complete:ge.complete&&xe(ge.complete,z)}):Le=ge}this.destination=new Me(Le)}}function he(Te){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Te):(0,le.h)(Te)}function Ue(Te,ge){const{onStoppedNotification:De}=P.v;De&&j.z.setTimeout(()=>De(Te,ge))}const ze={closed:!0,next:ae.Z,error:function we(Te){throw Te},complete:ae.Z}},727:(Ye,ye,F)=>{F.d(ye,{Lc:()=>fe,w0:()=>ae,Nn:()=>ne});var c=F(576);const P=(0,F(3888).d)(de=>function(G){de(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((te,Fe)=>`${Fe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var le=F(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const xe of G)xe.remove(this);else G.remove(this);const{initialTeardown:te}=this;if((0,c.m)(te))try{te()}catch(xe){j=xe instanceof P?xe.errors:[xe]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const xe of Fe)try{ce(xe)}catch(Me){j=null!=j?j:[],Me instanceof P?j=[...j,...Me.errors]:j.push(Me)}}if(j)throw new P(j)}}add(j){var G;if(j&&j!==this)if(this.closed)ce(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(j)}}_hasParent(j){const{_parentage:G}=this;return G===j||Array.isArray(G)&&G.includes(j)}_addParent(j){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(j),G):G?[G,j]:j}_removeParent(j){const{_parentage:G}=this;G===j?this._parentage=null:Array.isArray(G)&&(0,le.P)(G,j)}remove(j){const{_finalizers:G}=this;G&&(0,le.P)(G,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const de=new ae;return de.closed=!0,de})();const fe=ae.EMPTY;function ne(de){return de instanceof ae||de&&"closed"in de&&(0,c.m)(de.remove)&&(0,c.m)(de.add)&&(0,c.m)(de.unsubscribe)}function ce(de){(0,c.m)(de)?de():de.unsubscribe()}},2416:(Ye,ye,F)=>{F.d(ye,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ye,ye,F)=>{F.d(ye,{E:()=>J});const J=new(F(8306).y)(ae=>ae.complete())},8996:(Ye,ye,F)=>{F.d(ye,{D:()=>ge});var c=F(8421),J=F(5363),P=F(9468),fe=F(8306),ce=F(2202),de=F(576),j=F(9672);function te(De,Pe){if(!De)throw new Error("Iterable cannot be null");return new fe.y(Le=>{(0,j.f)(Le,Pe,()=>{const z=De[Symbol.asyncIterator]();(0,j.f)(Le,Pe,()=>{z.next().then(ve=>{ve.done?Le.complete():Le.next(ve.value)})},0,!0)})})}var Fe=F(3670),xe=F(8239),Me=F(1144),Ne=F(6495),he=F(2206),we=F(4532),Ue=F(3260);function ge(De,Pe){return Pe?function Te(De,Pe){if(null!=De){if((0,Fe.c)(De))return function le(De,Pe){return(0,c.Xf)(De).pipe((0,P.R)(Pe),(0,J.Q)(Pe))}(De,Pe);if((0,Me.z)(De))return function ne(De,Pe){return new fe.y(Le=>{let z=0;return Pe.schedule(function(){z===De.length?Le.complete():(Le.next(De[z++]),Le.closed||this.schedule())})})}(De,Pe);if((0,xe.t)(De))return function ae(De,Pe){return(0,c.Xf)(De).pipe((0,P.R)(Pe),(0,J.Q)(Pe))}(De,Pe);if((0,he.D)(De))return te(De,Pe);if((0,Ne.T)(De))return function G(De,Pe){return new fe.y(Le=>{let z;return(0,j.f)(Le,Pe,()=>{z=De[ce.h](),(0,j.f)(Le,Pe,()=>{let ve,Y;try{({value:ve,done:Y}=z.next())}catch(se){return void Le.error(se)}Y?Le.complete():Le.next(ve)},0,!0)}),()=>(0,de.m)(null==z?void 0:z.return)&&z.return()})}(De,Pe);if((0,Ue.L)(De))return function ze(De,Pe){return te((0,Ue.Q)(De),Pe)}(De,Pe)}throw(0,we.z)(De)}(De,Pe):(0,c.Xf)(De)}},8421:(Ye,ye,F)=>{F.d(ye,{Xf:()=>Fe});var c=F(655),J=F(1144),P=F(8239),le=F(8306),ae=F(3670),fe=F(2206),ne=F(4532),ce=F(6495),de=F(3260),j=F(576),G=F(7849),te=F(8822);function Fe(Te){if(Te instanceof le.y)return Te;if(null!=Te){if((0,ae.c)(Te))return function xe(Te){return new le.y(ge=>{const De=Te[te.L]();if((0,j.m)(De.subscribe))return De.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,J.z)(Te))return function Me(Te){return new le.y(ge=>{for(let De=0;De<Te.length&&!ge.closed;De++)ge.next(Te[De]);ge.complete()})}(Te);if((0,P.t)(Te))return function Ne(Te){return new le.y(ge=>{Te.then(De=>{ge.closed||(ge.next(De),ge.complete())},De=>ge.error(De)).then(null,G.h)})}(Te);if((0,fe.D)(Te))return we(Te);if((0,ce.T)(Te))return function he(Te){return new le.y(ge=>{for(const De of Te)if(ge.next(De),ge.closed)return;ge.complete()})}(Te);if((0,de.L)(Te))return function Ue(Te){return we((0,de.Q)(Te))}(Te)}throw(0,ne.z)(Te)}function we(Te){return new le.y(ge=>{(function ze(Te,ge){var De,Pe,Le,z;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(Te);!(Pe=yield De.next()).done;)if(ge.next(Pe.value),ge.closed)return}catch(ve){Le={error:ve}}finally{try{Pe&&!Pe.done&&(z=De.return)&&(yield z.call(De))}finally{if(Le)throw Le.error}}ge.complete()})})(Te,ge).catch(De=>ge.error(De))})}},6451:(Ye,ye,F)=>{F.d(ye,{T:()=>fe});var c=F(8189),J=F(8421),P=F(515),le=F(3269),ae=F(8996);function fe(...ne){const ce=(0,le.yG)(ne),de=(0,le._6)(ne,1/0),j=ne;return j.length?1===j.length?(0,J.Xf)(j[0]):(0,c.J)(de)((0,ae.D)(j,ce)):P.E}},5403:(Ye,ye,F)=>{F.d(ye,{x:()=>J});var c=F(930);function J(le,ae,fe,ne,ce){return new P(le,ae,fe,ne,ce)}class P extends c.Lv{constructor(ae,fe,ne,ce,de,j){super(ae),this.onFinalize=de,this.shouldUnsubscribe=j,this._next=fe?function(G){try{fe(G)}catch(te){ae.error(te)}}:super._next,this._error=ce?function(G){try{ce(G)}catch(te){ae.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(G){ae.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(Ye,ye,F)=>{F.d(ye,{U:()=>P});var c=F(4482),J=F(5403);function P(le,ae){return(0,c.e)((fe,ne)=>{let ce=0;fe.subscribe((0,J.x)(ne,de=>{ne.next(le.call(ae,de,ce++))}))})}},8189:(Ye,ye,F)=>{F.d(ye,{J:()=>P});var c=F(5577),J=F(4671);function P(le=1/0){return(0,c.z)(J.y,le)}},5577:(Ye,ye,F)=>{F.d(ye,{z:()=>ce});var c=F(4004),J=F(8421),P=F(4482),le=F(9672),ae=F(5403),ne=F(576);function ce(de,j,G=1/0){return(0,ne.m)(j)?ce((te,Fe)=>(0,c.U)((xe,Me)=>j(te,xe,Fe,Me))((0,J.Xf)(de(te,Fe))),G):("number"==typeof j&&(G=j),(0,P.e)((te,Fe)=>function fe(de,j,G,te,Fe,xe,Me,Ne){const he=[];let we=0,Ue=0,ze=!1;const Te=()=>{ze&&!he.length&&!we&&j.complete()},ge=Pe=>we<te?De(Pe):he.push(Pe),De=Pe=>{xe&&j.next(Pe),we++;let Le=!1;(0,J.Xf)(G(Pe,Ue++)).subscribe((0,ae.x)(j,z=>{null==Fe||Fe(z),xe?ge(z):j.next(z)},()=>{Le=!0},void 0,()=>{if(Le)try{for(we--;he.length&&we<te;){const z=he.shift();Me?(0,le.f)(j,Me,()=>De(z)):De(z)}Te()}catch(z){j.error(z)}}))};return de.subscribe((0,ae.x)(j,ge,()=>{ze=!0,Te()})),()=>{null==Ne||Ne()}}(te,Fe,de,G)))}},5363:(Ye,ye,F)=>{F.d(ye,{Q:()=>le});var c=F(9672),J=F(4482),P=F(5403);function le(ae,fe=0){return(0,J.e)((ne,ce)=>{ne.subscribe((0,P.x)(ce,de=>(0,c.f)(ce,ae,()=>ce.next(de),fe),()=>(0,c.f)(ce,ae,()=>ce.complete(),fe),de=>(0,c.f)(ce,ae,()=>ce.error(de),fe)))})}},3099:(Ye,ye,F)=>{F.d(ye,{B:()=>ae});var c=F(8421),J=F(7579),P=F(930),le=F(4482);function ae(ne={}){const{connector:ce=(()=>new J.x),resetOnError:de=!0,resetOnComplete:j=!0,resetOnRefCountZero:G=!0}=ne;return te=>{let Fe,xe,Me,Ne=0,he=!1,we=!1;const Ue=()=>{null==xe||xe.unsubscribe(),xe=void 0},ze=()=>{Ue(),Fe=Me=void 0,he=we=!1},Te=()=>{const ge=Fe;ze(),null==ge||ge.unsubscribe()};return(0,le.e)((ge,De)=>{Ne++,!we&&!he&&Ue();const Pe=Me=null!=Me?Me:ce();De.add(()=>{Ne--,0===Ne&&!we&&!he&&(xe=fe(Te,G))}),Pe.subscribe(De),!Fe&&Ne>0&&(Fe=new P.Hp({next:Le=>Pe.next(Le),error:Le=>{we=!0,Ue(),xe=fe(ze,de,Le),Pe.error(Le)},complete:()=>{he=!0,Ue(),xe=fe(ze,j),Pe.complete()}}),(0,c.Xf)(ge).subscribe(Fe))})(te)}}function fe(ne,ce,...de){if(!0===ce)return void ne();if(!1===ce)return;const j=new P.Hp({next:()=>{j.unsubscribe(),ne()}});return ce(...de).subscribe(j)}},9468:(Ye,ye,F)=>{F.d(ye,{R:()=>J});var c=F(4482);function J(P,le=0){return(0,c.e)((ae,fe)=>{fe.add(P.schedule(()=>ae.subscribe(fe),le))})}},8505:(Ye,ye,F)=>{F.d(ye,{b:()=>ae});var c=F(576),J=F(4482),P=F(5403),le=F(4671);function ae(fe,ne,ce){const de=(0,c.m)(fe)||ne||ce?{next:fe,error:ne,complete:ce}:fe;return de?(0,J.e)((j,G)=>{var te;null===(te=de.subscribe)||void 0===te||te.call(de);let Fe=!0;j.subscribe((0,P.x)(G,xe=>{var Me;null===(Me=de.next)||void 0===Me||Me.call(de,xe),G.next(xe)},()=>{var xe;Fe=!1,null===(xe=de.complete)||void 0===xe||xe.call(de),G.complete()},xe=>{var Me;Fe=!1,null===(Me=de.error)||void 0===Me||Me.call(de,xe),G.error(xe)},()=>{var xe,Me;Fe&&(null===(xe=de.unsubscribe)||void 0===xe||xe.call(de)),null===(Me=de.finalize)||void 0===Me||Me.call(de)}))}):le.y}},4408:(Ye,ye,F)=>{F.d(ye,{o:()=>ae});var c=F(727);class J extends c.w0{constructor(ne,ce){super()}schedule(ne,ce=0){return this}}const P={setInterval(fe,ne,...ce){const{delegate:de}=P;return(null==de?void 0:de.setInterval)?de.setInterval(fe,ne,...ce):setInterval(fe,ne,...ce)},clearInterval(fe){const{delegate:ne}=P;return((null==ne?void 0:ne.clearInterval)||clearInterval)(fe)},delegate:void 0};var le=F(8737);class ae extends J{constructor(ne,ce){super(ne,ce),this.scheduler=ne,this.work=ce,this.pending=!1}schedule(ne,ce=0){var de;if(this.closed)return this;this.state=ne;const j=this.id,G=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(G,j,ce)),this.pending=!0,this.delay=ce,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(G,this.id,ce),this}requestAsyncId(ne,ce,de=0){return P.setInterval(ne.flush.bind(ne,this),de)}recycleAsyncId(ne,ce,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ce;null!=ce&&P.clearInterval(ce)}execute(ne,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ne,ce);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,ce){let j,de=!1;try{this.work(ne)}catch(G){de=!0,j=G||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ne,scheduler:ce}=this,{actions:de}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(de,this),null!=ne&&(this.id=this.recycleAsyncId(ce,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ye,ye,F)=>{F.d(ye,{v:()=>P});var c=F(6063);class J{constructor(ae,fe=J.now){this.schedulerActionCtor=ae,this.now=fe}schedule(ae,fe=0,ne){return new this.schedulerActionCtor(this,ae).schedule(ne,fe)}}J.now=c.l.now;class P extends J{constructor(ae,fe=J.now){super(ae,fe),this.actions=[],this._active=!1}flush(ae){const{actions:fe}=this;if(this._active)return void fe.push(ae);let ne;this._active=!0;do{if(ne=ae.execute(ae.state,ae.delay))break}while(ae=fe.shift());if(this._active=!1,ne){for(;ae=fe.shift();)ae.unsubscribe();throw ne}}}},4986:(Ye,ye,F)=>{F.d(ye,{P:()=>le,z:()=>P});var c=F(4408);const P=new(F(7565).v)(c.o),le=P},6063:(Ye,ye,F)=>{F.d(ye,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Ye,ye,F)=>{F.d(ye,{z:()=>c});const c={setTimeout(J,P,...le){const{delegate:ae}=c;return(null==ae?void 0:ae.setTimeout)?ae.setTimeout(J,P,...le):setTimeout(J,P,...le)},clearTimeout(J){const{delegate:P}=c;return((null==P?void 0:P.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(Ye,ye,F)=>{F.d(ye,{h:()=>J});const J=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ye,ye,F)=>{F.d(ye,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ye,ye,F)=>{F.d(ye,{_6:()=>fe,jO:()=>le,yG:()=>ae});var c=F(576),J=F(3532);function P(ne){return ne[ne.length-1]}function le(ne){return(0,c.m)(P(ne))?ne.pop():void 0}function ae(ne){return(0,J.K)(P(ne))?ne.pop():void 0}function fe(ne,ce){return"number"==typeof P(ne)?ne.pop():ce}},8737:(Ye,ye,F)=>{function c(J,P){if(J){const le=J.indexOf(P);0<=le&&J.splice(le,1)}}F.d(ye,{P:()=>c})},3888:(Ye,ye,F)=>{function c(J){const le=J(ae=>{Error.call(ae),ae.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(ye,{d:()=>c})},2806:(Ye,ye,F)=>{F.d(ye,{O:()=>le,x:()=>P});var c=F(2416);let J=null;function P(ae){if(c.v.useDeprecatedSynchronousErrorHandling){const fe=!J;if(fe&&(J={errorThrown:!1,error:null}),ae(),fe){const{errorThrown:ne,error:ce}=J;if(J=null,ne)throw ce}}else ae()}function le(ae){c.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ae)}},9672:(Ye,ye,F)=>{function c(J,P,le,ae=0,fe=!1){const ne=P.schedule(function(){le(),fe?J.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(J.add(ne),!fe)return ne}F.d(ye,{f:()=>c})},4671:(Ye,ye,F)=>{function c(J){return J}F.d(ye,{y:()=>c})},1144:(Ye,ye,F)=>{F.d(ye,{z:()=>c});const c=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Ye,ye,F)=>{F.d(ye,{D:()=>J});var c=F(576);function J(P){return Symbol.asyncIterator&&(0,c.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(Ye,ye,F)=>{function c(J){return"function"==typeof J}F.d(ye,{m:()=>c})},3670:(Ye,ye,F)=>{F.d(ye,{c:()=>P});var c=F(8822),J=F(576);function P(le){return(0,J.m)(le[c.L])}},6495:(Ye,ye,F)=>{F.d(ye,{T:()=>P});var c=F(2202),J=F(576);function P(le){return(0,J.m)(null==le?void 0:le[c.h])}},8239:(Ye,ye,F)=>{F.d(ye,{t:()=>J});var c=F(576);function J(P){return(0,c.m)(null==P?void 0:P.then)}},3260:(Ye,ye,F)=>{F.d(ye,{L:()=>le,Q:()=>P});var c=F(655),J=F(576);function P(ae){return(0,c.FC)(this,arguments,function*(){const ne=ae.getReader();try{for(;;){const{value:ce,done:de}=yield(0,c.qq)(ne.read());if(de)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ce)}}finally{ne.releaseLock()}})}function le(ae){return(0,J.m)(null==ae?void 0:ae.getReader)}},3532:(Ye,ye,F)=>{F.d(ye,{K:()=>J});var c=F(576);function J(P){return P&&(0,c.m)(P.schedule)}},4482:(Ye,ye,F)=>{F.d(ye,{A:()=>J,e:()=>P});var c=F(576);function J(le){return(0,c.m)(null==le?void 0:le.lift)}function P(le){return ae=>{if(J(ae))return ae.lift(function(fe){try{return le(fe,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ye,ye,F)=>{function c(){}F.d(ye,{Z:()=>c})},7849:(Ye,ye,F)=>{F.d(ye,{h:()=>P});var c=F(2416),J=F(3410);function P(le){J.z.setTimeout(()=>{const{onUnhandledError:ae}=c.v;if(!ae)throw le;ae(le)})}},4532:(Ye,ye,F)=>{function c(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(ye,{z:()=>c})},655:(Ye,ye,F)=>{function le(Y,se){var ee={};for(var me in Y)Object.prototype.hasOwnProperty.call(Y,me)&&se.indexOf(me)<0&&(ee[me]=Y[me]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(me=Object.getOwnPropertySymbols(Y);ue<me.length;ue++)se.indexOf(me[ue])<0&&Object.prototype.propertyIsEnumerable.call(Y,me[ue])&&(ee[me[ue]]=Y[me[ue]])}return ee}function ce(Y,se,ee,me){return new(ee||(ee=Promise))(function(Re,nt){function Ht(Wt){try{Ge(me.next(Wt))}catch(ln){nt(ln)}}function It(Wt){try{Ge(me.throw(Wt))}catch(ln){nt(ln)}}function Ge(Wt){Wt.done?Re(Wt.value):function ue(Re){return Re instanceof ee?Re:new ee(function(nt){nt(Re)})}(Wt.value).then(Ht,It)}Ge((me=me.apply(Y,se||[])).next())})}function he(Y){return this instanceof he?(this.v=Y,this):new he(Y)}function we(Y,se,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,me=ee.apply(Y,se||[]),Re=[];return ue={},nt("next"),nt("throw"),nt("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function nt(Zt){me[Zt]&&(ue[Zt]=function($t){return new Promise(function(fi,Lt){Re.push([Zt,$t,fi,Lt])>1||Ht(Zt,$t)})})}function Ht(Zt,$t){try{!function It(Zt){Zt.value instanceof he?Promise.resolve(Zt.value.v).then(Ge,Wt):ln(Re[0][2],Zt)}(me[Zt]($t))}catch(fi){ln(Re[0][3],fi)}}function Ge(Zt){Ht("next",Zt)}function Wt(Zt){Ht("throw",Zt)}function ln(Zt,$t){Zt($t),Re.shift(),Re.length&&Ht(Re[0][0],Re[0][1])}}function ze(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,se=Y[Symbol.asyncIterator];return se?se.call(Y):(Y=function te(Y){var se="function"==typeof Symbol&&Symbol.iterator,ee=se&&Y[se],me=0;if(ee)return ee.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&me>=Y.length&&(Y=void 0),{value:Y&&Y[me++],done:!Y}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ee={},me("next"),me("throw"),me("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function me(Re){ee[Re]=Y[Re]&&function(nt){return new Promise(function(Ht,It){!function ue(Re,nt,Ht,It){Promise.resolve(It).then(function(Ge){Re({value:Ge,done:Ht})},nt)}(Ht,It,(nt=Y[Re](nt)).done,nt.value)})}}}F.d(ye,{FC:()=>we,KL:()=>ze,_T:()=>le,mG:()=>ce,qq:()=>he})},5e3:(Ye,ye,F)=>{F.d(ye,{$8M:()=>gr,$Z:()=>E_,AFp:()=>Dw,AaK:()=>ce,BQk:()=>Up,CHM:()=>eo,CRH:()=>rw,CZH:()=>Vy,CqO:()=>S_,EJc:()=>hu,EiD:()=>Bc,EpF:()=>x_,F$t:()=>jb,F4k:()=>Vb,FYo:()=>UD,FiY:()=>ot,G48:()=>Lg,Gf:()=>xy,GfV:()=>jC,GkF:()=>Bh,Gpc:()=>G,Hsn:()=>I_,Ikx:()=>ig,JOm:()=>Ms,JVY:()=>Bi,L6k:()=>yh,LAX:()=>wm,LFG:()=>M,LSH:()=>Eh,Lbi:()=>du,NdJ:()=>da,OlP:()=>_n,Oqu:()=>Us,PXZ:()=>Pw,Q6J:()=>D_,QGY:()=>A_,Qsj:()=>HD,R0b:()=>Ri,RDi:()=>hc,Rgc:()=>cu,SBq:()=>Od,Sil:()=>vx,Suo:()=>xg,TTD:()=>Tr,TgZ:()=>Bp,Udp:()=>qp,VKq:()=>ly,VLi:()=>Ow,WFA:()=>Hp,X6Q:()=>Ky,XFs:()=>ut,Xpm:()=>_t,Y36:()=>Nh,YKP:()=>mg,YNc:()=>Ph,Yjl:()=>Xt,Yz7:()=>$t,ZZ4:()=>Hd,_Bn:()=>VC,_UZ:()=>Ed,_Vd:()=>Xh,_c5:()=>Gg,_uU:()=>Ad,aQg:()=>iv,c2e:()=>Sw,cJS:()=>Lt,cg1:()=>$_,d8E:()=>j_,dDg:()=>$y,deG:()=>Yu,dqk:()=>Bt,eBb:()=>vh,eFA:()=>qy,ekj:()=>F_,f3M:()=>Q,g9A:()=>xw,h0i:()=>il,hGG:()=>sv,hij:()=>Jl,iGM:()=>Dy,ifc:()=>Ut,ip1:()=>By,kL8:()=>yC,lG2:()=>Ct,mCW:()=>Nc,n5z:()=>An,oAB:()=>be,oxw:()=>Hb,pB0:()=>Co,q3G:()=>In,q4F:()=>GC,qLn:()=>cp,qOj:()=>Yl,qZA:()=>Lh,qzn:()=>Ul,sBO:()=>KS,sIi:()=>eu,s_b:()=>bg,soG:()=>Ig,tBr:()=>Dt,tb:()=>Aw,tp0:()=>fn,uIk:()=>f_,vHH:()=>Me,vpe:()=>$s,wAp:()=>ft,xp6:()=>km,yhl:()=>_h,ynx:()=>Vp,z2F:()=>$i,z3N:()=>bo,zSh:()=>Ji,zs3:()=>jr});var c=F(7579),J=F(727),P=F(8306),le=F(6451),ae=F(3099);function fe(s){for(let o in s)if(s[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function ne(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=fe({__forward_ref__:fe});function G(s){return s.__forward_ref__=G,s.toString=function(){return ce(this())},s}function te(s){return Fe(s)?s():s}function Fe(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===G}class Me extends Error{constructor(o,a){super(function Ne(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function he(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():he(s)}function ge(s,o){const a=o?` in ${o}`:"";throw new Me(-201,`No provider for ${we(s)} found${a}`)}function It(s,o){null==s&&function Ge(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function $t(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Lt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ot(s){return ki(s,Er)||ki(s,Fi)}function ki(s,o){return s.hasOwnProperty(o)?s[o]:null}function gi(s){return s&&(s.hasOwnProperty(zr)||s.hasOwnProperty(ar))?s[zr]:null}const Er=fe({\u0275prov:fe}),zr=fe({\u0275inj:fe}),Fi=fe({ngInjectableDef:fe}),ar=fe({ngInjectorDef:fe});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let mi;function Gn(s){const o=mi;return mi=s,o}function hs(s,o,a){const u=Ot(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ut.Optional?null:void 0!==o?o:void ge(ce(s),"Injector")}function Nn(s){return{toString:s}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),Ut=(()=>{return(s=Ut||(Ut={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ut;var s})();const tt="undefined"!=typeof globalThis&&globalThis,dt="undefined"!=typeof window&&window,ii="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=tt||"undefined"!=typeof global&&global||dt||ii,oi={},st=[],Ys=fe({\u0275cmp:fe}),Mt=fe({\u0275dir:fe}),Wr=fe({\u0275pipe:fe}),We=fe({\u0275mod:fe}),Ee=fe({\u0275fac:fe}),He=fe({__NG_ELEMENT_ID__:fe});let vt=0;function _t(s){return Nn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||st,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ut.Emulated,id:"c",styles:s.styles||st,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,y=s.pipes;return u.id+=vt++,u.inputs=qe(s.inputs,a),u.outputs=qe(s.outputs),m&&m.forEach(C=>C(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(H):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(U):null,u})}function H(s){return jt(s)||function Kt(s){return s[Mt]||null}(s)}function U(s){return function Ln(s){return s[Wr]||null}(s)}const q={};function be(s){return Nn(()=>{const o={type:s.type,bootstrap:s.bootstrap||st,declarations:s.declarations||st,imports:s.imports||st,exports:s.exports||st,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(q[s.id]=s.type),o})}function qe(s,o){if(null==s)return oi;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),a[h]=u,o&&(o[h]=m)}return a}const Ct=_t;function Xt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[Ys]||null}function pt(s,o){const a=s[We]||null;if(!a&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return a}function yi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ur(s){return Array.isArray(s)&&!0===s[1]}function cl(s){return 0!=(8&s.flags)}function Eu(s){return 2==(2&s.flags)}function Sr(s){return 1==(1&s.flags)}function Ir(s){return null!==s.template}function wa(s){return 0!=(512&s[2])}function li(s,o){return s.hasOwnProperty(Ee)?s[Ee]:null}class Ks{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Tr(){return Ro}function Ro(s){return s.type.prototype.ngOnChanges&&(s.setInput=qd),Ru}function Ru(){const s=Qs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===oi)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function qd(s,o,a,u){const h=Qs(s)||function Oo(s,o){return s[vs]=o}(s,{previous:oi,current:null}),m=h.current||(h.current={}),y=h.previous,C=this.declaredInputs[a],E=y[C];m[C]=new Ks(E&&E.currentValue,o,y===oi),s[u]=o}Tr.ngInherit=!0;const vs="__ngSimpleChanges__";function Qs(s){return s[vs]||null}let ko;function hc(s){ko=s}function on(s){return!!s.listen}const Da={createRenderer:(s,o)=>function Mr(){return void 0!==ko?ko:"undefined"!=typeof document?document:void 0}()};function Yt(s){for(;Array.isArray(s);)s=s[0];return s}function bs(s,o){return Yt(o[s])}function $n(s,o){return Yt(o[s.index])}function mn(s,o){return s.data[o]}function Xn(s,o){const a=o[s];return yi(a)?a:a[0]}function Js(s){return 4==(4&s[2])}function Zr(s){return 128==(128&s[2])}function hr(s,o){return null==o?null:s[o]}function Or(s){s[18]=0}function Fo(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const ht={lFrame:Lo(null),bindingsEnabled:!0};function fl(){return ht.bindingsEnabled}function Ae(){return ht.lFrame.lView}function Ft(){return ht.lFrame.tView}function eo(s){return ht.lFrame.contextLView=s,s[8]}function dn(){let s=pl();for(;null!==s&&64===s.type;)s=s.parent;return s}function pl(){return ht.lFrame.currentTNode}function qi(s,o){const a=ht.lFrame;a.currentTNode=s,a.isParent=o}function _c(){return ht.lFrame.isParent}function yc(){ht.lFrame.isParent=!1}function ws(){return ht.lFrame.bindingIndex++}function _l(s,o){const a=ht.lFrame;a.bindingIndex=a.bindingRootIndex=s,No(o)}function No(s){ht.lFrame.currentDirectiveIndex=s}function yl(s){const o=ht.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function vl(){return ht.lFrame.currentQueryIndex}function Pu(s){ht.lFrame.currentQueryIndex=s}function Nu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function bl(s,o,a){if(a&ut.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||a&ut.Host||(h=Nu(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const u=ht.lFrame=Lu();return u.currentTNode=o,u.lView=s,!0}function no(s){const o=Lu(),a=s[1];ht.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Lu(){const s=ht.lFrame,o=null===s?null:s.child;return null===o?Lo(s):o}function Lo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Bu(){const s=ht.lFrame;return ht.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Cl=Bu;function Ni(){const s=Bu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function zn(){return ht.lFrame.selectedIndex}function io(s){ht.lFrame.selectedIndex=s}function bn(){const s=ht.lFrame;return mn(s.tView,s.selectedIndex)}function Ia(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const m=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:R}=m;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),C&&((s.contentHooks||(s.contentHooks=[])).push(a,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,C)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),I&&((s.viewHooks||(s.viewHooks=[])).push(a,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,I)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(a,R)}}function Qr(s,o,a){Hu(s,o,3,a)}function ro(s,o,a,u){(3&s[2])===a&&Hu(s,o,a,u)}function Vn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Hu(s,o,a,u){const m=null!=u?u:-1,y=o.length-1;let C=0;for(let E=void 0!==u?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(C=o[E],null!=u&&C>=u)break}else o[E]<0&&(s[18]+=65536),(C<m||-1==m)&&(Nf(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function Nf(s,o,a,u){const h=a[u]<0,m=a[u+1],C=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Bo{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function St(s,o,a){const u=on(s);let h=0;for(;h<a.length;){const m=a[h];if("number"==typeof m){if(0!==m)break;h++;const y=a[h++],C=a[h++],E=a[h++];u?s.setAttribute(o,C,E,y):o.setAttributeNS(y,C,E)}else{const y=m,C=a[++h];cn(y)?u&&s.setProperty(o,y,C):u?s.setAttribute(o,y,C):o.setAttribute(y,C),h++}}return h}function Wn(s){return 3===s||4===s||6===s}function cn(s){return 64===s.charCodeAt(0)}function Ma(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Gu(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function Gu(s,o,a,u,h){let m=0,y=s.length;if(-1===o)y=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===o){y=-1;break}if(C>o){y=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===a){if(null===u)return void(null!==h&&(s[m+1]=h));if(u===s[m+1])return void(s[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==y&&(s.splice(y,0,o),m=y+1),s.splice(m++,0,a),null!==u&&s.splice(m++,0,u),null!==h&&s.splice(m++,0,h)}function Uo(s){return-1!==s}function Es(s){return 32767&s}function Ds(s,o){let a=function xn(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let pr=!0;function Et(s){const o=pr;return pr=s,o}let Ra=0;function Fr(s,o){const a=Xr(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,oo(u.data,s),oo(o,null),oo(u.blueprint,null));const h=xs(s,o),m=s.injectorIndex;if(Uo(h)){const y=Es(h),C=Ds(h,o),E=C[1].data;for(let I=0;I<8;I++)o[m+I]=C[y+I]|E[y+I]}return o[m+8]=h,m}function oo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Xr(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function xs(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const m=h[1],y=m.type;if(u=2===y?m.declTNode:1===y?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Yn(s,o,a){!function Cn(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(He)&&(u=a[He]),null==u&&(u=a[He]=Ra++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Oa(s,o,a){if(a&ut.Optional)return s;ge(o,"NodeInjector")}function ao(s,o,a,u){if(a&ut.Optional&&void 0===u&&(u=null),0==(a&(ut.Self|ut.Host))){const h=s[9],m=Gn(void 0);try{return h?h.get(o,u,a&ut.Optional):hs(o,u,a&ut.Optional)}finally{Gn(m)}}return Oa(u,o,a)}function lo(s,o,a,u=ut.Default,h){if(null!==s){const m=function Pr(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(He)?s[He]:void 0;return"number"==typeof o?o>=0?255&o:ka:o}(a);if("function"==typeof m){if(!bl(o,s,u))return u&ut.Host?Oa(h,a,u):ao(o,a,u,h);try{const y=m(u);if(null!=y||u&ut.Optional)return y;ge(a)}finally{Cl()}}else if("number"==typeof m){let y=null,C=Xr(s,o),E=-1,I=u&ut.Host?o[16][6]:null;for((-1===C||u&ut.SkipSelf)&&(E=-1===C?xs(s,o):o[C+8],-1!==E&&Ec(u,!1)?(y=o[1],C=Es(E),o=Ds(E,o)):C=-1);-1!==C;){const R=o[1];if(wn(m,C,R.data)){const L=Jr(C,o,a,y,u,I);if(L!==jo)return L}E=o[C+8],-1!==E&&Ec(u,o[1].data[C+8]===I)&&wn(m,C,o)?(y=R,C=Es(E),o=Ds(E,o)):C=-1}}}return ao(o,a,u,h)}const jo={};function ka(){return new bi(dn(),Ae())}function Jr(s,o,a,u,h,m){const y=o[1],C=y.data[s+8],R=Go(C,y,a,null==u?Eu(C)&&pr:u!=y&&0!=(3&C.type),h&ut.Host&&m===C);return null!==R?Li(o,y,R,C):jo}function Go(s,o,a,u,h){const m=s.providerIndexes,y=o.data,C=1048575&m,E=s.directiveStart,R=m>>20,$=h?C+R:s.directiveEnd;for(let X=u?C:C+R;X<$;X++){const _e=y[X];if(X<E&&a===_e||X>=E&&_e.type===a)return X}if(h){const X=y[E];if(X&&Ir(X)&&X.type===a)return E}return null}function Li(s,o,a,u){let h=s[a];const m=o.data;if(function wl(s){return s instanceof Bo}(h)){const y=h;y.resolving&&function Ue(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Me(-200,`Circular dependency in DI detected for ${s}${a}`)}(we(m[a]));const C=Et(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Gn(y.injectImpl):null;bl(s,u,ut.Default);try{h=s[a]=y.factory(void 0,m,s,u),o.firstCreatePass&&a>=u.directiveStart&&function om(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const y=Ro(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),m&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,m))}(a,m[a],o)}finally{null!==E&&Gn(E),Et(C),y.resolving=!1,Cl()}}return h}function wn(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ec(s,o){return!(s&ut.Self||s&ut.Host&&o)}class bi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return lo(this._tNode,this._lView,o,u,a)}}function An(s){return Nn(()=>{const o=s.prototype.constructor,a=o[Ee]||Ci(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const m=h[Ee]||Ci(h);if(m&&m!==a)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ci(s){return Fe(s)?()=>{const o=Ci(te(s));return o&&o()}:li(s)}function gr(s){return function Ho(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const m=a[h];if(Wn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(m===o)return a[h+1];h+=2}}}return null}(dn(),s)}const Nr="__parameters__";function Lr(s,o,a){return Nn(()=>{const u=function Un(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const y=new h(...m);return C.annotation=y,C;function C(E,I,R){const L=E.hasOwnProperty(Nr)?E[Nr]:Object.defineProperty(E,Nr,{value:[]})[Nr];for(;L.length<=R;)L.push(null);return(L[R]=L[R]||[]).push(y),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class _n{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=$t({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Yu=new _n("AnalyzeForEntryComponents");function Ei(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Ei(u,o)):o!==s&&o.push(u)}return o}function Di(s,o){s.forEach(a=>Array.isArray(a)?Di(a,o):o(a))}function Na(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function xc(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function uo(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function Hn(s,o,a){let u=Is(s,o);return u>=0?s[1|u]=a:(u=~u,function Dl(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Ss(s,o){const a=Is(s,o);if(a>=0)return s[1|a]}function Is(s,o){return function Wo(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const m=u+(h-u>>1),y=s[m<<a];if(o===y)return m<<a;y>o?h=m:u=m+1}return~(h<<a)}(s,o,1)}const xi={},Yo="__NG_DI_FLAG__",Qi="ngTempTokenPath",ed=/\n/gm,Il="__source",Tl=fe({provide:String,useValue:fe});let Br;function w(s){const o=Br;return Br=s,o}function x(s,o=ut.Default){if(void 0===Br)throw new Me(203,"");return null===Br?hs(s,void 0,o):Br.get(s,o&ut.Optional?null:void 0,o)}function M(s,o=ut.Default){return(function gn(){return mi}()||x)(te(s),o)}const Q=M;function re(s){const o=[];for(let a=0;a<s.length;a++){const u=te(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Me(900,"");let h,m=ut.Default;for(let y=0;y<u.length;y++){const C=u[y],E=Ze(C);"number"==typeof E?-1===E?h=C.token:m|=E:h=C}o.push(M(h,m))}else o.push(M(u))}return o}function Se(s,o){return s[Yo]=o,s.prototype[Yo]=o,s}function Ze(s){return s[Yo]}const Dt=Se(Lr("Inject",s=>({token:s})),-1),ot=Se(Lr("Optional"),8),fn=Se(Lr("SkipSelf"),4);var Ms=(()=>((Ms=Ms||{})[Ms.Important=1]="Important",Ms[Ms.DashCase=2]="DashCase",Ms))();const nd="__ngContext__";function Jn(s,o){s[nd]=o}function Ba(s){const o=function Fl(s){return s[nd]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function oh(s,o){return undefined(s,o)}function Ll(s){const o=s[3];return ur(o)?o[3]:o}function Rc(s){return id(s[13])}function lh(s){return id(s[4])}function id(s){for(;null!==s&&!ur(s);)s=s[4];return s}function Oc(s,o,a,u,h){if(null!=u){let m,y=!1;ur(u)?m=u:yi(u)&&(y=!0,u=u[0]);const C=Yt(u);0===s&&null!==a?null==h?Zf(o,a,C):_o(o,a,C,h||null,!0):1===s&&null!==a?_o(o,a,C,h||null,!0):2===s?function Vl(s,o,a){const u=Ha(s,o);u&&function Xi(s,o,a,u){on(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,C,y):3===s&&o.destroyNode(C),null!=m&&function ym(s,o,a,u,h){const m=a[7];m!==Yt(a)&&Oc(o,s,u,m,h);for(let C=10;C<a.length;C++){const E=a[C];yo(E[1],E,s,o,u,m)}}(o,s,m,a,h)}}function Ur(s,o,a){if(on(s))return s.createElement(o,a);{const u=null!==a?function dc(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function Bl(s,o){const a=s[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Fo(h,-1)),a.splice(u,1)}function mo(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&Bl(h,u),o>0&&(s[a-1][4]=u[4]);const m=xc(s,10+o);!function fm(s,o){yo(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=m[19];null!==y&&y.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function qf(s,o){if(!(256&o[2])){const a=o[11];on(a)&&a.destroyNode&&yo(s,o,a,3,null,null),function gm(s){let o=s[13];if(!o)return Ua(s[1],s);for(;o;){let a=null;if(yi(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)yi(o)&&Ua(o[1],o),o=o[3];null===o&&(o=s),yi(o)&&Ua(o[1],o),a=o&&o[4]}o=a}}(o)}}function Ua(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function _m(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof Bo)){const m=a[u+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=h[m[y]],E=m[y+1];try{E.call(C)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function dh(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const y=a[m+1],C="function"==typeof y?y(o):Yt(o[y]),E=u[h=a[m+2]],I=a[m+3];"boolean"==typeof I?C.removeEventListener(a[m],E,I):I>=0?u[h=I]():u[h=-I].unsubscribe(),m+=2}else{const y=u[h=a[m+1]];a[m].call(y)}if(null!==u){for(let m=h+1;m<u.length;m++)u[m]();o[7]=null}}(s,o),1===o[1].type&&on(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ur(o[3])){a!==o[3]&&Bl(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function hh(s,o,a){return function rd(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===Ut.None||h===Ut.Emulated)return null}return $n(u,a)}(s,o.parent,a)}function _o(s,o,a,u,h){on(s)?s.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function Zf(s,o,a){on(s)?s.appendChild(o,a):o.appendChild(a)}function sd(s,o,a,u,h){null!==u?_o(s,o,a,u,h):Zf(s,o,a)}function Ha(s,o){return on(s)?s.parentNode(o):o.parentNode}function kc(s,o,a){return Qf(s,o,a)}let Xo,Qf=function Ko(s,o,a){return 40&s.type?$n(s,a):null};function Fc(s,o,a,u){const h=hh(s,u,o),m=o[11],C=kc(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)sd(m,h,a[E],C,!1);else sd(m,h,a,C,!1)}function ja(s,o){if(null!==o){const a=o.type;if(3&a)return $n(o,s);if(4&a)return od(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return ja(s,u);{const h=s[o.index];return ur(h)?od(-1,h):Yt(h)}}if(32&a)return oh(o,s)()||Yt(s[o.index]);{const u=ph(s,o);return null!==u?Array.isArray(u)?u[0]:ja(Ll(s[16]),u):ja(s,o.next)}}return null}function ph(s,o){return null!==o?s[16][6].projection[o.projection]:null}function od(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return ja(u,h)}return o[7]}function Qo(s,o,a,u,h,m,y){for(;null!=a;){const C=u[a.index],E=a.type;if(y&&0===o&&(C&&Jn(Yt(C),u),a.flags|=4),64!=(64&a.flags))if(8&E)Qo(s,o,a.child,u,h,m,!1),Oc(o,s,h,C,m);else if(32&E){const I=oh(a,u);let R;for(;R=I();)Oc(o,s,h,R,m);Oc(o,s,h,C,m)}else 16&E?Jf(s,o,u,a,h,m):Oc(o,s,h,C,m);a=y?a.projectionNext:a.next}}function yo(s,o,a,u,h,m){Qo(a,u,s.firstChild,o,h,m,!1)}function Jf(s,o,a,u,h,m){const y=a[16],E=y[6].projection[u.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Oc(o,s,h,E[I],m);else Qo(s,o,E,y[3],h,m,!0)}function ep(s,o,a){on(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function ad(s,o,a){on(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function vo(s){var o;return(null===(o=function Pc(){if(void 0===Xo&&(Xo=null,Bt.trustedTypes))try{Xo=Bt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Xo}())||void 0===o?void 0:o.createHTML(s))||s}class Ga{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class np extends Ga{getTypeName(){return"HTML"}}class bm extends Ga{getTypeName(){return"Style"}}class na extends Ga{getTypeName(){return"Script"}}class ip extends Ga{getTypeName(){return"URL"}}class Cm extends Ga{getTypeName(){return"ResourceURL"}}function bo(s){return s instanceof Ga?s.changingThisBreaksApplicationSecurity:s}function Ul(s,o){const a=_h(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function _h(s){return s instanceof Ga&&s.getTypeName()||null}function Bi(s){return new np(s)}function yh(s){return new bm(s)}function vh(s){return new na(s)}function wm(s){return new ip(s)}function Co(s){return new Cm(s)}class bh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(vo(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Em{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=vo(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=vo(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const ud=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Nc(s){return(s=String(s)).match(ud)||s.match(sp)?s:"unsafe:"+s}function _(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function f(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const g=_("area,br,col,hr,img,wbr"),b=_("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),S=_("rp,rt"),Oe=f(g,f(b,_("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),f(S,_("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),f(S,b)),$e=_("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ct=_("srcset"),Hr=f($e,ct,_("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lc=_("script,style,template");class ap{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Oe.hasOwnProperty(a))return this.sanitizedSomething=!0,!Lc.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),y=m.name,C=y.toLowerCase();if(!Hr.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;$e[C]&&(E=Nc(E)),ct[C]&&(s=E,E=(s=String(s)).split(",").map(o=>Nc(o.trim())).join(", ")),this.buf.push(" ",y,'="',wh(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Oe.hasOwnProperty(a)&&!g.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(wh(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Ch=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,di=/([^\#-~ |!])/g;function wh(s){return s.replace(/&/g,"&amp;").replace(Ch,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(di,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $a;function Bc(s,o){let a=null;try{$a=$a||function Hl(s){const o=new Em(s);return function rp(){try{return!!(new window.DOMParser).parseFromString(vo(""),"text/html")}catch(s){return!1}}()?new bh(o):o}(s);let u=o?String(o):"";a=$a.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=a.innerHTML,a=$a.getInertBodyElement(u)}while(u!==m);return vo((new ap).sanitizeChildren(jl(a)||a))}finally{if(a){const u=jl(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function jl(s){return"content"in s&&function ia(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function Eh(s){const o=function Rs(){const s=Ae();return s&&s[12]}();return o?o.sanitize(In.URL,s)||"":Ul(s,"URL")?bo(s):Nc(he(s))}function lp(s){return s.ngOriginalError}function VE(s,...o){s.error(...o)}class cp{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function BE(s){return s&&s.ngErrorLogger||VE}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&lp(o);for(;a&&lp(a);)a=lp(a);return a||null}}const GE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function wo(s){return s instanceof Function?s():s}function rs(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||s.charCodeAt(h+m)<=32)return h}a=h+1}}const WE="ng-template";function YE(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==rs(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Gl(s){return 4===s.type&&s.value!==WE}function Hc(s,o,a){return o===(4!==s.type||a?s.value:WE)}function jc(s,o,a){let u=4;const h=s.attrs||[],m=function Rm(s){for(let o=0;o<s.length;o++)if(Wn(s[o]))return o;return s.length}(h);let y=!1;for(let C=0;C<o.length;C++){const E=o[C];if("number"!=typeof E){if(!y)if(4&u){if(u=2|1&u,""!==E&&!Hc(s,E,a)||""===E&&1===o.length){if(N(u))return!1;y=!0}}else{const I=8&u?E:o[++C];if(8&u&&null!==s.attrs){if(!YE(s.attrs,I,a)){if(N(u))return!1;y=!0}continue}const L=dp(8&u?"class":E,h,Gl(s),a);if(-1===L){if(N(u))return!1;y=!0;continue}if(""!==I){let $;$=L>m?"":h[L+1].toLowerCase();const X=8&u?$:null;if(X&&-1!==rs(X,I,0)||2&u&&I!==$){if(N(u))return!1;y=!0}}}}else{if(!y&&!N(u)&&!N(E))return!1;if(y&&N(E))continue;y=!1,u=E|1&u}}return N(u)||y}function N(s){return 0==(1&s)}function dp(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let m=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function Pv(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function Mm(s,o,a=!1){for(let u=0;u<o.length;u++)if(jc(s,o[u],a))return!0;return!1}function qE(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function Nv(s,o){return s?":not("+o.trim()+")":o}function Lv(s){let o=s[0],a=1,u=2,h="",m=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&u){const C=s[++a];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!N(y)&&(o+=Nv(m,h),h=""),u=y,m=m||!N(u);a++}return""!==h&&(o+=Nv(m,h)),o}const yt={};function km(s){Fm(Ft(),Ae(),zn()+s,!1)}function Fm(s,o,a,u){if(!u)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Qr(o,m,a)}else{const m=s.preOrderHooks;null!==m&&ro(o,m,0,a)}io(a)}function sa(s,o){return s<<17|o<<2}function Os(s){return s>>17&32767}function $c(s){return 2|s}function Eo(s){return(131068&s)>>2}function ks(s,o){return-131069&s|o<<2}function Nm(s){return 1|s}function $m(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],m=a[u+1];if(-1!==m){const y=s.data[m];Pu(h),y.contentQueries(2,o[m],m)}}}function Sh(s,o,a,u,h,m,y,C,E,I){const R=o.blueprint.slice();return R[0]=h,R[2]=140|u,Or(R),R[3]=R[15]=s,R[8]=a,R[10]=y||s&&s[10],R[11]=C||s&&s[11],R[12]=E||s&&s[12]||null,R[9]=I||s&&s[9]||null,R[6]=m,R[16]=2==o.type?s[16]:R,R}function Zc(s,o,a,u,h){let m=s.data[o];if(null===m)m=function gp(s,o,a,u,h){const m=pl(),y=_c(),E=s.data[o]=function vp(s,o,a,u,h,m){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=E),null!==m&&(y?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(s,o,a,u,h),function bc(){return ht.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=a,m.value=u,m.attrs=h;const y=function to(){const s=ht.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return qi(m,!0),m}function Kc(s,o,a,u){if(0===a)return-1;const h=o.length;for(let m=0;m<a;m++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function Ih(s,o,a){no(o);try{const u=s.viewQuery;null!==u&&Jm(1,u,a);const h=s.template;null!==h&&Gv(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&$m(s,o),s.staticViewQueries&&Jm(2,s.viewQuery,a);const m=s.components;null!==m&&function u0(s,o){for(let a=0;a<o.length;a++)b0(s,o[a])}(o,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Ni()}}function fd(s,o,a,u){const h=o[2];if(256!=(256&h)){no(o);try{Or(o),function gl(s){return ht.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Gv(s,o,a,2,u);const y=3==(3&h);if(y){const I=s.preOrderCheckHooks;null!==I&&Qr(o,I,null)}else{const I=s.preOrderHooks;null!==I&&ro(o,I,0,null),Vn(o,0)}if(function Tn(s){for(let o=Rc(s);null!==o;o=lh(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],m=h[3];0==(1024&h[2])&&Fo(m,1),h[2]|=1024}}}(o),function nb(s){for(let o=Rc(s);null!==o;o=lh(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];Zr(u)&&fd(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&$m(s,o),y){const I=s.contentCheckHooks;null!==I&&Qr(o,I)}else{const I=s.contentHooks;null!==I&&ro(o,I,1),Vn(o,1)}!function l0(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)io(~h);else{const m=h,y=a[++u],C=a[++u];_l(y,m),C(2,o[m])}}}finally{io(-1)}}(s,o);const C=s.components;null!==C&&function c0(s,o){for(let a=0;a<o.length;a++)Pt(s,o[a])}(o,C);const E=s.viewQuery;if(null!==E&&Jm(2,E,u),y){const I=s.viewCheckHooks;null!==I&&Qr(o,I)}else{const I=s.viewHooks;null!==I&&ro(o,I,2),Vn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,Fo(o[3],-1))}finally{Ni()}}}function d0(s,o,a,u){const h=o[10],y=Js(o);try{!y&&h.begin&&h.begin(),y&&Ih(s,o,u),fd(s,o,a,u)}finally{!y&&h.end&&h.end()}}function Gv(s,o,a,u,h){const m=zn(),y=2&u;try{io(-1),y&&o.length>20&&Fm(s,o,20,!1),a(u,h)}finally{io(m)}}function $v(s,o,a){if(cl(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,a[m],m)}}}function mp(s,o,a){!fl()||(function Jv(s,o,a,u){const h=a.directiveStart,m=a.directiveEnd;s.firstCreatePass||Fr(a,o),Jn(u,o);const y=a.initialInputs;for(let C=h;C<m;C++){const E=s.data[C],I=Ir(E);I&&Qt(o,a,E);const R=Li(o,s,C,a);Jn(R,o),null!==y&&pn(0,C-h,R,E,0,y),I&&(Xn(a.index,o)[8]=R)}}(s,o,a,$n(a,o)),128==(128&a.flags)&&function v0(s,o,a){const u=a.directiveStart,h=a.directiveEnd,y=a.index,C=function Cc(){return ht.lFrame.currentDirectiveIndex}();try{io(y);for(let E=u;E<h;E++){const I=s.data[E],R=o[E];No(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Wm(I,R)}}finally{io(-1),No(C)}}(s,o,a))}function _p(s,o,a=$n){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const y=u[m+1],C=-1===y?a(o,s):s[y];s[h++]=C}}}function zv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=yp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function yp(s,o,a,u,h,m,y,C,E,I){const R=20+u,L=R+h,$=function h0(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:yt);return a}(R,L),X="function"==typeof I?I():I;return $[1]={type:s,blueprint:$,template:a,queries:null,viewQuery:C,declTNode:o,data:$.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function qv(s,o,a,u){const h=rb(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&sb(s).push(u,h.length-1))}function Qc(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function ss(s,o,a,u,h,m,y,C){const E=$n(o,a);let R,I=o.inputs;!C&&null!=I&&(R=I[u])?(Nt(s,a,R,u,h),Eu(o)&&function p0(s,o){const a=Xn(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function f0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=y?y(h,o.value||"",u):h,on(m)?m.setProperty(E,u,h):cn(u)||(E.setProperty?E.setProperty(u,h):E[u]=h))}function bp(s,o,a,u){let h=!1;if(fl()){const m=function eb(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const y=u[m];Mm(a,y.selectors,!1)&&(h||(h=[]),Yn(Fr(a,o),s,y.type),Ir(y)?(Ym(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===u?null:{"":-1};if(null!==m){h=!0,qm(a,s.data.length,m.length);for(let R=0;R<m.length;R++){const L=m[R];L.providersResolver&&L.providersResolver(L)}let C=!1,E=!1,I=Kc(s,o,m.length,null);for(let R=0;R<m.length;R++){const L=m[R];a.mergedAttrs=Ma(a.mergedAttrs,L.hostAttrs),en(s,a,o,I,L),tb(I,L,y),null!==L.contentQueries&&(a.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(a.flags|=128);const $=L.type.prototype;!C&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),C=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),I++}!function Zv(s,o){const u=o.directiveEnd,h=s.data,m=o.attrs,y=[];let C=null,E=null;for(let I=o.directiveStart;I<u;I++){const R=h[I],L=R.inputs,$=null===m||Gl(o)?null:Zm(L,m);y.push($),C=Qc(L,I,C),E=Qc(R.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=C,o.outputs=E}(s,a)}y&&function Cp(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=a[o[h+1]];if(null==m)throw new Me(-301,!1);u.push(o[h],m)}}}(a,u,y)}return a.mergedAttrs=Ma(a.mergedAttrs,a.attrs),h}function zm(s,o,a,u,h,m){const y=m.hostBindings;if(y){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const E=~o.index;(function Xv(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(C)!=E&&C.push(E),C.push(u,h,y)}}function Wm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ym(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function tb(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;Ir(o)&&(a[""]=s)}}function qm(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function en(s,o,a,u,h){s.data[u]=h;const m=h.factory||(h.factory=li(h.type)),y=new Bo(m,Ir(h),null);s.blueprint[u]=y,a[u]=y,zm(s,o,0,u,Kc(s,a,h.hostVars,yt),h)}function Qt(s,o,a){const u=$n(o,s),h=zv(a),m=s[10],y=mr(s,Sh(s,h,null,a.onPush?64:16,u,o,m,m.createRenderer(u,a),null,null));s[o.index]=y}function bt(s,o,a,u,h,m){const y=$n(s,o);!function la(s,o,a,u,h,m,y){if(null==m)on(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const C=null==y?he(m):y(m,u||"",h);on(s)?s.setAttribute(o,h,C,a):a?o.setAttributeNS(a,h,C):o.setAttribute(h,C)}}(o[11],y,m,s.value,a,u,h)}function pn(s,o,a,u,h,m){const y=m[o];if(null!==y){const C=u.setInput;for(let E=0;E<y.length;){const I=y[E++],R=y[E++],L=y[E++];null!==C?u.setInput(a,L,I,R):a[R]=L}}}function Zm(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function pd(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function Pt(s,o){const a=Xn(o,s);if(Zr(a)){const u=a[1];80&a[2]?fd(u,a,u.template,a[8]):a[5]>0&&Ui(a)}}function Ui(s){for(let u=Rc(s);null!==u;u=lh(u))for(let h=10;h<u.length;h++){const m=u[h];if(1024&m[2]){const y=m[1];fd(y,m,y.template,m[8])}else m[5]>0&&Ui(m)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=Xn(a[u],s);Zr(h)&&h[5]>0&&Ui(h)}}function b0(s,o){const a=Xn(o,s),u=a[1];(function Km(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),Ih(u,a,a[8])}function mr(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Qm(s){for(;s;){s[2]|=64;const o=Ll(s);if(wa(s)&&!o)return s;s=o}return null}function $l(s){!function Xm(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=Ba(a),h=u[1];d0(h,u,h.template,a)}}(s[8])}function Jm(s,o,a){Pu(0),o(s,a)}const E0=(()=>Promise.resolve(null))();function rb(s){return s[7]||(s[7]=[])}function sb(s){return s.cleanup||(s.cleanup=[])}function e_(s,o,a){return(null===s||Ir(s))&&(a=function xa(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}function zl(s,o){const a=s[9],u=a?a.get(cp,null):null;u&&u.handleError(o)}function Nt(s,o,a,u,h){for(let m=0;m<a.length;){const y=a[m++],C=a[m++],E=o[y],I=s.data[y];null!==I.setInput?I.setInput(E,h,u,C):E[C]=h}}function Ps(s,o,a){const u=bs(o,s);!function Yf(s,o,a){on(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function Xc(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,m=0;if(null!==o)for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?m=C:1==m?h=de(h,C):2==m&&(u=de(u,C+": "+o[++y]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}const os=new _n("INJECTOR",-1);class ab{get(o,a=xi){if(a===xi){const u=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw u.name="NullInjectorError",u}return a}}const Ji=new _n("Set Injector scope."),Th={},n_={};let Mh;function lb(){return void 0===Mh&&(Mh=new ab),Mh}function i_(s,o=null,a=null,u){const h=r_(s,o,a,u);return h._resolveInjectorDefTypes(),h}function r_(s,o=null,a=null,u){return new cb(s,a,o||lb(),u)}class cb{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];a&&Di(a,C=>this.processProvider(C,o,a)),Di([o],C=>this.processInjectorType(C,[],m)),this.records.set(os,gd(void 0,this));const y=this.records.get(Ji);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=xi,u=ut.Default){this.assertNotDestroyed();const h=w(this),m=Gn(void 0);try{if(!(u&ut.SkipSelf)){let C=this.records.get(o);if(void 0===C){const E=function qa(s){return"function"==typeof s||"object"==typeof s&&s instanceof _n}(o)&&Ot(o);C=E&&this.injectableDefInScope(E)?gd(Wl(o),Th):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(u&ut.Self?lb():this.parent).get(o,a=u&ut.Optional&&a===xi?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Qi]=y[Qi]||[]).unshift(ce(o)),h)throw y;return function Xe(s,o,a,u){const h=s[Qi];throw o[Il]&&h.unshift(o[Il]),s.message=function et(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let m=[];for(let y in o)if(o.hasOwnProperty(y)){let C=o[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):ce(C)))}h=`{${m.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(ed,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[Qi]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Gn(m),w(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(o,a,u){if(!(o=te(o)))return!1;let h=gi(o);const m=null==h&&o.ngModule||void 0,y=void 0===m?o:m,C=-1!==u.indexOf(y);if(void 0!==m&&(h=gi(m)),null==h)return!1;if(null!=h.imports&&!C){let R;u.push(y);try{Di(h.imports,L=>{this.processInjectorType(L,a,u)&&(void 0===R&&(R=[]),R.push(L))})}finally{}if(void 0!==R)for(let L=0;L<R.length;L++){const{ngModule:$,providers:X}=R[L];Di(X,_e=>this.processProvider(_e,$,X||st))}}this.injectorDefTypes.add(y);const E=li(y)||(()=>new y);this.records.set(y,gd(E,Th));const I=h.providers;if(null!=I&&!C){const R=o;Di(I,L=>this.processProvider(L,R,I))}return void 0!==m&&void 0!==o.providers}processProvider(o,a,u){let h=md(o=te(o))?o:te(o&&o.provide);const m=function db(s,o,a){return fb(s)?gd(void 0,s.useValue):gd(hb(s),Th)}(o);if(md(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=gd(void 0,Th,!0),y.factory=()=>re(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,m)}hydrate(o,a){return a.value===Th&&(a.value=n_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function _d(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Wl(s){const o=Ot(s),a=null!==o?o.factory:li(s);if(null!==a)return a;if(s instanceof _n)throw new Me(204,!1);if(s instanceof Function)return function ub(s){const o=s.length;if(o>0)throw uo(o,"?"),new Me(204,!1);const a=function wr(s){const o=s&&(s[Er]||s[Fi]);if(o){const a=function pi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Me(204,!1)}function hb(s,o,a){let u;if(md(s)){const h=te(s);return li(h)||Wl(h)}if(fb(s))u=()=>te(s.useValue);else if(function D0(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...re(s.deps||[]));else if(function yn(s){return!(!s||!s.useExisting)}(s))u=()=>M(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function s_(s){return!!s.deps}(s))return li(h)||Wl(h);u=()=>new h(...re(s.deps))}return u}function gd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function fb(s){return null!==s&&"object"==typeof s&&Tl in s}function md(s){return"function"==typeof s}let jr=(()=>{class s{static create(a,u){var h;if(Array.isArray(a))return i_({name:""},u,a,"");{const m=null!==(h=a.name)&&void 0!==h?h:"";return i_({name:m},a.parent,a.providers,m)}}}return s.THROW_IF_NOT_FOUND=xi,s.NULL=new ab,s.\u0275prov=$t({token:s,providedIn:"any",factory:()=>M(os)}),s.__NG_ELEMENT_ID__=-1,s})();function Sp(s,o){Ia(Ba(s)[1],dn())}function Yl(s){let o=function Oh(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(Ir(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Me(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const y=s;y.inputs=kh(s.inputs),y.declaredInputs=kh(s.declaredInputs),y.outputs=kh(s.outputs);const C=h.hostBindings;C&&Cb(s,C);const E=h.viewQuery,I=h.contentQueries;if(E&&I0(s,E),I&&T0(s,I),ne(s.inputs,h.inputs),ne(s.declaredInputs,h.declaredInputs),ne(s.outputs,h.outputs),Ir(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(s),C===Yl&&(a=!1)}}o=Object.getPrototypeOf(o)}!function d_(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Ma(h.hostAttrs,a=Ma(a,h.hostAttrs))}}(u)}function kh(s){return s===oi?{}:s===st?[]:s}function I0(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function T0(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,m)=>{o(u,h,m),a(u,h,m)}:o}function Cb(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let _r=null;function ql(){if(!_r){const s=Bt.Symbol;if(s&&s.iterator)_r=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(_r=u)}}}return _r}function eu(s){return!!Za(s)&&(Array.isArray(s)||!(s instanceof Map)&&ql()in s)}function Za(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function er(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function f_(s,o,a,u){const h=Ae();return er(h,ws(),o)&&(Ft(),bt(bn(),h,s,o,a,u)),f_}function Ph(s,o,a,u,h,m,y,C){const E=Ae(),I=Ft(),R=s+20,L=I.firstCreatePass?function wb(s,o,a,u,h,m,y,C,E){const I=o.consts,R=Zc(o,s,4,y||null,hr(I,C));bp(o,a,R,hr(I,E)),Ia(o,R);const L=R.tViews=yp(2,R,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,R),L.queries=o.queries.embeddedTView(R)),R}(R,I,E,o,a,u,h,m,y):I.data[R];qi(L,!1);const $=E[11].createComment("");Fc(I,E,$,L),Jn($,E),mr(E,E[R]=pd($,E,$,L)),Sr(L)&&mp(I,E,L),null!=y&&_p(E,L,C)}function Nh(s,o=ut.Default){const a=Ae();return null===a?M(s,o):lo(dn(),a,te(s),o)}function E_(){throw new Error("invalid")}function D_(s,o,a){const u=Ae();return er(u,ws(),o)&&ss(Ft(),bn(),u,s,o,u[11],a,!1),D_}function Lp(s,o,a,u,h){const y=h?"class":"style";Nt(s,a,o.inputs[y],y,u)}function Bp(s,o,a,u){const h=Ae(),m=Ft(),y=20+s,C=h[11],E=h[y]=Ur(C,o,function Pf(){return ht.lFrame.currentNamespace}()),I=m.firstCreatePass?function Bb(s,o,a,u,h,m,y){const C=o.consts,I=Zc(o,s,2,h,hr(C,m));return bp(o,a,I,hr(C,y)),null!==I.attrs&&Xc(I,I.attrs,!1),null!==I.mergedAttrs&&Xc(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,m,h,0,o,a,u):m.data[y];qi(I,!0);const R=I.mergedAttrs;null!==R&&St(C,E,R);const L=I.classes;null!==L&&ad(C,E,L);const $=I.styles;return null!==$&&ep(C,E,$),64!=(64&I.flags)&&Fc(m,h,E,I),0===function Sa(){return ht.lFrame.elementDepthCount}()&&Jn(E,h),function gc(){ht.lFrame.elementDepthCount++}(),Sr(I)&&(mp(m,h,I),$v(m,I,h)),null!==u&&_p(h,I),Bp}function Lh(){let s=dn();_c()?yc():(s=s.parent,qi(s,!1));const o=s;!function hl(){ht.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(Ia(a,s),cl(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Lf(s){return 0!=(16&s.flags)}(o)&&Lp(a,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function kn(s){return 0!=(32&s.flags)}(o)&&Lp(a,o,Ae(),o.stylesWithoutHost,!1),Lh}function Ed(s,o,a,u){return Bp(s,o,a,u),Lh(),Ed}function Vp(s,o,a){const u=Ae(),h=Ft(),m=s+20,y=h.firstCreatePass?function Y0(s,o,a,u,h){const m=o.consts,y=hr(m,u),C=Zc(o,s,8,"ng-container",y);return null!==y&&Xc(C,y,!0),bp(o,a,C,hr(m,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,h,u,o,a):h.data[m];qi(y,!0);const C=u[m]=u[11].createComment("");return Fc(h,u,C,y),Jn(C,u),Sr(y)&&(mp(h,u,y),$v(h,y,u)),null!=a&&_p(u,y),Vp}function Up(){let s=dn();const o=Ft();return _c()?yc():(s=s.parent,qi(s,!1)),o.firstCreatePass&&(Ia(o,s),cl(s)&&o.queries.elementEnd(s)),Up}function Bh(s,o,a){return Vp(s,o,a),Up(),Bh}function x_(){return Ae()}function A_(s){return!!s&&"function"==typeof s.then}function Vb(s){return!!s&&"function"==typeof s.subscribe}const S_=Vb;function da(s,o,a,u){const h=Ae(),m=Ft(),y=dn();return Ja(m,h,h[11],y,s,o,!!a,u),da}function Hp(s,o){const a=dn(),u=Ae(),h=Ft();return Ja(h,u,e_(yl(h.data),a,u),a,s,o,!1),Hp}function Ja(s,o,a,u,h,m,y,C){const E=Sr(u),R=s.firstCreatePass&&sb(s),L=o[8],$=rb(o);let X=!0;if(3&u.type||C){const Ve=$n(u,o),Qe=C?C(Ve):Ve,Ie=$.length,lt=C?Vt=>C(Yt(Vt[u.index])):u.index;if(on(a)){let Vt=null;if(!C&&E&&(Vt=function Ub(s,o,a,u){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===a&&h[m+1]===u){const C=o[7],E=h[m+2];return C.length>E?C[E]:null}"string"==typeof y&&(m+=2)}return null}(s,o,h,u.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=m,Vt.__ngLastListenerFn__=m,X=!1;else{m=Dd(u,o,L,m,!1);const nn=a.listen(Qe,h,m);$.push(m,nn),R&&R.push(h,lt,Ie,Ie+1)}}else m=Dd(u,o,L,m,!0),Qe.addEventListener(h,m,y),$.push(m),R&&R.push(h,lt,Ie,y)}else m=Dd(u,o,L,m,!1);const _e=u.outputs;let ke;if(X&&null!==_e&&(ke=_e[h])){const Ve=ke.length;if(Ve)for(let Qe=0;Qe<Ve;Qe+=2){const Cr=o[ke[Qe]][ke[Qe+1]].subscribe(m),fu=$.length;$.push(m,Cr),R&&R.push(h,u.index,fu,-(fu+1))}}}function Vh(s,o,a,u){try{return!1!==a(u)}catch(h){return zl(s,h),!1}}function Dd(s,o,a,u,h){return function m(y){if(y===Function)return u;const C=2&s.flags?Xn(s.index,o):o;0==(32&o[2])&&Qm(C);let E=Vh(o,0,u,y),I=m.__ngNextListenerFn__;for(;I;)E=Vh(o,0,I,y)&&E,I=I.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Hb(s=1){return function Kd(s){return(ht.lFrame.contextLView=function wc(s,o){for(;s>0;)o=o[15],s--;return o}(s,ht.lFrame.contextLView))[8]}(s)}function q0(s,o){let a=null;const u=function Fv(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?Mm(s,m,!0):qE(u,m))return h}else a=h}return a}function jb(s){const o=Ae()[16][6];if(!o.projection){const u=o.projection=uo(s?s.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const y=s?q0(m,s):0;null!==y&&(h[y]?h[y].projectionNext=m:u[y]=m,h[y]=m),m=m.next}}}function I_(s,o=0,a){const u=Ae(),h=Ft(),m=Zc(h,20+s,16,null,a||null);null===m.projection&&(m.projection=o),yc(),64!=(64&m.flags)&&function gh(s,o,a){Jf(o[11],0,o,a,hh(s,a,o),kc(a.parent||o[6],a,o))}(h,u,m)}function su(s,o,a,u,h){const m=s[a+1],y=null===o;let C=u?Os(m):Eo(m),E=!1;for(;0!==C&&(!1===E||y);){const R=s[C+1];qb(s[C],o)&&(E=!0,s[C+1]=u?Nm(R):$c(R)),C=u?Os(R):Eo(R)}E&&(s[a+1]=u?$c(m):Nm(m))}function qb(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Is(s,o)>=0}function qp(s,o,a){return as(s,o,a,!1),qp}function F_(s,o){return as(s,o,null,!0),F_}function as(s,o,a,u){const h=Ae(),m=Ft(),y=function fr(s){const o=ht.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);m.firstUpdatePass&&function Zp(s,o,a,u){const h=s.data;if(null===h[a+1]){const m=h[zn()],y=function Xl(s,o){return o>=s.expandoStartIndex}(s,a);(function iC(s,o){return 0!=(s.flags&(o?16:32))})(m,u)&&null===o&&!y&&(o=!1),o=function Xb(s,o,a,u){const h=yl(s);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=tl(a=N_(null,s,o,a,u),o.attrs,u),m=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=N_(h,s,o,a,u),null===m){let E=function X0(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Eo(u))return s[Os(u)]}(s,o,u);void 0!==E&&Array.isArray(E)&&(E=N_(null,s,o,E[1],u),E=tl(E,o.attrs,u),function Kp(s,o,a,u){s[Os(a?o.classBindings:o.styleBindings)]=u}(s,o,u,E))}else m=function Jb(s,o,a){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=tl(u,s[m].hostAttrs,a);return tl(u,o.attrs,a)}(s,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),a}(h,m,o,u),function Gp(s,o,a,u,h,m){let y=m?o.classBindings:o.styleBindings,C=Os(y),E=Eo(y);s[u]=a;let R,I=!1;if(Array.isArray(a)){const L=a;R=L[1],(null===R||Is(L,R)>0)&&(I=!0)}else R=a;if(h)if(0!==E){const $=Os(s[C+1]);s[u+1]=sa($,C),0!==$&&(s[$+1]=ks(s[$+1],u)),s[C+1]=function Ti(s,o){return 131071&s|o<<17}(s[C+1],u)}else s[u+1]=sa(C,0),0!==C&&(s[C+1]=ks(s[C+1],u)),C=u;else s[u+1]=sa(E,0),0===C?C=u:s[E+1]=ks(s[E+1],u),E=u;I&&(s[u+1]=$c(s[u+1])),su(s,R,u,!0),su(s,R,u,!1),function Z0(s,o,a,u,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Is(m,o)>=0&&(a[u+1]=Nm(a[u+1]))}(o,R,s,u,m),y=sa(C,E),m?o.classBindings=y:o.styleBindings=y}(h,m,o,a,y,u)}}(m,s,y,u),o!==yt&&er(h,y,o)&&function tC(s,o,a,u,h,m,y,C){if(!(3&o.type))return;const E=s.data,I=E[C+1];ou(function Vi(s){return 1==(1&s)}(I)?Qp(E,o,a,h,Eo(I),y):void 0)||(ou(m)||function Pm(s){return 2==(2&s)}(I)&&(m=Qp(E,null,a,h,C,y)),function vm(s,o,a,u,h){const m=on(s);if(o)h?m?s.addClass(a,u):a.classList.add(u):m?s.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:Ms.DashCase;if(null==h)m?s.removeStyle(a,u,y):a.style.removeProperty(u);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),y|=Ms.Important),m?s.setStyle(a,u,h,y):a.style.setProperty(u,h,C?"important":"")}}}(u,y,bs(zn(),a),h,m))}(m,m.data[zn()],h,h[11],s,h[y+1]=function nC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(bo(s)))),s}(o,a),u,y)}function N_(s,o,a,u,h){let m=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(m=o[C],u=tl(u,m.hostAttrs,h),m!==s);)C++;return null!==s&&(a.directiveStylingLast=C),u}function tl(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const y=o[m];"number"==typeof y?h=y:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hn(s,y,!!a||o[++m]))}return void 0===s?null:s}function Qp(s,o,a,u,h,m){const y=null===o;let C;for(;h>0;){const E=s[h],I=Array.isArray(E),R=I?E[1]:E,L=null===R;let $=a[h+1];$===yt&&($=L?st:void 0);let X=L?Ss($,u):R===u?$:void 0;if(I&&!ou(X)&&(X=Ss(E,u)),ou(X)&&(C=X,y))return C;const _e=s[h+1];h=y?Os(_e):Eo(_e)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(C=Ss(E,u))}return C}function ou(s){return void 0!==s}function Ad(s,o=""){const a=Ae(),u=Ft(),h=s+20,m=u.firstCreatePass?Zc(u,h,1,o,null):u.data[h],y=a[h]=function po(s,o){return on(s)?s.createText(o):s.createTextNode(o)}(a[11],o);Fc(u,a,y,m),qi(m,!1)}function Us(s){return Jl("",s,""),Us}function Jl(s,o,a){const u=Ae(),h=function ua(s,o,a,u){return er(s,ws(),a)?o+he(a)+u:yt}(u,s,o,a);return h!==yt&&Ps(u,zn(),h),Jl}function ig(s,o,a){const u=Ae();return er(u,ws(),o)&&ss(Ft(),bn(),u,s,o,u[11],a,!0),ig}function j_(s,o,a){const u=Ae();if(er(u,ws(),o)){const m=Ft(),y=bn();ss(m,y,u,s,o,e_(yl(m.data),y,u),a,!0)}return j_}const Hs=void 0;var aD=["en",[["a","p"],["AM","PM"],Hs],[["AM","PM"],Hs,Hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hs,"{1} 'at' {0}",Hs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ec(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let tc={};function $_(s){const o=function rg(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=z_(o);if(a)return a;const u=o.split("-")[0];if(a=z_(u),a)return a;if("en"===u)return aD;throw new Error(`Missing locale data for the locale "${s}".`)}function yC(s){return $_(s)[ft.PluralCase]}function z_(s){return s in tc||(tc[s]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[s]),tc[s]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const sg="en-US";let q_=sg;function iy(s,o,a,u,h){if(s=te(s),Array.isArray(s))for(let m=0;m<s.length;m++)iy(s[m],o,a,u,h);else{const m=Ft(),y=Ae();let C=md(s)?s:te(s.provide),E=hb(s);const I=dn(),R=1048575&I.providerIndexes,L=I.directiveStart,$=I.providerIndexes>>20;if(md(s)||!s.multi){const X=new Bo(E,h,Nh),_e=sy(C,o,h?R:R+$,L);-1===_e?(Yn(Fr(I,y),m,C),ry(m,s,o.length),o.push(C),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(X),y.push(X)):(a[_e]=X,y[_e]=X)}else{const X=sy(C,o,R+$,L),_e=sy(C,o,R,R+$),ke=X>=0&&a[X],Ve=_e>=0&&a[_e];if(h&&!Ve||!h&&!ke){Yn(Fr(I,y),m,C);const Qe=function Kh(s,o,a,u,h){const m=new Bo(s,a,Nh);return m.multi=[],m.index=o,m.componentProviders=0,BC(m,h,u&&!a),m}(h?Hi:nc,a.length,h,u,E);!h&&Ve&&(a[_e].providerFactory=Qe),ry(m,s,o.length,0),o.push(C),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(Qe),y.push(Qe)}else ry(m,s,X>-1?X:_e,BC(a[h?_e:X],E,!h&&u));!h&&u&&Ve&&a[_e].componentProviders++}}}function ry(s,o,a,u){const h=md(o),m=function Dp(s){return!!s.useClass}(o);if(h||m){const E=(m?te(o.useClass):o).prototype.ngOnDestroy;if(E){const I=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=I.indexOf(a);-1===R?I.push(a,[u,E]):I[R+1].push(u,E)}else I.push(a,E)}}}function BC(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function sy(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function nc(s,o,a,u){return br(this.multi,[])}function Hi(s,o,a,u){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Li(a,a[1],this.providerFactory.index,u);m=C.slice(0,y),br(h,m);for(let E=y;E<C.length;E++)m.push(C[E])}else m=[],br(h,m);return m}function br(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function VC(s,o=[]){return a=>{a.providersResolver=(u,h)=>function LC(s,o,a){const u=Ft();if(u.firstCreatePass){const h=Ir(s);iy(a,u.data,u.blueprint,h,!0),iy(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class UC{}class VD{resolveComponentFactory(o){throw function BD(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Xh=(()=>{class s{}return s.NULL=new VD,s})();function HC(){return ic(dn(),Ae())}function ic(s,o){return new Od($n(s,o))}let Od=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=HC,s})();function pg(s){return s instanceof Od?s.nativeElement:s}class UD{}let HD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function SS(){const s=Ae(),a=Xn(dn().index,s);return function oy(s){return s[11]}(yi(a)?a:s)}(),s})(),IS=(()=>{class s{}return s.\u0275prov=$t({token:s,providedIn:"root",factory:()=>null}),s})();class jC{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const GC=new jC("13.3.12"),$C={};function ay(s,o,a,u,h=!1){for(;null!==a;){const m=o[a.index];if(null!==m&&u.push(Yt(m)),ur(m))for(let C=10;C<m.length;C++){const E=m[C],I=E[1].firstChild;null!==I&&ay(E[1],E,I,u)}const y=a.type;if(8&y)ay(s,o,a.child,u);else if(32&y){const C=oh(a,o);let E;for(;E=C();)u.push(E)}else if(16&y){const C=ph(o,a);if(Array.isArray(C))u.push(...C);else{const E=Ll(o[16]);ay(E[1],E,C,u,!0)}}a=h?a.projectionNext:a.next}return u}class gg{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return ay(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ur(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(mo(o,u),xc(a,u))}this._attachedToViewContainer=!1}qf(this._lView[1],this._lView)}onDestroy(o){qv(this._lView[1],this._lView,null,o)}markForCheck(){Qm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function wp(s,o,a){const u=o[10];u.begin&&u.begin();try{fd(s,o,s.template,a)}catch(h){throw zl(o,h),h}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pm(s,o){yo(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=o}}class TS extends gg{constructor(o){super(o),this._view=o}detectChanges(){$l(this._view)}checkNoChanges(){}get context(){return null}}class jD extends Xh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=jt(o);return new Jh(a,this.ngModule)}}function GD(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Jh extends UC{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Gc(s){return s.map(Lv).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return GD(this.componentDef.inputs)}get outputs(){return GD(this.componentDef.outputs)}create(o,a,u,h){const m=(h=h||this.ngModule)?function RS(s,o){return{get:(a,u,h)=>{const m=s.get(a,$C,h);return m!==$C||u===$C?m:o.get(a,u,h)}}}(o,h.injector):o,y=m.get(UD,Da),C=m.get(IS,null),E=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",R=u?function Yv(s,o,a){if(on(s))return s.selectRootElement(o,a===Ut.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(E,u,this.componentDef.encapsulation):Ur(y.createRenderer(null,this.componentDef),I,function MS(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(I)),L=this.componentDef.onPush?576:528,$=function u_(s,o){return{components:[],scheduler:s||GE,clean:E0,playerHandler:o||null,flags:0}}(),X=yp(0,null,null,1,0,null,null,null,null,null),_e=Sh(null,X,$,L,null,null,y,E,C,m);let ke,Ve;no(_e);try{const Qe=function Rh(s,o,a,u,h,m){const y=a[1];a[20]=s;const E=Zc(y,20,2,"#host",null),I=E.mergedAttrs=o.hostAttrs;null!==I&&(Xc(E,I,!0),null!==s&&(St(h,s,I),null!==E.classes&&ad(h,s,E.classes),null!==E.styles&&ep(h,s,E.styles)));const R=u.createRenderer(s,o),L=Sh(a,zv(o),null,o.onPush?64:16,a[20],E,u,R,m||null,null);return y.firstCreatePass&&(Yn(Fr(E,a),y,o.type),Ym(y,E),qm(E,a.length,1)),mr(a,L),a[20]=L}(R,this.componentDef,_e,y,E);if(R)if(u)St(E,R,["ng-version",GC.full]);else{const{attrs:Ie,classes:lt}=function Om(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++u]):8===h&&a.push(m);else{if(!N(h))break;h=m}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ie&&St(E,R,Ie),lt&&lt.length>0&&ad(E,R,lt.join(" "))}if(Ve=mn(X,20),void 0!==a){const Ie=Ve.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const Vt=a[lt];Ie.push(null!=Vt?Array.from(Vt):null)}}ke=function c_(s,o,a,u,h){const m=a[1],y=function y0(s,o,a){const u=dn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),en(s,u,o,Kc(s,o,1,null),a));const h=Li(o,s,u.directiveStart,u);Jn(h,o);const m=$n(u,o);return m&&Jn(m,o),h}(m,a,o);if(u.components.push(y),s[8]=y,h&&h.forEach(E=>E(y,o)),o.contentQueries){const E=dn();o.contentQueries(1,y,E.directiveStart)}const C=dn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(io(C.index),zm(a[1],C,0,C.directiveStart,C.directiveEnd,o),Wm(o,y)),y}(Qe,this.componentDef,_e,$,[Sp]),Ih(X,_e,null)}finally{Ni()}return new ji(this.componentType,ke,ic(Ve,_e),_e,Ve)}}class ji extends class LD{}{constructor(o,a,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=a,this.hostView=this.changeDetectorRef=new TS(h),this.componentType=o}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class il{}class mg{}const kd=new Map;class ZC extends il{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jD(this);const u=pt(o);this._bootstrapComponents=wo(u.bootstrap),this._r3Injector=r_(o,a,[{provide:il,useValue:this},{provide:Xh,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=jr.THROW_IF_NOT_FOUND,u=ut.Default){return o===jr||o===il||o===os?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Gi extends mg{constructor(o){super(),this.moduleType=o,null!==pt(o)&&function YC(s){const o=new Set;!function a(u){const h=pt(u,!0),m=h.id;null!==m&&(function WC(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(m,kd.get(m),u),kd.set(m,u));const y=wo(h.imports);for(const C of y)o.has(C)||(o.add(C),a(C))}(s)}(o)}create(o){return new ZC(this.moduleType,o)}}function ly(s,o,a,u){return function Fd(s,o,a,u,h,m){const y=o+a;return er(s,y,h)?function yr(s,o,a){return s[o]=a}(s,y+1,m?u.call(m,h):u(h)):function ef(s,o){const a=s[o];return a===yt?void 0:a}(s,y+1)}(Ae(),function ci(){const s=ht.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,a,u)}function my(s){return o=>{setTimeout(s,void 0,o)}}const $s=class nf extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,m,y;let C=o,E=a||(()=>null),I=u;if(o&&"object"==typeof o){const L=o;C=null===(h=L.next)||void 0===h?void 0:h.bind(L),E=null===(m=L.error)||void 0===m?void 0:m.bind(L),I=null===(y=L.complete)||void 0===y?void 0:y.bind(L)}this.__isAsync&&(E=my(E),C&&(C=my(C)),I&&(I=my(I)));const R=super.subscribe({next:C,error:E,complete:I});return o instanceof J.w0&&o.add(R),R}};function _y(){return this._results[ql()]()}class yy{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ql(),u=yy.prototype;u[a]||(u[a]=_y)}get changes(){return this._changes||(this._changes=new $s)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=Ei(o);(this._changesDetected=!function Xd(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],m=o[u];if(a&&(h=a(h),m=a(m)),m!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let cu=(()=>{class s{}return s.__NG_ELEMENT_ID__=vy,s})();const JC=cu,ew=class extends JC{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Sh(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(a)),Ih(a,u,o),new gg(u)}};function vy(){return vg(dn(),Ae())}function vg(s,o){return 4&s.type?new ew(o,s,ic(s,o)):null}let bg=(()=>{class s{}return s.__NG_ELEMENT_ID__=XD,s})();function XD(){return by(dn(),Ae())}const Cg=bg,wg=class extends Cg{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return ic(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){const o=xs(this._hostTNode,this._hostLView);if(Uo(o)){const a=Ds(o,this._hostLView),u=Es(o);return new bi(a[1].data[u+8],a)}return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Eg(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,m){const y=o&&!function Pa(s){return"function"==typeof s}(o);let C;if(y)C=a;else{const L=a||{};C=L.index,u=L.injector,h=L.projectableNodes,m=L.ngModuleRef}const E=y?o:new Jh(jt(o)),I=u||this.parentInjector;if(!m&&null==E.ngModule){const $=(y?I:this.parentInjector).get(il,null);$&&(m=$)}const R=E.create(I,h,void 0,m);return this.insert(R.hostView,C),R}insert(o,a){const u=o._lView,h=u[1];if(function Aa(s){return ur(s[3])}(u)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const L=u[3],$=new wg(L,L[6],L[3]);$.detach($.indexOf(o))}}const m=this._adjustIndex(a),y=this._lContainer;!function uh(s,o,a,u){const h=10+u,m=a.length;u>0&&(a[h-1][4]=o),u<m-10?(o[4]=a[h],Na(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function mm(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(h,u,y,m);const C=od(m,y),E=u[11],I=Ha(E,y[7]);return null!==I&&function go(s,o,a,u,h,m){u[0]=h,u[6]=o,yo(s,u,a,1,h,m)}(h,y[6],E,u,I,C),o.attachToViewContainerRef(),Na(rf(y),m,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Eg(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=mo(this._lContainer,a);u&&(xc(rf(this._lContainer),a),qf(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=mo(this._lContainer,a);return u&&null!=xc(rf(this._lContainer),a)?new gg(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Eg(s){return s[8]}function rf(s){return s[8]||(s[8]=[])}function by(s,o){let a;const u=o[s.index];if(ur(u))a=u;else{let h;if(8&s.type)h=Yt(u);else{const m=o[11];h=m.createComment("");const y=$n(s,o);_o(m,Ha(m,y),h,function Kf(s,o){return on(s)?s.nextSibling(o):o.nextSibling}(m,y),!1)}o[s.index]=a=pd(u,o,h,s),mr(o,a)}return new wg(a,s,o)}class Dg{constructor(o){this.queryList=o,this.matches=null}clone(){return new Dg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let m=0;m<u;m++){const y=a.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new Cy(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Sy(o,a).matches&&this.queries[a].setDirty()}}class nw{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class wy{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==a?a.push(m):a=[m])}return null!==a?new wy(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ey{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Ey(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,a,ex(a,m)),this.matchTNodeWithReadOption(o,a,Go(a,o,m,!1,!1))}else u===cu?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Go(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Od||h===bg||h===cu&&4&a.type)this.addMatch(a.index,-2);else{const m=Go(a,o,h,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function ex(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function nx(s,o,a,u){return-1===a?function tx(s,o){return 11&s.type?ic(s,o):4&s.type?vg(s,o):null}(o,s):-2===a?function ix(s,o,a){return a===Od?ic(o,s):a===cu?vg(o,s):a===bg?by(o,s):void 0}(s,o,u):Li(s,s[1],a,o)}function iw(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const m=s.data,y=a.matches,C=[];for(let E=0;E<y.length;E+=2){const I=y[E];C.push(I<0?null:nx(o,m[I],y[E+1],a.metadata.read))}h.matches=C}return h.matches}function Nd(s,o,a,u){const h=s.queries.getByIndex(a),m=h.matches;if(null!==m){const y=iw(s,o,h,a);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)u.push(y[C/2]);else{const I=m[C+1],R=o[-E];for(let L=10;L<R.length;L++){const $=R[L];$[17]===$[3]&&Nd($[1],$,I,u)}if(null!==R[9]){const L=R[9];for(let $=0;$<L.length;$++){const X=L[$];Nd(X[1],X,I,u)}}}}}return u}function Dy(s){const o=Ae(),a=Ft(),u=vl();Pu(u+1);const h=Sy(a,u);if(s.dirty&&Js(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Nd(a,o,u,[]):iw(a,o,h,u);s.reset(m,pg),s.notifyOnChanges()}return!0}return!1}function xy(s,o,a){const u=Ft();u.firstCreatePass&&(Ay(u,new nw(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),sw(u,Ae(),o)}function xg(s,o,a,u){const h=Ft();if(h.firstCreatePass){const m=dn();Ay(h,new nw(o,a,u),m.index),function ow(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}sw(h,Ae(),a)}function rw(){return function rx(s,o){return s[19].queries[o].queryList}(Ae(),vl())}function sw(s,o,a){const u=new yy(4==(4&a));qv(s,o,u,u.destroy),null===o[19]&&(o[19]=new Cy),o[19].queries.push(new Dg(u))}function Ay(s,o,a){null===s.queries&&(s.queries=new wy),s.queries.track(new Ey(o,a))}function Sy(s,o){return s.queries.getByIndex(o)}function Sg(...s){}const By=new _n("Application Initializer");let Vy=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Sg,this.reject=Sg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(A_(m))a.push(m);else if(S_(m)){const y=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(M(By,8))},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Dw=new _n("AppId",{providedIn:"root",factory:function Uy(){return`${Hy()}${Hy()}${Hy()}`}});function Hy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xw=new _n("Platform Initializer"),du=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Aw=new _n("appBootstrapListener");let Sw=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ig=new _n("LocaleId",{providedIn:"root",factory:()=>Q(Ig,ut.Optional|ut.SkipSelf)||function mx(){return"undefined"!=typeof $localize&&$localize.locale||sg}()}),hu=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class yx{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let vx=(()=>{class s{compileModuleSync(a){return new Gi(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),m=wo(pt(a).declarations).reduce((y,C)=>{const E=jt(C);return E&&y.push(new Jh(E)),y},[]);return new yx(u,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const rc=(()=>Promise.resolve(0))();function Mg(s){"undefined"==typeof Zone?rc.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ri{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $s(!1),this.onMicrotaskEmpty=new $s(!1),this.onStable=new $s(!1),this.onError=new $s(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ir(){let s=Bt.requestAnimationFrame,o=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Tw(s){const o=()=>{!function Iw(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Bt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Rg(s),s.isCheckStableRunning=!0,sl(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Rg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,m,y,C)=>{try{return jy(s),a.invokeTask(h,m,y,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),Gy(s)}},onInvoke:(a,u,h,m,y,C,E)=>{try{return jy(s),a.invoke(h,m,y,C,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),Gy(s)}},onHasTask:(a,u,h,m)=>{a.hasTask(h,m),u===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Rg(s),sl(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,u,h,m)=>(a.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ri.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ri.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,o,Cx,Sg,Sg);try{return m.runTask(y,a,u)}finally{m.cancelTask(y)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const Cx={};function sl(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Rg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function jy(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Gy(s){s._nesting--,sl(s)}class Mw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $s,this.onMicrotaskEmpty=new $s,this.onStable=new $s,this.onError=new $s}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let $y=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ri.assertNotInAngularZone(),Mg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mg(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(M(Ri))},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})(),Rw=(()=>{class s{constructor(){this._applications=new Map,kg.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return kg.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class Og{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function Ow(s){kg=s}let kg=new Og,sc=null;const zy=new _n("AllowMultipleToken"),kw=new _n("PlatformOnDestroy");class Pw{constructor(o,a){this.name=o,this.token=a}}function qy(s,o,a=[]){const u=`Platform: ${o}`,h=new _n(u);return(m=[])=>{let y=Bd();if(!y||y.injector.get(zy,!1)){const C=[...a,...m,{provide:h,useValue:!0}];s?s(C):function Yy(s){if(sc&&!sc.get(zy,!1))throw new Me(400,"");sc=s;const o=s.get(Zy),a=s.get(xw,null);a&&a.forEach(u=>u())}(function Lw(s=[],o){return jr.create({name:o,providers:[{provide:Ji,useValue:"platform"},{provide:kw,useValue:()=>sc=null},...s]})}(C,u))}return function Nw(s){const o=Bd();if(!o)throw new Me(401,"");return o}()}}function Bd(){var s;return null!==(s=null==sc?void 0:sc.get(Zy))&&void 0!==s?s:null}let Zy=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const C=function Vw(s,o){let a;return a="noop"===s?new Mw:("zone.js"===s?void 0:s)||new Ri({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:Ri,useValue:C}];return C.run(()=>{const I=jr.create({providers:E,parent:this.injector,name:a.moduleType.name}),R=a.create(I),L=R.injector.get(cp,null);if(!L)throw new Me(402,"");return C.runOutsideAngular(()=>{const $=C.onError.subscribe({next:X=>{L.handleError(X)}});R.onDestroy(()=>{Fg(this._modules,R),$.unsubscribe()})}),function Uw(s,o,a){try{const u=a();return A_(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(L,C,()=>{const $=R.injector.get(Vy);return $.runInitializers(),$.donePromise.then(()=>(function vC(s){It(s,"Expected localeId to be defined"),"string"==typeof s&&(q_=s.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Ig,sg)||sg),this._moduleDoBootstrap(R),R))})})}bootstrapModule(a,u=[]){const h=pa({},u);return function Fw(s,o,a){const u=new Gi(a);return Promise.resolve(u)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const u=a.injector.get($i);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Me(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(kw,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(M(jr))},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function pa(s,o){return Array.isArray(o)?o.reduce(pa,s):Object.assign(Object.assign({},s),o)}let $i=(()=>{class s{constructor(a,u,h,m){this._zone=a,this._injector=u,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),C=new P.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Ri.assertNotInAngularZone(),Mg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Ri.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),R.unsubscribe()}});this.isStable=(0,le.T)(y,C.pipe((0,ae.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Me(405,"");let h;h=a instanceof UC?a:this._injector.get(Xh).resolveComponentFactory(a),this.componentTypes.push(h.componentType);const m=function Wy(s){return s.isBoundToModule}(h)?void 0:this._injector.get(il),C=h.create(jr.NULL,[],u||h.selector,m),E=C.location.nativeElement,I=C.injector.get($y,null),R=I&&C.injector.get(Rw);return I&&R&&R.registerApplication(E,I),C.onDestroy(()=>{this.detachView(C.hostView),Fg(this.components,C),R&&R.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Fg(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Aw,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(M(Ri),M(jr),M(cp),M(Vy))},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fg(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Pg=!0,Ng=!1;function Ky(){return Ng=!0,Pg}function Lg(){if(Ng)throw new Error("Cannot enable prod mode after platform setup.");Pg=!1}let KS=(()=>{class s{}return s.__NG_ELEMENT_ID__=QS,s})();function QS(s){return function XS(s,o,a){if(Eu(s)&&!a){const u=Xn(s.index,o);return new gg(u,u)}return 47&s.type?new gg(o[16],o):null}(dn(),Ae(),16==(16&s))}class Gw{constructor(){}supports(o){return eu(o)}create(o){return new nI(o)}}const $w=(s,o)=>o;class nI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||$w}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,m=null;for(;a||u;){const y=!u||a&&a.currentIndex<Hg(u,h,m)?a:u,C=Hg(y,h,m),E=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{m||(m=[]);const I=C-h,R=E-h;if(I!=R){for(let $=0;$<I;$++){const X=$<m.length?m[$]:m[$]=0,_e=X+$;R<=_e&&_e<I&&(m[$]=X+1)}m[y.previousIndex]=R-I}}C!==E&&o(y,C,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!eu(o))throw new Me(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,y,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],y=this._trackByFn(C,m),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,m,y,C)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,y,C),u=!0),a=a._next}else h=0,function Fh(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[ql()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,C=>{y=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,C,y,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,m,h)):o=this._addAfter(new ev(a,u),m,h),o}_verifyReinsertion(o,a,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new tv),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class ev{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ix{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class tv{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new Ix,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hg(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class jg{constructor(){}supports(o){return o instanceof Map||Za(o)}create(){return new iI}}class iI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Za(o)))throw new Me(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const u=new nv(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class nv{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ud(){return new Hd([new Gw])}let Hd=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||Ud()),deps:[[s,new fn,new ot]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Me(901,"")}}return s.\u0275prov=$t({token:s,providedIn:"root",factory:Ud}),s})();function jd(){return new iv([new jg])}let iv=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||jd()),deps:[[s,new fn,new ot]]}}find(a){const u=this.factories.find(m=>m.supports(a));if(u)return u;throw new Me(901,"")}}return s.\u0275prov=$t({token:s,providedIn:"root",factory:jd}),s})();const Gg=qy(null,"core",[]);let sv=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(M($i))},s.\u0275mod=be({type:s}),s.\u0275inj=Lt({}),s})()},3942:(Ye,ye,F)=>{F.d(ye,{Z:()=>Me});var c=F(2090),J=F(4859),P=F(9681),le=F(1877);class ae{constructor(he,we){this._delegate=he,this.firebase=we,(0,P._addComponent)(he,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(he,we=P._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(he);return!ze.isInitialized()&&"EXPLICIT"===(null===(Ue=ze.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:we})}_removeServiceInstance(he,we=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(we)}_addComponent(he){(0,P._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,P._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function de(){const Ne=function ce(Ne){const he={},we={__esModule:!0,initializeApp:function Te(Le,z={}){const ve=P.initializeApp(Le,z);if((0,c.r3)(he,ve.name))return he[ve.name];const Y=new Ne(ve,we);return he[ve.name]=Y,Y},app:ze,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(Le){const z=Le.name,ve=z.replace("-compat","");if(P._registerComponent(Le)&&"PUBLIC"===Le.type){const Y=(se=ze())=>{if("function"!=typeof se[ve])throw ne.create("invalid-app-argument",{appName:z});return se[ve]()};void 0!==Le.serviceProps&&(0,c.ZB)(Y,Le.serviceProps),we[ve]=Y,Ne.prototype[ve]=function(...se){return this._getService.bind(this,z).apply(this,Le.multipleInstances?se:[])}}return"PUBLIC"===Le.type?we[ve]:null},removeApp:function Ue(Le){delete he[Le]},useAsService:function Pe(Le,z){return"serverAuth"===z?null:z},modularAPIs:P}};function ze(Le){if(!(0,c.r3)(he,Le=Le||P._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:Le});return he[Le]}return we.default=we,Object.defineProperty(we,"apps",{get:function ge(){return Object.keys(he).map(Le=>he[Le])}}),ze.App=Ne,we}(ae);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function he(we){(0,c.ZB)(Ne,we)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ne}(),G=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=j;!function xe(Ne){(0,P.registerVersion)("@firebase/app-compat","0.2.0",Ne)}()},9681:(Ye,ye,F)=>{F.r(ye),F.d(ye,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Er,_DEFAULT_ENTRY_NAME:()=>It,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>$t,_apps:()=>Wt,_clearComponents:()=>ki,_components:()=>ln,_getProvider:()=>Lt,_registerComponent:()=>fi,_removeServiceInstance:()=>Ot,deleteApp:()=>ut,getApp:()=>Fi,getApps:()=>ar,initializeApp:()=>zr,onLog:()=>Gn,registerVersion:()=>gn,setLogLevel:()=>hs});var c=F(5861),J=F(4859),P=F(1877),le=F(2090),ae=F(8766);class fe{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function ne(We){const Ee=We.getComponent();return"VERSION"===(null==Ee?void 0:Ee.type)}(He)){const vt=He.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(He=>He).join(" ")}}const ce="@firebase/app",j=new P.Yd("@firebase/app"),It="[DEFAULT]",Ge={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wt=new Map,ln=new Map;function Zt(We,Ee){try{We.container.addComponent(Ee)}catch(He){j.debug(`Component ${Ee.name} failed to register with FirebaseApp ${We.name}`,He)}}function $t(We,Ee){We.container.addOrOverwriteComponent(Ee)}function fi(We){const Ee=We.name;if(ln.has(Ee))return j.debug(`There were multiple attempts to register component ${Ee}.`),!1;ln.set(Ee,We);for(const He of Wt.values())Zt(He,We);return!0}function Lt(We,Ee){const He=We.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),We.container.getProvider(Ee)}function Ot(We,Ee,He=It){Lt(We,Ee).clearInstance(He)}function ki(){ln.clear()}const pi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gi{constructor(Ee,He,vt){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const Er="9.15.0";function zr(We,Ee={}){let He=We;"object"!=typeof Ee&&(Ee={name:Ee});const vt=Object.assign({name:It,automaticDataCollectionEnabled:!1},Ee),_t=vt.name;if("string"!=typeof _t||!_t)throw pi.create("bad-app-name",{appName:String(_t)});if(He||(He=(0,le.aH)()),!He)throw pi.create("no-options");const kt=Wt.get(_t);if(kt){if((0,le.vZ)(He,kt.options)&&(0,le.vZ)(vt,kt.config))return kt;throw pi.create("duplicate-app",{appName:_t})}const H=new J.H0(_t);for(const q of ln.values())H.addComponent(q);const U=new gi(He,vt,H);return Wt.set(_t,U),U}function Fi(We=It){const Ee=Wt.get(We);if(!Ee&&We===It)return zr();if(!Ee)throw pi.create("no-app",{appName:We});return Ee}function ar(){return Array.from(Wt.values())}function ut(We){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(We){const Ee=We.name;Wt.has(Ee)&&(Wt.delete(Ee),yield Promise.all(We.container.getProviders().map(He=>He.delete())),We.isDeleted=!0)})).apply(this,arguments)}function gn(We,Ee,He){var vt;let _t=null!==(vt=Ge[We])&&void 0!==vt?vt:We;He&&(_t+=`-${He}`);const kt=_t.match(/\s|\//),H=Ee.match(/\s|\//);if(kt||H){const U=[`Unable to register library "${_t}" with version "${Ee}":`];return kt&&U.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),kt&&H&&U.push("and"),H&&U.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void j.warn(U.join(" "))}fi(new J.wA(`${_t}-version`,()=>({library:_t,version:Ee}),"VERSION"))}function Gn(We,Ee){if(null!==We&&"function"!=typeof We)throw pi.create("invalid-log-argument");(0,P.Am)(We,Ee)}function hs(We){(0,P.Ub)(We)}const En="firebase-heartbeat-store";let Wi=null;function Ws(){return Wi||(Wi=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(We,Ee)=>{0===Ee&&We.createObjectStore(En)}}).catch(We=>{throw pi.create("idb-open",{originalErrorMessage:We.message})})),Wi}function tt(){return(tt=(0,c.Z)(function*(We){try{return(yield Ws()).transaction(En).objectStore(En).get(ri(We))}catch(Ee){if(Ee instanceof le.ZR)j.warn(Ee.message);else{const He=pi.create("idb-get",{originalErrorMessage:null==Ee?void 0:Ee.message});j.warn(He.message)}}})).apply(this,arguments)}function dt(We,Ee){return ii.apply(this,arguments)}function ii(){return(ii=(0,c.Z)(function*(We,Ee){try{const vt=(yield Ws()).transaction(En,"readwrite");return yield vt.objectStore(En).put(Ee,ri(We)),vt.done}catch(He){if(He instanceof le.ZR)j.warn(He.message);else{const vt=pi.create("idb-set",{originalErrorMessage:null==He?void 0:He.message});j.warn(vt.message)}}})).apply(this,arguments)}function ri(We){return`${We.name}!${We.options.appId}`}class si{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new Ys(He),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Ee=this;return(0,c.Z)(function*(){const vt=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=oi();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==_t&&!Ee._heartbeatsCache.heartbeats.some(kt=>kt.date===_t))return Ee._heartbeatsCache.heartbeats.push({date:_t,agent:vt}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(kt=>{const H=new Date(kt.date).valueOf();return Date.now()-H<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,c.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const He=oi(),{heartbeatsToSend:vt,unsentEntries:_t}=function st(We,Ee=1024){const He=[];let vt=We.slice();for(const _t of We){const kt=He.find(H=>H.agent===_t.agent);if(kt){if(kt.dates.push(_t.date),Mt(He)>Ee){kt.dates.pop();break}}else if(He.push({agent:_t.agent,dates:[_t.date]}),Mt(He)>Ee){He.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:He,unsentEntries:vt}}(Ee._heartbeatsCache.heartbeats),kt=(0,le.L)(JSON.stringify({version:2,heartbeats:vt}));return Ee._heartbeatsCache.lastSentHeartbeatDate=He,_t.length>0?(Ee._heartbeatsCache.heartbeats=_t,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),kt})()}}function oi(){return(new Date).toISOString().substring(0,10)}class Ys{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,c.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function Ut(We){return tt.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var He=this;return(0,c.Z)(function*(){var vt;if(yield He._canUseIndexedDBPromise){const kt=yield He.read();return dt(He.app,{lastSentHeartbeatDate:null!==(vt=Ee.lastSentHeartbeatDate)&&void 0!==vt?vt:kt.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var He=this;return(0,c.Z)(function*(){var vt;if(yield He._canUseIndexedDBPromise){const kt=yield He.read();return dt(He.app,{lastSentHeartbeatDate:null!==(vt=Ee.lastSentHeartbeatDate)&&void 0!==vt?vt:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...Ee.heartbeats]})}})()}}function Mt(We){return(0,le.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Wr(We){fi(new J.wA("platform-logger",Ee=>new fe(Ee),"PRIVATE")),fi(new J.wA("heartbeat",Ee=>new si(Ee),"PRIVATE")),gn(ce,"0.9.0",We),gn(ce,"0.9.0","esm2017"),gn("fire-js","")}("")},4859:(Ye,ye,F)=>{F.d(ye,{H0:()=>ce,wA:()=>P,zt:()=>ae});var c=F(5861),J=F(2090);class P{constructor(j,G,te){this.name=j,this.instanceFactory=G,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class ae{constructor(j,G){this.name=j,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const G=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(G)){const te=new J.BH;if(this.instancesDeferred.set(G,te),this.isInitialized(G)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:G});Fe&&te.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(G).promise}getImmediate(j){var G;const te=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Fe=null!==(G=null==j?void 0:j.optional)&&void 0!==G&&G;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(xe){if(Fe)return null;throw xe}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ne(de){return"EAGER"===de.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch(G){}for(const[G,te]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(G);try{const xe=this.getOrInitializeService({instanceIdentifier:Fe});te.resolve(xe)}catch(xe){}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,c.Z)(function*(){const G=Array.from(j.instances.values());yield Promise.all([...G.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...G.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:G={}}=j,te=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:te,options:G});for(const[xe,Me]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(xe)&&Me.resolve(Fe);return Fe}onInit(j,G){var te;const Fe=this.normalizeInstanceIdentifier(G),xe=null!==(te=this.onInitCallbacks.get(Fe))&&void 0!==te?te:new Set;xe.add(j),this.onInitCallbacks.set(Fe,xe);const Me=this.instances.get(Fe);return Me&&j(Me,Fe),()=>{xe.delete(j)}}invokeOnInitCallbacks(j,G){const te=this.onInitCallbacks.get(G);if(te)for(const Fe of te)try{Fe(j,G)}catch(xe){}}getOrInitializeService({instanceIdentifier:j,options:G={}}){let te=this.instances.get(j);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(de=j,de===le?void 0:de),options:G}),this.instances.set(j,te),this.instancesOptions.set(j,G),this.invokeOnInitCallbacks(te,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,te)}catch(Fe){}var de;return te||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const G=this.getProvider(j.name);if(G.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);G.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const G=new ae(j,this);return this.providers.set(j,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(Ye,ye,F)=>{F.d(ye,{Am:()=>de,Ub:()=>ce,Yd:()=>ne,in:()=>J});const c=[];var J=(()=>{return(j=J||(J={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",J;var j})();const P={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},le=J.INFO,ae={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},fe=(j,G,...te)=>{if(G<j.logLevel)return;const Fe=(new Date).toISOString(),xe=ae[G];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[xe](`[${Fe}]  ${j.name}:`,...te)};class ne{constructor(G){this.name=G,this._logLevel=le,this._logHandler=fe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in J))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...G),this._logHandler(this,J.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...G),this._logHandler(this,J.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,J.INFO,...G),this._logHandler(this,J.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,J.WARN,...G),this._logHandler(this,J.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...G),this._logHandler(this,J.ERROR,...G)}}function ce(j){c.forEach(G=>{G.setLogLevel(j)})}function de(j,G){for(const te of c){let Fe=null;G&&G.level&&(Fe=P[G.level]),te.userLogHandler=null===j?null:(xe,Me,...Ne)=>{const he=Ne.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Ue){return null}}).filter(we=>we).join(" ");Me>=(null!=Fe?Fe:xe.logLevel)&&j({level:J[Me].toLowerCase(),message:he,args:Ne,type:xe.name})}}}},259:(Ye,ye,F)=>{F.d(ye,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=F(9681);(0,c.registerVersion)("firebase","9.15.0","app")},9260:(Ye,ye,F)=>{F.d(ye,{Z:()=>c.Z});var c=F(3942);c.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(Ye,ye,F)=>{F.r(ye);var c=F(5861),J=F(3942),P=F(2090),le=F(9681),ae=F(1877),fe=F(655),ne=F(4859);const Me=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new ae.Yd("@firebase/auth");function ze(_,...f){Ue.logLevel<=ae.in.ERROR&&Ue.error(`Auth (${le.SDK_VERSION}): ${_}`,...f)}function Te(_,...f){throw Le(_,...f)}function ge(_,...f){return Le(_,...f)}function De(_,f,g){const b=Object.assign(Object.assign({},Ne()),{[f]:g});return new P.LL("auth","Firebase",b).create(f,{appName:_.name})}function Pe(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Te(_,"argument-error"),De(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return he.create(_,...f)}function z(_,f,...g){if(!_)throw Le(f,...g)}function ve(_){const f="INTERNAL ASSERTION FAILED: "+_;throw ze(f),new Error(f)}function Y(_,f){_||ve(f)}const se=new Map;function ee(_){Y(_ instanceof Function,"Expected a class definition");let f=se.get(_);return f?(Y(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,se.set(_,f),f)}function Re(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function nt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Wt{constructor(f,g){this.shortDelay=f,this.longDelay=g,Y(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function It(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ln(_,f){Y(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Zt{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fi=new Wt(3e4,6e4);function Lt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ot(_,f,g,b){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(_,f,g,b,S={}){return wr(_,S,(0,c.Z)(function*(){let k={},W={};b&&("GET"===f?W=b:k={body:JSON.stringify(b)});const pe=(0,P.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Oe=yield _._getAdditionalHeaders();return Oe["Content-Type"]="application/json",_.languageCode&&(Oe["X-Firebase-Locale"]=_.languageCode),Zt.fetch()(zr(_,_.config.apiHost,g,pe),Object.assign({method:f,headers:Oe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function wr(_,f,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,c.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},$t),f);try{const S=new Fi(_),k=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const W=yield k.json();if("needConfirmation"in W)throw ar(_,"account-exists-with-different-credential",W);if(k.ok&&!("errorMessage"in W))return W;{const pe=k.ok?W.errorMessage:W.error.message,[Oe,$e]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw ar(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Oe)throw ar(_,"email-already-in-use",W);if("USER_DISABLED"===Oe)throw ar(_,"user-disabled",W);const ct=b[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw De(_,ct,$e);Te(_,ct)}}catch(S){if(S instanceof P.ZR)throw S;Te(_,"network-request-failed")}})).apply(this,arguments)}function gi(_,f,g,b){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(_,f,g,b,S={}){const k=yield Ot(_,f,g,b,S);return"mfaPendingCredential"in k&&Te(_,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function zr(_,f,g,b){const S=`${f}${g}?${b}`;return _.config.emulator?ln(_.config,S):`${_.config.apiScheme}://${S}`}class Fi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ge(this.auth,"network-request-failed")),fi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=ge(_,f,b);return S.customData._tokenResponse=g,S}function mi(){return(mi=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function gn(_,f){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hs(_,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Nn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ws(){return(Ws=(0,c.Z)(function*(_,f=!1){const g=(0,P.m9)(_),b=yield g.getIdToken(f),S=tt(b);z(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,W=null==k?void 0:k.sign_in_provider;return{claims:S,token:b,authTime:Nn(Ut(S.auth_time)),issuedAtTime:Nn(Ut(S.iat)),expirationTime:Nn(Ut(S.exp)),signInProvider:W||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Ut(_){return 1e3*Number(_)}function tt(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(g);return S?JSON.parse(S):(ze("Failed to decode base64 JWT payload"),null)}catch(S){return ze("Caught error parsing JWT payload as JSON",null==S?void 0:S.toString()),null}}function ii(_,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof P.ZR&&Bt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Bt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class fs{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class si{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nn(this.lastLoginAt),this.creationTime=Nn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oi(_){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),S=yield ii(_,hs(g,{idToken:b}));z(null==S?void 0:S.users.length,g,"internal-error");const k=S.users[0];_._notifyReloadListener(k);const W=(null===(f=k.providerUserInfo)||void 0===f?void 0:f.length)?We(k.providerUserInfo):[],pe=Wr(_.providerData,W),ct=!!_.isAnonymous&&!(_.email&&k.passwordHash||(null==pe?void 0:pe.length)),at={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:pe,metadata:new si(k.createdAt,k.lastLoginAt),isAnonymous:ct};Object.assign(_,at)})).apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(_){const f=(0,P.m9)(_);yield oi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Wr(_,f){return[..._.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}function We(_){return _.map(f=>{var{providerId:g}=f,b=(0,fe._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function He(){return(He=(0,c.Z)(function*(_,f){const g=yield wr(_,{},(0,c.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:k}=_.config,W=zr(_,S,"/v1/token",`key=${k}`),pe=yield _._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(W,{method:"POST",headers:pe,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){z(f.idToken,"internal-error"),z(void 0!==f.idToken,"internal-error"),z(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function dt(_){const f=tt(_);return z(f,"internal-error"),z(void 0!==f.exp,"internal-error"),z(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,c.Z)(function*(){return z(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:W}=yield function Ee(_,f){return He.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(S,k,Number(W))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:S,expirationTime:k}=g,W=new vt;return b&&(z("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),S&&(z("string"==typeof S,"internal-error",{appName:f}),W.accessToken=S),k&&(z("number"==typeof k,"internal-error",{appName:f}),W.expirationTime=k),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return ve("not implemented")}}function _t(_,f){z("string"==typeof _||void 0===_,"internal-error",{appName:f})}class kt{constructor(f){var{uid:g,auth:b,stsTokenManager:S}=f,k=(0,fe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new si(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const b=yield ii(g,g.stsTokenManager.getToken(g.auth,f));return z(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Wi(_){return Ws.apply(this,arguments)}(this,f)}reload(){return function Ys(_){return Mt.apply(this,arguments)}(this)}_assign(f){this!==f&&(z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new kt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield oi(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield ii(f,function ut(_,f){return mi.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,S,k,W,pe,Oe,$e,ct;const at=null!==(b=g.displayName)&&void 0!==b?b:void 0,ei=null!==(S=g.email)&&void 0!==S?S:void 0,Hr=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Lc=null!==(W=g.photoURL)&&void 0!==W?W:void 0,ap=null!==(pe=g.tenantId)&&void 0!==pe?pe:void 0,Ch=null!==(Oe=g._redirectEventId)&&void 0!==Oe?Oe:void 0,di=null!==($e=g.createdAt)&&void 0!==$e?$e:void 0,wh=null!==(ct=g.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:$a,emailVerified:Bc,isAnonymous:jl,providerData:ia,stsTokenManager:In}=g;z($a&&In,f,"internal-error");const xm=vt.fromJSON(this.name,In);z("string"==typeof $a,f,"internal-error"),_t(at,f.name),_t(ei,f.name),z("boolean"==typeof Bc,f,"internal-error"),z("boolean"==typeof jl,f,"internal-error"),_t(Hr,f.name),_t(Lc,f.name),_t(ap,f.name),_t(Ch,f.name),_t(di,f.name),_t(wh,f.name);const dd=new kt({uid:$a,auth:f,email:ei,emailVerified:Bc,displayName:at,isAnonymous:jl,photoURL:Lc,phoneNumber:Hr,tenantId:ap,stsTokenManager:xm,createdAt:di,lastLoginAt:wh});return ia&&Array.isArray(ia)&&(dd.providerData=ia.map(Eh=>Object.assign({},Eh))),Ch&&(dd._redirectEventId=Ch),dd}static _fromIdTokenResponse(f,g,b=!1){return(0,c.Z)(function*(){const S=new vt;S.updateFromServerResponse(g);const k=new kt({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield oi(k),k})()}}const U=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,c.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,c.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function q(_,f,g){return`firebase:${_}:${f}:${g}`}class be{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:S,name:k}=this.auth;this.fullUserKey=q(this.userKey,S.apiKey,k),this.fullPersistenceKey=q("persistence",S.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?kt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,c.Z)(function*(){if(!g.length)return new be(ee(U),f,b);const S=(yield Promise.all(g.map(function(){var $e=(0,c.Z)(function*(ct){if(yield ct._isAvailable())return ct});return function(ct){return $e.apply(this,arguments)}}()))).filter($e=>$e);let k=S[0]||ee(U);const W=q(b,f.config.apiKey,f.name);let pe=null;for(const $e of g)try{const ct=yield $e._get(W);if(ct){const at=kt._fromJSON(f,ct);$e!==k&&(pe=at),k=$e;break}}catch(ct){}const Oe=S.filter($e=>$e._shouldAllowMigration);return k._shouldAllowMigration&&Oe.length?(k=Oe[0],pe&&(yield k._set(W,pe.toJSON())),yield Promise.all(g.map(function(){var $e=(0,c.Z)(function*(ct){if(ct!==k)try{yield ct._remove(W)}catch(at){}});return function(ct){return $e.apply(this,arguments)}}())),new be(k,f,b)):new be(k,f,b)})()}}function oe(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(jt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(qe(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ln(f))return"Blackberry";if(pt(f))return"Webos";if(Ct(f))return"Safari";if((f.includes("chrome/")||Xt(f))&&!f.includes("edge/"))return"Chrome";if(Kt(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function qe(_=(0,P.z$)()){return/firefox\//i.test(_)}function Ct(_=(0,P.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Xt(_=(0,P.z$)()){return/crios\//i.test(_)}function jt(_=(0,P.z$)()){return/iemobile/i.test(_)}function Kt(_=(0,P.z$)()){return/android/i.test(_)}function Ln(_=(0,P.z$)()){return/blackberry/i.test(_)}function pt(_=(0,P.z$)()){return/webos/i.test(_)}function un(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ps(_=(0,P.z$)()){return un(_)||Kt(_)||pt(_)||Ln(_)||/windows phone/i.test(_)||jt(_)}function To(_,f=[]){let g;switch(_){case"Browser":g=oe((0,P.z$)());break;case"Worker":g=`${oe((0,P.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class Pi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const b=k=>new Promise((W,pe)=>{try{W(f(k))}catch(Oe){pe(Oe)}});b.onAbort=g,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===f)return;const b=[];try{for(const S of g.queue)yield S(f),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const k of b)try{k()}catch(W){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==S?void 0:S.message})}})()}}class je{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jt(this),this.idTokenSubscription=new Jt(this),this.beforeStateQueue=new Pi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=ee(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,k;if(!b._deleted&&(b.persistenceManager=yield be.create(b,f),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var b;const S=yield g.assertedPersistence.getCurrentUser();let k=S,W=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const pe=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Oe=null==k?void 0:k._redirectEventId,$e=yield g.tryRedirectSignIn(f);(!pe||pe===Oe)&&(null==$e?void 0:$e.user)&&(k=$e.user,W=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(W)try{yield g.beforeStateQueue.runMiddleware(k)}catch(pe){k=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(pe))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return z(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield oi(f)}catch(b){if("auth/network-request-failed"!==(null==b?void 0:b.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ge(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const b=f?(0,P.m9)(f):null;return b&&z(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f,g=!1){var b=this;return(0,c.Z)(function*(){if(!b._deleted)return f&&z(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,c.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,c.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&ee(f)||g._popupRedirectResolver;z(b,g,"argument-error"),g.redirectPersistenceManager=yield be.create(g,[ee(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,S){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return z(W,this,"internal-error"),W.then(()=>k(this.currentUser)),"function"==typeof g?f.addObserver(g,b,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=To(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function rt(_){return(0,P.m9)(_)}class Jt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Ar(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class lr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,g){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function Dn(_,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:resetPassword",Lt(_,f))})).apply(this,arguments)}function ba(_,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function al(_,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:update",Lt(_,f))})).apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(_,f){return gi(_,"POST","/v1/accounts:signInWithPassword",Lt(_,f))})).apply(this,arguments)}function ms(_,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:sendOobCode",Lt(_,f))})).apply(this,arguments)}function sn(_,f){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(_,f){return ms(_,f)})).apply(this,arguments)}function Ca(_,f){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(_,f){return ms(_,f)})).apply(this,arguments)}function ur(_,f){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(_,f){return ms(_,f)})).apply(this,arguments)}function Eu(_,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(_,f){return ms(_,f)})).apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(_,f){return gi(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,f))})).apply(this,arguments)}function Du(){return(Du=(0,c.Z)(function*(_,f){return gi(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,f))})).apply(this,arguments)}class ai extends lr{constructor(f,g,b,S=null){super("password",b),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new ai(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new ai(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function On(_,f){return Zs.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ir(_,f){return wa.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,c.Z)(function*(){switch(b.signInMethod){case"password":return ba(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function If(_,f){return Du.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _s(_,f){return xu.apply(this,arguments)}function xu(){return(xu=(0,c.Z)(function*(_,f){return gi(_,"POST","/v1/accounts:signInWithIdp",Lt(_,f))})).apply(this,arguments)}class qr extends lr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new qr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=g,k=(0,fe._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const W=new qr(b,S);return W.idToken=k.idToken||void 0,W.accessToken=k.accessToken||void 0,W.secret=k.secret,W.nonce=k.nonce,W.pendingToken=k.pendingToken||null,W}_getIdTokenResponse(f){return _s(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,_s(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_s(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,P.xO)(g)}return f}}function Mf(_,f){return Au.apply(this,arguments)}function Au(){return(Au=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:sendVerificationCode",Lt(_,f))})).apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(_,f){return gi(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,f))})).apply(this,arguments)}function Su(){return(Su=(0,c.Z)(function*(_,f){const g=yield gi(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,f));if(g.temporaryProof)throw ar(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Of={USER_NOT_FOUND:"user-not-found"};function Iu(){return(Iu=(0,c.Z)(function*(_,f){return gi(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Of)})).apply(this,arguments)}class Mo extends lr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Mo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Mo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function cc(_,f){return ys.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Rf(_,f){return Su.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function kf(_,f){return Iu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:k}=f;return b||g||S||k?new Mo({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:k}):null}}class ul{constructor(f){var g,b,S,k,W,pe;const Oe=(0,P.zd)((0,P.pd)(f)),$e=null!==(g=Oe.apiKey)&&void 0!==g?g:null,ct=null!==(b=Oe.oobCode)&&void 0!==b?b:null,at=function Yd(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Oe.mode)&&void 0!==S?S:null);z($e&&ct&&at,"argument-error"),this.apiKey=$e,this.operation=at,this.code=ct,this.continueUrl=null!==(k=Oe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(W=Oe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(pe=Oe.tenantId)&&void 0!==pe?pe:null}static parseLink(f){const g=function Ea(_){const f=(0,P.zd)((0,P.pd)(_)).link,g=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||g||f||_}(f);try{return new ul(g)}catch(b){return null}}}let Mu=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return ai._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=ul.parseLink(b);return z(S,"argument-error"),ai._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class li{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ks extends li{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Tr extends Ks{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return z("providerId"in g&&"signInMethod"in g,"argument-error"),qr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return z(f.idToken||f.accessToken,"argument-error"),qr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Tr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Tr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:k,nonce:W,providerId:pe}=f;if(!b&&!S&&!g&&!k||!pe)return null;try{return new Tr(pe)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:k})}catch(Oe){return null}}}let Ro=(()=>{class _ extends Ks{constructor(){super("facebook.com")}static credential(g){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ru=(()=>{class _ extends Ks{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch(k){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),qd=(()=>{class _ extends Ks{constructor(){super("github.com")}static credential(g){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Qs extends lr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return _s(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,_s(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_s(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:k}=g;return b&&S&&k&&b===S?new Qs(b,k):null}static _create(f,g){return new Qs(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vi extends li{constructor(f){z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return vi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return vi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Qs.fromJSON(f);return z(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return Qs._create(b,g)}catch(S){return null}}}let Ou=(()=>{class _ extends Ks{constructor(){super("twitter.com")}static credential(g,b){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch(k){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function vn(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(_,f){return gi(_,"POST","/v1/accounts:signUp",Lt(_,f))})).apply(this,arguments)}class Yi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,S=!1){return(0,c.Z)(function*(){const k=yield kt._fromIdTokenResponse(f,b,S),W=uc(b);return new Yi({user:k,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=uc(b);return new Yi({user:f,providerId:S,_tokenResponse:b,operationType:g})})()}}function uc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function dc(){return(dc=(0,c.Z)(function*(_){var f;const g=rt(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Yi({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield vn(g,{returnSecureToken:!0}),S=yield Yi._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class ko extends P.ZR{constructor(f,g,b,S){var k;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,ko.prototype),this.customData={appName:f.name,tenantId:null!==(k=f.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,S){return new ko(f,g,b,S)}}function hc(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?ko._fromErrorAndOperation(_,k,f,b):k})}function Mr(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function on(){return(on=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_);yield Yt(!0,g,f);const{providerUserInfo:b}=yield gn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=Mr(b||[]);return g.providerData=g.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Da(_,f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,c.Z)(function*(_,f,g=!1){const b=yield ii(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Yi._forOperation(_,"link",b)})).apply(this,arguments)}function Yt(_,f,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(_,f,g){yield oi(f);const S=!1===_?"provider-already-linked":"no-such-provider";z(Mr(f.providerData).has(g)===_,f.auth,S)})).apply(this,arguments)}function dl(_,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(_,f,g=!1){const{auth:b}=_,S="reauthenticate";try{const k=yield ii(_,hc(b,S,f,_),g);z(k.idToken,b,"internal-error");const W=tt(k.idToken);z(W,b,"internal-error");const{sub:pe}=W;return z(_.uid===pe,b,"user-mismatch"),Yi._forOperation(_,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Te(b,"user-mismatch"),k}})).apply(this,arguments)}function $n(_,f){return fc.apply(this,arguments)}function fc(){return(fc=(0,c.Z)(function*(_,f,g=!1){const b="signIn",S=yield hc(_,b,f),k=yield Yi._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(k.user)),k})).apply(this,arguments)}function mn(_,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,c.Z)(function*(_,f){return $n(rt(_),f)})).apply(this,arguments)}function Xn(_,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_);return yield Yt(!1,g,f.providerId),Da(g,f)})).apply(this,arguments)}function Zr(_,f){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(_,f){return dl((0,P.m9)(_),f)})).apply(this,arguments)}function hr(_,f){return Or.apply(this,arguments)}function Or(){return(Or=(0,c.Z)(function*(_,f){return gi(_,"POST","/v1/accounts:signInWithCustomToken",Lt(_,f))})).apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(_,f){const g=rt(_),b=yield hr(g,{token:f,returnSecureToken:!0}),S=yield Yi._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Cs{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?pc._fromServerResponse(f,g):Te(f,"internal-error")}}class pc extends Cs{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new pc(g)}}function Sa(_,f,g){var b;z((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),z(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(z(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(z(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function hl(){return(hl=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),S={requestType:"PASSWORD_RESET",email:f};g&&Sa(b,S,g),yield Ca(b,S)})).apply(this,arguments)}function mc(){return(mc=(0,c.Z)(function*(_,f,g){yield Dn((0,P.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(_,f){yield al((0,P.m9)(_),{oobCode:f})})).apply(this,arguments)}function Ft(_,f){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_),b=yield Dn(g,{oobCode:f}),S=b.requestType;switch(z(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(b.mfaInfo,g,"internal-error");default:z(b.email,g,"internal-error")}let k=null;return b.mfaInfo&&(k=Cs._fromServerResponse(rt(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function pl(){return(pl=(0,c.Z)(function*(_,f){const{data:g}=yield Ft((0,P.m9)(_),f);return g.email})).apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(_,f,g){const b=rt(_),S=yield vn(b,{returnSecureToken:!0,email:f,password:g}),k=yield Yi._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function vc(){return(vc=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),S={requestType:"EMAIL_SIGNIN",email:f};z(g.handleCodeInApp,b,"argument-error"),g&&Sa(b,S,g),yield ur(b,S)})).apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),S=Mu.credentialWithLink(f,g||Re());return z(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),mn(b,S)})).apply(this,arguments)}function ci(_,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:createAuthUri",Lt(_,f))})).apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(_,f){const b={identifier:f,continueUri:nt()?Re():"http://localhost"},{signinMethods:S}=yield ci((0,P.m9)(_),b);return S||[]})).apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(_,f){const g=(0,P.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Sa(g.auth,S,f);const{email:k}=yield sn(g.auth,S);k!==_.email&&(yield _.reload())})).apply(this,arguments)}function _l(){return(_l=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Sa(b.auth,k,g);const{email:W}=yield Eu(b.auth,k);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function Cc(_,f){return No.apply(this,arguments)}function No(){return(No=(0,c.Z)(function*(_,f){return Ot(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,P.m9)(_),k={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},W=yield ii(b,Cc(b.auth,k));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const pe=b.providerData.find(({providerId:Oe})=>"password"===Oe);pe&&(pe.displayName=b.displayName,pe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function bl(_,f,g){return no.apply(this,arguments)}function no(){return(no=(0,c.Z)(function*(_,f,g){const{auth:b}=_,k={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(k.email=f),g&&(k.password=g);const W=yield ii(_,ba(b,k));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Lo{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class Bu extends Lo{constructor(f,g,b,S){super(f,g,b),this.username=S}}class Cl extends Lo{constructor(f,g){super(f,"facebook.com",g)}}class Ni extends Bu{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Kd extends Lo{constructor(f,g){super(f,"google.com",g)}}class wc extends Bu{constructor(f,g,b){super(f,"twitter.com",g,b)}}function zn(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Lu(_){var f,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},k=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const W=null===(g=null===(f=tt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Lo(k,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new Cl(k,S);case"github.com":return new Ni(k,S);case"google.com":return new Kd(k,S);case"twitter.com":return new wc(k,S,_.screenName||null);case"custom":case"anonymous":return new Lo(k,null);default:return new Lo(k,b,S)}}(g)}class Qr{constructor(f,g,b){this.type=f,this.credential=g,this.auth=b}static _fromIdtoken(f,g){return new Qr("enroll",f,g)}static _fromMfaPendingCredential(f){return new Qr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Qr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return Qr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ro{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=rt(f),S=g.customData._serverResponse,k=(S.mfaInfo||[]).map(pe=>Cs._fromServerResponse(b,pe));z(S.mfaPendingCredential,b,"internal-error");const W=Qr._fromMfaPendingCredential(S.mfaPendingCredential);return new ro(W,k,function(){var pe=(0,c.Z)(function*(Oe){const $e=yield Oe._process(b,W);delete S.mfaInfo,delete S.mfaPendingCredential;const ct=Object.assign(Object.assign({},S),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(g.operationType){case"signIn":const at=yield Yi._fromIdTokenResponse(b,g.operationType,ct);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return z(g.user,b,"internal-error"),Yi._forOperation(g.user,g.operationType,ct);default:Te(b,"internal-error")}});return function(Oe){return pe.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function Hu(_,f){return Ot(_,"POST","/v2/accounts/mfaEnrollment:start",Lt(_,f))}class Bo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>Cs._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Bo(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Qr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var b=this;return(0,c.Z)(function*(){const S=f,k=yield b.getSession(),W=yield ii(b.user,S._process(b.user.auth,k,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),k=yield ii(g.user,function so(_,f){return Ot(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(_,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==(null==W?void 0:W.code))throw W}})()}}const wl=new WeakMap,kr="__sak";class Ta{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(kr,"1"),this.storage.removeItem(kr),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const St=(()=>{class _ extends Ta{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Lf(){const _=(0,P.z$)();return Ct(_)||un(_)}()&&function Qn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ps(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),k=this.localCache[b];S!==k&&g(b,k,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((pe,Oe,$e)=>{this.notifyListeners(pe,$e)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(S);if(g.newValue!==pe)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const k=()=>{const pe=this.storage.getItem(S);!b&&this.localCache[S]===pe||this.notifyListeners(S,pe)},W=this.storage.getItem(S);!function va(){return(0,P.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,k=this;return(0,c.Z)(function*(){yield S().call(k,g,b),k.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,c.Z)(function*(){const k=yield b().call(S,g);return S.localCache[g]=JSON.stringify(k),k})()}_remove(g){var b=()=>super._remove,S=this;return(0,c.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),cn=(()=>{class _ extends Ta{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let Gu=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(k=>k.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,c.Z)(function*(){const S=g,{eventId:k,eventType:W,data:pe}=S.data,Oe=b.handlersMap[W];if(!(null==Oe?void 0:Oe.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:W});const $e=Array.from(Oe).map(function(){var at=(0,c.Z)(function*(ei){return ei(S.origin,pe)});return function(ei){return at.apply(this,arguments)}}()),ct=yield function Ma(_){return Promise.all(_.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}($e);S.ports[0].postMessage({status:"done",eventId:k,eventType:W,response:ct})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Uo(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class Es{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var S=this;return(0,c.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let W,pe;return new Promise((Oe,$e)=>{const ct=Uo("",20);k.port1.start();const at=setTimeout(()=>{$e(new Error("unsupported_event"))},b);pe={messageChannel:k,onMessage(ei){const Hr=ei;if(Hr.data.eventId===ct)switch(Hr.data.status){case"ack":clearTimeout(at),W=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Oe(Hr.data.response);break;default:clearTimeout(at),clearTimeout(W),$e(new Error("invalid_response"))}}},S.handlers.add(pe),k.port1.addEventListener("message",pe.onMessage),S.target.postMessage({eventType:f,eventId:ct,data:g},[k.port2])}).finally(()=>{pe&&S.removeMessageHandler(pe)})})()}}function xn(){return window}function pr(){return void 0!==xn().WorkerGlobalScope&&"function"==typeof xn().importScripts}function $u(){return($u=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Ra="firebaseLocalStorageDb",Fr="firebaseLocalStorage",oo="fbase_key";class Xr{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function xs(_,f){return _.transaction([Fr],f?"readwrite":"readonly").objectStore(Fr)}function Ho(){const _=indexedDB.open(Ra,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Fr,{keyPath:oo})}catch(S){g(S)}}),_.addEventListener("success",(0,c.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Fr)?f(b):(b.close(),yield function Yn(){const _=indexedDB.deleteDatabase(Ra);return new Xr(_).toPromise()}(),f(yield Ho()))}))})}function Oa(_,f,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(_,f,g){const b=xs(_,!0).put({[oo]:f,value:g});return new Xr(b).toPromise()})).apply(this,arguments)}function jo(){return(jo=(0,c.Z)(function*(_,f){const g=xs(_,!1).get(f),b=yield new Xr(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ka(_,f){const g=xs(_,!0).delete(f);return new Xr(g).toPromise()}const Pr=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Ho()),g.db})()}_withRetries(g){var b=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const k=yield b._openDb();return yield g(k)}catch(k){if(S++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return pr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Gu._getInstance(function El(){return pr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,c.Z)(function*(S,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(S,k){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,c.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function Et(){return $u.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Es(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,c.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function zu(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ho();return yield Oa(g,kr,"1"),yield ka(g,kr),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,c.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(k=>Oa(k,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,c.Z)(function*(){const S=yield b._withRetries(k=>function lo(_,f){return jo.apply(this,arguments)}(k,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,c.Z)(function*(){return b._withPendingWrite((0,c.Z)(function*(){return yield b._withRetries(S=>ka(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const b=yield g._withRetries(W=>{const pe=xs(W,!1).getAll();return new Xr(pe).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:W,value:pe}of b)k.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(pe)&&(g.notifyListeners(W,pe),S.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!k.has(W)&&(g.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function wn(_,f){return Ot(_,"POST","/v2/accounts/mfaSignIn:start",Lt(_,f))}function An(){return(An=(0,c.Z)(function*(_){return(yield Ot(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gr(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=S=>{const k=ge("internal-error");k.customData=S,g(k)},b.type="text/javascript",b.charset="UTF-8",function Ci(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function As(_){return`__${_}${Math.floor(1e6*Math.random())}`}const wi=1e12;class Un{constructor(f){this.auth=f,this.counter=wi,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Lr(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||wi;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||wi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var b;return null===(b=g._widgets.get(f||wi))||void 0===b||b.execute(),""})()}}class Lr{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;z(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wu(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dc=As("rcb"),_n=new Wt(3e4,6e4);class qu{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=xn().grecaptcha)||void 0===f?void 0:f.render)}load(f,g=""){return z(function Fa(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(xn().grecaptcha):new Promise((b,S)=>{const k=xn().setTimeout(()=>{S(ge(f,"network-request-failed"))},_n.get());xn()[Dc]=()=>{xn().clearTimeout(k),delete xn()[Dc];const pe=xn().grecaptcha;if(!pe)return void S(ge(f,"internal-error"));const Oe=pe.render;pe.render=($e,ct)=>{const at=Oe($e,ct);return this.counter++,at},this.hostLanguage=g,b(pe)},gr(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Dc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),S(ge(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!!(null===(g=xn().grecaptcha)||void 0===g?void 0:g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ki{load(f){return(0,c.Z)(function*(){return new Un(f)})()}clearedOneInstance(){}}const Bf="recaptcha",co={theme:"light",type:"image"};class Qd{constructor(f,g=Object.assign({},co),b){this.parameters=g,this.type=Bf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rt(b),this.isInvisible="invisible"===this.parameters.size,z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;z(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ki:new qu,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(k=>{const W=pe=>{!pe||(f.tokenChangeListeners.delete(W),k(pe))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=xn()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){z(nt()&&!pr(),f.auth,"internal-error"),yield function es(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function bi(_){return An.apply(this,arguments)}(f.auth);z(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zu{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Mo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function $o(){return($o=(0,c.Z)(function*(_,f,g){const b=rt(_),S=yield Di(b,f,(0,P.m9)(g));return new Zu(S,k=>mn(b,k))})).apply(this,arguments)}function Ku(){return(Ku=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);yield Yt(!1,b,"phone");const S=yield Di(b.auth,f,(0,P.m9)(g));return new Zu(S,k=>Xn(b,k))})).apply(this,arguments)}function Ei(){return(Ei=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_),S=yield Di(b.auth,f,(0,P.m9)(g));return new Zu(S,k=>Zr(b,k))})).apply(this,arguments)}function Di(_,f,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(_,f,g){var b;const S=yield g.verify();try{let k;if(z("string"==typeof S,_,"argument-error"),z(g.type===Bf,_,"argument-error"),k="string"==typeof f?{phoneNumber:f}:f,"session"in k){const W=k.session;if("phoneNumber"in k)return z("enroll"===W.type,_,"internal-error"),(yield Hu(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{z("signin"===W.type,_,"internal-error");const pe=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return z(pe,_,"missing-multi-factor-info"),(yield wn(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Mf(_,{phoneNumber:k.phoneNumber,recaptchaToken:S});return W}}finally{g._reset()}})).apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(_,f){yield Da((0,P.m9)(_),f)})).apply(this,arguments)}let zo=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=rt(g)}verifyPhoneNumber(g,b){return Di(this.auth,g,(0,P.m9)(b))}static credential(g,b){return Mo._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?Mo._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ho(_,f){return f?ee(f):(z(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Dl extends lr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _s(f,this._buildIdpRequest())}_linkToIdToken(f,g){return _s(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return _s(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Rt(_){return $n(_.auth,new Dl(_),_.bypassAuthState)}function Qu(_){const{auth:f,user:g}=_;return z(g,f,"internal-error"),dl(g,new Dl(_),_.bypassAuthState)}function ts(_){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(_){const{auth:f,user:g}=_;return z(g,f,"internal-error"),Da(g,new Dl(_),_.bypassAuthState)})).apply(this,arguments)}class Ss{constructor(f,g,b,S,k=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(k){f.reject(k)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:k,tenantId:W,error:pe,type:Oe}=f;if(pe)return void g.reject(pe);const $e={auth:g.auth,requestUri:b,sessionId:S,tenantId:W||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Oe)($e))}catch(ct){g.reject(ct)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Rt;case"linkViaPopup":case"linkViaRedirect":return ts;case"reauthViaPopup":case"reauthViaRedirect":return Qu;default:Te(this.auth,"internal-error")}}resolve(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Is=new Wt(2e3,1e4);function Wo(){return(Wo=(0,c.Z)(function*(_,f,g){const b=rt(_);Pe(_,f,li);const S=ho(b,g);return new Ju(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);Pe(b.auth,f,li);const S=ho(b.auth,g);return new Ju(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function xl(){return(xl=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);Pe(b.auth,f,li);const S=ho(b.auth,g);return new Ju(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let Ju=(()=>{class _ extends Ss{constructor(g,b,S,k,W){super(g,b,k,W),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const b=yield g.execute();return z(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,c.Z)(function*(){Y(1===g.filter.length,"Popup operations only handle one event");const b=Uo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ge(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Is.get())};g()}}return _.currentPopupAction=null,_})();const qn=new Map;class Al extends Ss{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let b=qn.get(g.auth._key());if(!b){try{const k=(yield function Vf(_,f){return xi.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(k)}catch(S){b=()=>Promise.reject(S)}qn.set(g.auth._key(),b)}return g.bypassAuthState||qn.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function xi(){return(xi=(0,c.Z)(function*(_,f){const g=Il(f),b=Sl(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function Yo(_,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(_,f){return Sl(_)._set(Il(f),"true")})).apply(this,arguments)}function ed(_,f){qn.set(_._key(),f)}function Sl(_){return ee(_._redirectPersistence)}function Il(_){return q("pendingRedirect",_.config.apiKey,_.name)}function w(){return(w=(0,c.Z)(function*(_,f,g){const b=rt(_);Pe(_,f,li);const S=ho(b,g);return yield Yo(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function B(){return(B=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);Pe(b.auth,f,li);const S=ho(b.auth,g);yield Yo(S,b.auth);const k=yield ot(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",k)})).apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(_,f,g){const b=(0,P.m9)(_);Pe(b.auth,f,li);const S=ho(b.auth,g);yield Yt(!1,b,f.providerId),yield Yo(S,b.auth);const k=yield ot(b);return S._openRedirect(b.auth,f,"linkViaRedirect",k)})).apply(this,arguments)}function Xe(){return(Xe=(0,c.Z)(function*(_,f){return yield rt(_)._initializationPromise,et(_,f,!1)})).apply(this,arguments)}function et(_,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(_,f,g=!1){const b=rt(_),S=ho(b,f),W=yield new Al(b,S,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function ot(_){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(_){const f=Uo(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ts{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ai(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return is(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!is(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ge(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qo(f))}saveEventToCache(f){this.cachedEventUids.add(qo(f)),this.lastProcessedEventTime=Date.now()}}function qo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function is({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Vr(_){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,c.Z)(function*(_,f={}){return Ot(_,"GET","/v1/projects",f)})).apply(this,arguments)}const td=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rl=/^https?/;function th(){return(th=(0,c.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Vr(_);for(const g of f)try{if(Iv(g))return}catch(b){}Te(_,"unauthorized-domain")})).apply(this,arguments)}function Iv(_){const f=Re(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!Rl.test(g))return!1;if(td.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Uf=new Wt(3e4,6e4);function nh(){const _=xn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ol=null;function fo(_){return Ol=Ol||function Hf(_){return new Promise((f,g)=>{var b,S,k;function W(){nh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{nh(),g(ge(_,"network-request-failed"))},timeout:Uf.get()})}if(null===(S=null===(b=xn().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(k=xn().gapi)||void 0===k?void 0:k.load)){const pe=As("iframefcb");return xn()[pe]=()=>{gapi.load?W():g(ge(_,"network-request-failed"))},gr(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Oe=>g(Oe))}W()}}).catch(f=>{throw Ol=null,f})}(_),Ol}const kl=new Wt(5e3,15e3),Ms={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gf(_){const f=_.config;z(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?ln(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:le.SDK_VERSION},S=Zo.get(_.config.apiHost);S&&(b.eid=S);const k=_._getFrameworks();return k.length&&(b.fw=k.join(",")),`${g}?${(0,P.xO)(b).slice(1)}`}function La(){return La=(0,c.Z)(function*(_){const f=yield fo(_),g=xn().gapi;return z(g,_,"internal-error"),f.open({where:document.body,url:Gf(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ms,dontclear:!0},b=>new Promise(function(){var S=(0,c.Z)(function*(k,W){yield b.restyle({setHideOnLeave:!1});const pe=ge(_,"network-request-failed"),Oe=xn().setTimeout(()=>{W(pe)},kl.get());function $e(){xn().clearTimeout(Oe),k(b)}b.ping($e).then($e,()=>{W(pe)})});return function(k,W){return S.apply(this,arguments)}}()))}),La.apply(this,arguments)}const Si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Pl(_,f,g,b,S,k){z(_.config.authDomain,_,"auth-domain-config-required"),z(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:S};if(f instanceof li){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Oe,$e]of Object.entries(k||{}))W[Oe]=$e}if(f instanceof Ks){const Oe=f.getScopes().filter($e=>""!==$e);Oe.length>0&&(W.scopes=Oe.join(","))}_.tenantId&&(W.tid=_.tenantId);const pe=W;for(const Oe of Object.keys(pe))void 0===pe[Oe]&&delete pe[Oe];return`${function Nl({config:_}){return _.emulator?ln(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,P.xO)(pe).slice(1)}`}const Tc="webStorageSupport";class Va extends class dm{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Va(f)}_finalizeEnroll(f,g,b){return function Nf(_,f){return Ot(_,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Ec(_,f){return Ot(_,"POST","/v2/accounts/mfaSignIn:finalize",Lt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oh=(()=>{class _{constructor(){}static assertion(g){return Va._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var zf="@firebase/auth";class Ll{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{f((null==b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function po(){return window}function Ur(){return(Ur=(0,c.Z)(function*(_,f,g){var b;const{BuildInfo:S}=po();Y(f.sessionId,"AuthEvent did not contain a session ID");const k=yield Bl(f.sessionId),W={};return un()?W.ibi=S.packageName:Kt()?W.apn=S.packageName:Te(_,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=k,Pl(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(_){const{BuildInfo:f}=po(),g={};un()?g.iosBundleId=f.packageName:Kt()?g.androidPackageName=f.packageName:Te(_,"operation-not-supported-in-this-environment"),yield Vr(_,g)})).apply(this,arguments)}function uh(){return(uh=(0,c.Z)(function*(_,f,g){const{cordova:b}=po();let S=()=>{};try{yield new Promise((k,W)=>{let pe=null;function Oe(){var at;k();const ei=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof ei&&ei(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function $e(){pe||(pe=window.setTimeout(()=>{W(ge(_,"redirect-cancelled-by-user"))},2e3))}function ct(){"visible"===(null==document?void 0:document.visibilityState)&&$e()}f.addPassiveListener(Oe),document.addEventListener("resume",$e,!1),Kt()&&document.addEventListener("visibilitychange",ct,!1),S=()=>{f.removePassiveListener(Oe),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",ct,!1),pe&&window.clearTimeout(pe)}})}finally{S()}})).apply(this,arguments)}function Bl(_){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(_){const f=qf(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qf(_){if(Y(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}(0,P.Pz)("authIdTokenMaxAge"),function Wf(_){(0,le._registerComponent)(new ne.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:k,authDomain:W}=b.options;return((pe,Oe)=>{z(k&&!k.includes(":"),"invalid-api-key",{appName:pe.name}),z(!(null==W?void 0:W.includes(":")),"argument-error",{appName:pe.name});const $e={apiKey:k,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:To(_)},ct=new je(pe,Oe,$e);return function ue(_,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ee);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(ct,g),ct})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ne.wA("auth-internal",f=>{const g=rt(f.getProvider("auth").getImmediate());return new Ll(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(zf,"0.21.0",function Mc(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(zf,"0.21.0","esm2017")}("Browser");class dh extends Ts{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function rd(_){return _o.apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(_){const f=yield Xi()._get(Ha(_));return f&&(yield Xi()._remove(Ha(_))),f})).apply(this,arguments)}function sd(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Xi(){return ee(St)}function Ha(_){return q("authEvent",_.config.apiKey,_.name)}function Ko(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,P.zd)(g.join("?"))}function Fc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function Qo(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function gh(_=(0,P.z$)()){return!("file:"!==Qo()&&"ionic:"!==Qo()&&"capacitor:"!==Qo()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function ad(){try{const _=self.localStorage,f=Uo();if(_)return _.setItem(f,"1"),_.removeItem(f),!function ep(_=(0,P.z$)()){return function ym(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vm(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch(_){return Xo()&&(0,P.hl)()}return!1}function Xo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pc(){return(function yo(){return"http:"===Qo()||"https:"===Qo()}()||(0,P.ru)()||gh())&&!function Jf(){return(0,P.b$)()||(0,P.UG)()}()&&ad()&&!Xo()}function vo(){return gh()&&"undefined"!=typeof document}function mh(){return(mh=(0,c.Z)(function*(){return!!vo()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Ii={LOCAL:"local",NONE:"none",SESSION:"session"},Jo=z,ea="persistence";function cd(_){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(_){yield _._initializationPromise;const f=np(),g=q(ea,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function np(){var _;try{return(null===(_=function Tv(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const bm=z;class na{constructor(){this.browserResolver=ee(class rh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cn,this._completeRedirectFn=et,this._overrideRedirectResult=ed}_openPopup(f,g,b,S){var k=this;return(0,c.Z)(function*(){var W;Y(null===(W=k.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const pe=Pl(f,g,b,Re(),S);return function Ba(_,f,g,b=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let pe="";const Oe=Object.assign(Object.assign({},Si),{width:b.toString(),height:S.toString(),top:k,left:W}),$e=(0,P.z$)().toLowerCase();g&&(pe=Xt($e)?"_blank":g),qe($e)&&(f=f||"http://localhost",Oe.scrollbars="yes");const ct=Object.entries(Oe).reduce((ei,[Hr,Lc])=>`${ei}${Hr}=${Lc},`,"");if(function Yr(_=(0,P.z$)()){var f;return un(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}($e)&&"_self"!==pe)return function cm(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",pe),new Fl(null);const at=window.open(f||"",pe,ct);z(at,_,"popup-blocked");try{at.focus()}catch(ei){}return new Fl(at)}(f,pe,Uo())})()}_openRedirect(f,g,b,S){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(f),function Ds(_){xn().location.href=_}(Pl(f,g,b,Re(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:k}=this.eventManagers[g];return S?Promise.resolve(S):(Y(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const b=yield function lm(_){return La.apply(this,arguments)}(f),S=new Ts(f);return b.register("authEvent",k=>(z(null==k?void 0:k.authEvent,f,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Tc,{type:Tc},S=>{var k;const W=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[Tc];void 0!==W&&g(!!W),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Sc(_){return th.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ps()||Ct()||un()}}),this.cordovaResolver=ee(class fh{constructor(){this._redirectPersistence=cn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=et,this._overrideRedirectResult=ed}_initialize(f){var g=this;return(0,c.Z)(function*(){const b=f._key();let S=g.eventManagers.get(b);return S||(S=new dh(f),g.eventManagers.set(b,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,S){var k=this;return(0,c.Z)(function*(){!function mm(_){var f,g,b,S,k,W,pe,Oe,$e,ct;const at=po();z("function"==typeof(null===(f=null==at?void 0:at.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(k=null===(S=null===(b=null==at?void 0:at.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(Oe=null===(pe=null===(W=null==at?void 0:at.cordova)||void 0===W?void 0:W.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Oe?void 0:Oe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(ct=null===($e=null==at?void 0:at.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===ct?void 0:ct.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield k._initialize(f);yield W.initialized(),W.resetRedirect(),function eh(){qn.clear()}(),yield k._originValidation(f);const pe=function _m(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:sd(),postBody:null,tenantId:_.tenantId,error:ge(_,"no-auth-event")}}(f,b,S);yield function hh(_,f){return Xi()._set(Ha(_),f)}(f,pe);const Oe=yield function ch(_,f,g){return Ur.apply(this,arguments)}(f,pe,g),$e=yield function pm(_){const{cordova:f}=po();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let S=null;b?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function qs(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Oe);return function gm(_,f,g){return uh.apply(this,arguments)}(f,W,$e)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function fm(_){return go.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:k}=po(),W=setTimeout((0,c.Z)(function*(){yield rd(f),g.onEvent(Fc())}),500),pe=function(){var ct=(0,c.Z)(function*(at){clearTimeout(W);const ei=yield rd(f);let Hr=null;ei&&(null==at?void 0:at.url)&&(Hr=function Zf(_,f){var g,b;const S=function kc(_){const f=Ko(_),g=f.link?decodeURIComponent(f.link):void 0,b=Ko(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ko(S).link||S||b||g||_}(f);if(S.includes("/__/auth/callback")){const k=Ko(S),W=k.firebaseError?function Kf(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(k.firebaseError)):null,pe=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Oe=pe?ge(pe):null;return Oe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(ei,at.url)),g.onEvent(Hr||Fc())});return function(ei){return ct.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,pe);const Oe=S,$e=`${k.packageName.toLowerCase()}://`;po().handleOpenURL=function(){var ct=(0,c.Z)(function*(at){if(at.toLowerCase().startsWith($e)&&pe({url:at}),"function"==typeof Oe)try{Oe(at)}catch(ei){console.error(ei)}});return function(at){return ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=cn,this._completeRedirectFn=et,this._overrideRedirectResult=ed}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,S){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(f,g,b,S)})()}_openRedirect(f,g,b,S){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(f,g,b,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return vo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function ld(){return mh.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ip(_){return _.unwrap()}function bo(_){return _h(_)}function _h(_){const{_tokenResponse:f}=_ instanceof P.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return zo.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Ru;break;case"facebook.com":b=Ro;break;case"github.com":b=qd;break;case"twitter.com":b=Ou;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:W,pendingToken:pe,nonce:Oe}=f;return k||W||S||pe?pe?g.startsWith("saml.")?Qs._create(g,pe):qr._fromParams({providerId:g,signInMethod:g,pendingToken:pe,idToken:S,accessToken:k}):new Tr(g).credential({idToken:S,accessToken:k,rawNonce:Oe}):null}return _ instanceof P.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Bi(_,f){return f.catch(g=>{throw g instanceof P.ZR&&function Ul(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==f?void 0:f.code))f.resolver=new wm(_,function Vn(_,f){var g;const b=(0,P.m9)(_),S=f;return z(f.customData.operationType,b,"argument-error"),z(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),ro._fromError(b,S)}(_,f));else if(b){const S=_h(f),k=f;S&&(k.credential=S,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:bo(g),additionalUserInfo:zn(g),user:Co.getOrCreate(S)}})}function yh(_,f){return vh.apply(this,arguments)}function vh(){return(vh=(0,c.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Bi(_,g.confirm(b))}})).apply(this,arguments)}class wm{constructor(f,g){this.resolver=g,this.auth=function Cm(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Bi(ip(this.auth),this.resolver.resolveSignIn(f))}}class Co{constructor(f){this._delegate=f,this.multiFactor=function ju(_){const f=(0,P.m9)(_);return wl.has(f)||wl.set(f,Bo._fromUser(f)),wl.get(f)}(f)}static getOrCreate(f){return Co.USER_MAP.has(f)||Co.USER_MAP.set(f,new Co(f)),Co.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Bi(g.auth,Xn(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,c.Z)(function*(){return yh(b.auth,function Pa(_,f,g){return Ku.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Bi(g.auth,function Jd(_,f,g){return xl.apply(this,arguments)}(g._delegate,f,na))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield cd(rt(g.auth)),function Q(_,f,g){return function re(_,f,g){return Se.apply(this,arguments)}(_,f,g)}(g._delegate,f,na)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Bi(g.auth,Zr(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return yh(this.auth,function Xd(_,f,g){return Ei.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Bi(this.auth,function ns(_,f,g){return Ac.apply(this,arguments)}(this._delegate,f,na))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield cd(rt(g.auth)),function x(_,f,g){return function M(_,f,g){return B.apply(this,arguments)}(_,f,g)}(g._delegate,f,na)})()}sendEmailVerification(f){return function fr(_,f){return bc.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Zd(_,f){return on.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Pu(_,f){return bl((0,P.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Nu(_,f){return bl((0,P.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function xc(_,f){return uo.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function yl(_,f){return vl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function ml(_,f,g){return _l.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Co.USER_MAP=new WeakMap;const Hl=z;let bh=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Hl(S,"invalid-api-key",{appName:g.name}),Hl(S,"invalid-api-key",{appName:g.name});const k="undefined"!=typeof window?na:void 0;this._delegate=b.initialize({options:{persistence:rp(S,g.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Co.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function _i(_,f,g){const b=rt(_);z(b._canInitEmulator,b,"emulator-config-failed"),z(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),k=xr(f),{host:W,port:pe}=function Rn(_){const f=xr(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const k=S[1];return{host:k,port:Ar(b.substr(k.length+1))}}{const[k,W]=b.split(":");return{host:k,port:Ar(W)}}}(f);b.config.emulator={url:`${k}//${W}${null===pe?"":`:${pe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function an(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function Po(_,f){return Ae.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ft(this._delegate,g)}confirmPasswordReset(g,b){return function fl(_,f,g){return mc.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,c.Z)(function*(){return Bi(S._delegate,function to(_,f,g){return qi.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function gl(_,f){return ws.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Fu(_,f){const g=ul.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Hl(Pc(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Ze(_,f){return Xe.apply(this,arguments)}(g._delegate,na);return b?Bi(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function ja(_,f){rt(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:k,error:W,complete:pe}=Em(g,b,S);return this._delegate.onAuthStateChanged(k,W,pe)}onIdTokenChanged(g,b,S){const{next:k,error:W,complete:pe}=Em(g,b,S);return this._delegate.onIdTokenChanged(k,W,pe)}sendSignInLinkToEmail(g,b){return function yc(_,f,g){return vc.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function gc(_,f,g){return hl.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,c.Z)(function*(){let S;switch(function tp(_,f){Jo(Object.values(Ii).includes(f),_,"invalid-persistence-type"),(0,P.b$)()?Jo(f!==Ii.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?Jo(f===Ii.NONE,_,"unsupported-persistence-type"):Xo()?Jo(f===Ii.NONE||f===Ii.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):Jo(f===Ii.NONE||ad(),_,"unsupported-persistence-type")}(b._delegate,g),g){case Ii.SESSION:S=cn;break;case Ii.LOCAL:S=(yield ee(Pr)._isAvailable())?Pr:St;break;case Ii.NONE:S=U;break;default:return Te("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Bi(this._delegate,function ku(_){return dc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Bi(this._delegate,mn(this._delegate,g))}signInWithCustomToken(g){return Bi(this._delegate,function Fo(_,f){return ht.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Bi(this._delegate,function _c(_,f,g){return mn((0,P.m9)(_),Mu.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Bi(this._delegate,function Ff(_,f,g){return Kr.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return yh(this._delegate,function Sn(_,f,g){return $o.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,c.Z)(function*(){return Hl(Pc(),b._delegate,"operation-not-supported-in-this-environment"),Bi(b._delegate,function Xu(_,f,g){return Wo.apply(this,arguments)}(b._delegate,g,na))})()}signInWithRedirect(g){var b=this;return(0,c.Z)(function*(){return Hl(Pc(),b._delegate,"operation-not-supported-in-this-environment"),yield cd(b._delegate),function Tl(_,f,g){return function Br(_,f,g){return w.apply(this,arguments)}(_,f,g)}(b._delegate,g,na)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function dn(_,f){return pl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ii,_})();function Em(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const S=b;return{next:W=>S(W&&Co.getOrCreate(W)),error:f,complete:g}}function rp(_,f){const g=function Ga(_,f){const g=np();if(!g)return[];const b=q(ea,_,f);switch(g.getItem(b)){case Ii.NONE:return[U];case Ii.LOCAL:return[Pr,cn];case Ii.SESSION:return[cn];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(Pr)&&g.push(Pr),"undefined"!=typeof window)for(const b of[St,cn])g.includes(b)||g.push(b);return g.includes(U)||g.push(U),g}class ud{constructor(){this.providerId="phone",this._delegate=new zo(ip(J.Z.auth()))}static credential(f,g){return zo.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}ud.PHONE_SIGN_IN_METHOD=zo.PHONE_SIGN_IN_METHOD,ud.PROVIDER_ID=zo.PROVIDER_ID;const Dm=z;class sp{constructor(f,g,b=J.Z.app()){var S;Dm(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Qd(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function op(_){_.INTERNAL.registerComponent(new ne.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new bh(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Mu,FacebookAuthProvider:Ro,GithubAuthProvider:qd,GoogleAuthProvider:Ru,OAuthProvider:Tr,SAMLAuthProvider:vi,PhoneAuthProvider:ud,PhoneMultiFactorGenerator:oh,RecaptchaVerifier:sp,TwitterAuthProvider:Ou,Auth:bh,AuthCredential:lr,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.0")}(J.Z)},8766:(Ye,ye,F)=>{F.d(ye,{Lj:()=>Te,X3:()=>ze});var c=F(5861);let P,le;const ne=new WeakMap,ce=new WeakMap,de=new WeakMap,j=new WeakMap,G=new WeakMap;let xe={get(z,ve,Y){if(z instanceof IDBTransaction){if("done"===ve)return ce.get(z);if("objectStoreNames"===ve)return z.objectStoreNames||de.get(z);if("store"===ve)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return we(z[ve])},set:(z,ve,Y)=>(z[ve]=Y,!0),has:(z,ve)=>z instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in z};function he(z){return"function"==typeof z?function Ne(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...ve){return z.apply(Ue(this),ve),we(ne.get(this))}:function(...ve){return we(z.apply(Ue(this),ve))}:function(ve,...Y){const se=z.call(Ue(this),ve,...Y);return de.set(se,ve.sort?ve.sort():[ve]),we(se)}}(z):(z instanceof IDBTransaction&&function Fe(z){if(ce.has(z))return;const ve=new Promise((Y,se)=>{const ee=()=>{z.removeEventListener("complete",me),z.removeEventListener("error",ue),z.removeEventListener("abort",ue)},me=()=>{Y(),ee()},ue=()=>{se(z.error||new DOMException("AbortError","AbortError")),ee()};z.addEventListener("complete",me),z.addEventListener("error",ue),z.addEventListener("abort",ue)});ce.set(z,ve)}(z),((z,ve)=>ve.some(Y=>z instanceof Y))(z,function ae(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,xe):z)}function we(z){if(z instanceof IDBRequest)return function te(z){const ve=new Promise((Y,se)=>{const ee=()=>{z.removeEventListener("success",me),z.removeEventListener("error",ue)},me=()=>{Y(we(z.result)),ee()},ue=()=>{se(z.error),ee()};z.addEventListener("success",me),z.addEventListener("error",ue)});return ve.then(Y=>{Y instanceof IDBCursor&&ne.set(Y,z)}).catch(()=>{}),G.set(ve,z),ve}(z);if(j.has(z))return j.get(z);const ve=he(z);return ve!==z&&(j.set(z,ve),G.set(ve,z)),ve}const Ue=z=>G.get(z);function ze(z,ve,{blocked:Y,upgrade:se,blocking:ee,terminated:me}={}){const ue=indexedDB.open(z,ve),Re=we(ue);return se&&ue.addEventListener("upgradeneeded",nt=>{se(we(ue.result),nt.oldVersion,nt.newVersion,we(ue.transaction))}),Y&&ue.addEventListener("blocked",()=>Y()),Re.then(nt=>{me&&nt.addEventListener("close",()=>me()),ee&&nt.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Re}function Te(z,{blocked:ve}={}){const Y=indexedDB.deleteDatabase(z);return ve&&Y.addEventListener("blocked",()=>ve()),we(Y).then(()=>{})}const ge=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Pe=new Map;function Le(z,ve){if(!(z instanceof IDBDatabase)||ve in z||"string"!=typeof ve)return;if(Pe.get(ve))return Pe.get(ve);const Y=ve.replace(/FromIndex$/,""),se=ve!==Y,ee=De.includes(Y);if(!(Y in(se?IDBIndex:IDBObjectStore).prototype)||!ee&&!ge.includes(Y))return;const me=function(){var ue=(0,c.Z)(function*(Re,...nt){const Ht=this.transaction(Re,ee?"readwrite":"readonly");let It=Ht.store;return se&&(It=It.index(nt.shift())),(yield Promise.all([It[Y](...nt),ee&&Ht.done]))[0]});return function(nt){return ue.apply(this,arguments)}}();return Pe.set(ve,me),me}!function Me(z){xe=z(xe)}(z=>lR(aR({},z),{get:(ve,Y,se)=>Le(ve,Y)||z.get(ve,Y,se),has:(ve,Y)=>!!Le(ve,Y)||z.has(ve,Y)}))},5861:(Ye,ye,F)=>{function c(P,le,ae,fe,ne,ce,de){try{var j=P[ce](de),G=j.value}catch(te){return void ae(te)}j.done?le(G):Promise.resolve(G).then(fe,ne)}function J(P){return function(){var le=this,ae=arguments;return new Promise(function(fe,ne){var ce=P.apply(le,ae);function de(G){c(ce,fe,ne,de,j,"next",G)}function j(G){c(ce,fe,ne,de,j,"throw",G)}de(void 0)})}}F.d(ye,{Z:()=>J})}},Ye=>{Ye(Ye.s=6884)}]);