"use strict";var S2=Object.defineProperty,I2=Object.defineProperties,T2=Object.getOwnPropertyDescriptors,gR=Object.getOwnPropertySymbols,M2=Object.prototype.hasOwnProperty,R2=Object.prototype.propertyIsEnumerable,mR=(Ye,ye,F)=>ye in Ye?S2(Ye,ye,{enumerable:!0,configurable:!0,writable:!0,value:F}):Ye[ye]=F,_R=(Ye,ye)=>{for(var F in ye||(ye={}))M2.call(ye,F)&&mR(Ye,F,ye[F]);if(gR)for(var F of gR(ye))R2.call(ye,F)&&mR(Ye,F,ye[F]);return Ye},yR=(Ye,ye)=>I2(Ye,T2(ye));(self.webpackChunkchameleon=self.webpackChunkchameleon||[]).push([[179],{2011:(Ye,ye,F)=>{F.d(ye,{Dh:()=>ce,GT:()=>fe,cc:()=>xe,hO:()=>Pe,on:()=>G,pX:()=>ae,xv:()=>de});var l=F(5e3),J=F(9260),P=F(2122);Ye=F.hmd(Ye);const le=["ngOnDestroy"],ae=(we,Ue,ze,Ie={})=>new Proxy(we,{get:(ge,De)=>ze.runOutsideAngular(()=>{var Ne;if(we[De])return(null===(Ne=null==Ie?void 0:Ie.spy)||void 0===Ne?void 0:Ne.get)&&Ie.spy.get(De,we[De]),we[De];if(le.indexOf(De)>-1)return()=>{};const Be=Ue.toPromise().then(z=>{const ve=z&&z[De];return"function"==typeof ve?ve.bind(z):ve&&ve.then?ve.then(Y=>ze.run(()=>Y)):ze.run(()=>ve)});return new Proxy(()=>{},{get:(z,ve)=>Be[ve],apply:(z,ve,Y)=>Be.then(se=>{var ee;const me=se&&se(...Y);return(null===(ee=null==Ie?void 0:Ie.spy)||void 0===ee?void 0:ee.apply)&&Ie.spy.apply(De,Y,me),me})})})}),fe=(we,Ue)=>{Ue.forEach(ze=>{Object.getOwnPropertyNames(ze.prototype||ze).forEach(Ie=>{Object.defineProperty(we.prototype,Ie,Object.getOwnPropertyDescriptor(ze.prototype||ze,Ie))})})};class ie{constructor(Ue){return Ue}}const ce=new l.OlP("angularfire2.app.options"),de=new l.OlP("angularfire2.app.name");function G(we,Ue,ze){const ge="object"==typeof ze&&ze||{};ge.name=ge.name||"string"==typeof ze&&ze||"[DEFAULT]";const Ne=J.Z.apps.filter(Be=>Be&&Be.name===ge.name)[0]||Ue.runOutsideAngular(()=>J.Z.initializeApp(we,ge));try{JSON.stringify(we)!==JSON.stringify(Ne.options)&&$("error",`${Ne.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new ie(Ne)}const $=(we,...Ue)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[we](...Ue)},te={provide:ie,useFactory:G,deps:[ce,l.R0b,[new l.FiY,de]]};let Pe=(()=>{class we{constructor(ze){J.Z.registerVersion("angularfire",P.q4.full,"core"),J.Z.registerVersion("angularfire",P.q4.full,"app-compat"),J.Z.registerVersion("angular",l.q4F.full,ze.toString())}static initializeApp(ze,Ie){return{ngModule:we,providers:[{provide:ce,useValue:ze},{provide:de,useValue:Ie}]}}}return we.\u0275fac=function(ze){return new(ze||we)(l.LFG(l.Lbi))},we.\u0275mod=l.oAB({type:we}),we.\u0275inj=l.cJS({providers:[te]}),we})();function xe(we,Ue,ze,Ie,ge){const[,De,Ne]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===we)||[];if(De)return function Me(we,Ue){try{return we.toString()===Ue.toString()}catch(ze){return we===Ue}}(ge,Ne)||(he("error",`${Ue} was already initialized on the ${ze} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:ge,was:Ne})),De;{const Be=Ie();return globalThis.\u0275AngularfireInstanceCache.push([we,Be,ge]),Be}}const Le=!!Ye.hot,he=(we,...Ue)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[we](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(Ye,ye,F)=>{F.d(ye,{q4:()=>Rt,iC:()=>xl,HU:()=>qf,vb:()=>zu,JM:()=>El});var l=F(5e3),J=F(259),P=F(5861),le=F(9681),ae=F(2090),fe=F(4859),ie=F(1877),ce=F(8766);const de="@firebase/installations",G="0.6.0",te=`w:${G}`,Pe="FIS_v2",Ue=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ze(w){return w instanceof ae.ZR&&w.code.includes("request-failed")}function Ie({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function ge(w){return{token:w.token,requestStatus:2,expiresIn:se(w.expiresIn),creationTime:Date.now()}}function De(w,x){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,P.Z)(function*(w,x){const V=(yield x.json()).error;return Ue.create("request-failed",{requestName:w,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Be({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function z(w,{refreshToken:x}){const M=Be(w);return M.append("Authorization",function ee(w){return`${Pe} ${w}`}(x)),M}function ve(w){return Y.apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(w){const x=yield w();return x.status>=500&&x.status<600?w():x})).apply(this,arguments)}function se(w){return Number(w.replace("s","000"))}function me(w,x){return ue.apply(this,arguments)}function ue(){return(ue=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:x},{fid:M}){const V=Ie(w),Q=Be(w),re=x.getImmediate({optional:!0});if(re){const et=yield re.getHeartbeatsHeader();et&&Q.append("x-firebase-client",et)}const Ze={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:Pe,appId:w.appId,sdkVersion:te})},Qe=yield ve(()=>fetch(V,Ze));if(Qe.ok){const et=yield Qe.json();return{fid:et.fid||M,registrationStatus:2,refreshToken:et.refreshToken,authToken:ge(et.authToken)}}throw yield De("Create Installation",Qe)})).apply(this,arguments)}function Re(w){return new Promise(x=>{setTimeout(x,w)})}const Ht=/^[cdef][\w-]{21}$/;function Ge(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function Wt(w){return function nt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Ht.test(M)?M:""}catch(w){return""}}function an(w){return`${w.appName}!${w.appId}`}const Zt=new Map;function $t(w,x){const M=an(w);kt(M,x),function Li(w,x){const M=function vi(){return!vr&&"BroadcastChannel"in self&&(vr=new BroadcastChannel("[Firebase] FID Change"),vr.onmessage=w=>{kt(w.data.key,w.data.fid)}),vr}();M&&M.postMessage({key:w,fid:x}),function bi(){0===Zt.size&&vr&&(vr.close(),vr=null)}()}(M,x)}function kt(w,x){const M=Zt.get(w);if(M)for(const V of M)V(x)}let vr=null;const Bi="firebase-installations-store";let ar=null;function ut(){return ar||(ar=(0,ce.X3)("firebase-installations-database",1,{upgrade:(w,x)=>{0===x&&w.createObjectStore(Bi)}})),ar}function Ci(w,x){return _n.apply(this,arguments)}function _n(){return(_n=(0,P.Z)(function*(w,x){const M=an(w),Q=(yield ut()).transaction(Bi,"readwrite"),re=Q.objectStore(Bi),Se=yield re.get(M);return yield re.put(x,M),yield Q.done,(!Se||Se.fid!==x.fid)&&$t(w,x.fid),x})).apply(this,arguments)}function Wn(w){return us.apply(this,arguments)}function us(){return(us=(0,P.Z)(function*(w){const x=an(w),V=(yield ut()).transaction(Bi,"readwrite");yield V.objectStore(Bi).delete(x),yield V.done})).apply(this,arguments)}function Cr(w,x){return Un.apply(this,arguments)}function Un(){return(Un=(0,P.Z)(function*(w,x){const M=an(w),Q=(yield ut()).transaction(Bi,"readwrite"),re=Q.objectStore(Bi),Se=yield re.get(M),Ze=x(Se);return void 0===Ze?yield re.delete(M):yield re.put(Ze,M),yield Q.done,Ze&&(!Se||Se.fid!==Ze.fid)&&$t(w,Ze.fid),Ze})).apply(this,arguments)}function xn(w){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,P.Z)(function*(w){let x;const M=yield Cr(w.appConfig,V=>{const Q=Vs(V),re=Ut(w,Q);return x=re.registrationPromise,re.installationEntry});return""===M.fid?{installationEntry:yield x}:{installationEntry:M,registrationPromise:x}})).apply(this,arguments)}function Vs(w){return ds(w||{fid:Ge(),registrationStatus:0})}function Ut(w,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Ue.create("app-offline"))};const M={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},V=function tt(w,x){return dt.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:V}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:oi(w)}:{installationEntry:x}}function dt(){return(dt=(0,P.Z)(function*(w,x){try{const M=yield me(w,x);return Ci(w.appConfig,M)}catch(M){throw ze(M)&&409===M.customData.serverCode?yield Wn(w.appConfig):yield Ci(w.appConfig,{fid:x.fid,registrationStatus:0}),M}})).apply(this,arguments)}function oi(w){return ai.apply(this,arguments)}function ai(){return(ai=(0,P.Z)(function*(w){let x=yield Bt(w.appConfig);for(;1===x.registrationStatus;)yield Re(100),x=yield Bt(w.appConfig);if(0===x.registrationStatus){const{installationEntry:M,registrationPromise:V}=yield xn(w);return V||M}return x})).apply(this,arguments)}function Bt(w){return Cr(w,x=>{if(!x)throw Ue.create("installation-not-found");return ds(x)})}function ds(w){return function li(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function ci(w,x){return st.apply(this,arguments)}function st(){return(st=(0,P.Z)(function*({appConfig:w,heartbeatServiceProvider:x},M){const V=Us(w,M),Q=z(w,M),re=x.getImmediate({optional:!0});if(re){const et=yield re.getHeartbeatsHeader();et&&Q.append("x-firebase-client",et)}const Ze={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:te,appId:w.appId}})},Qe=yield ve(()=>fetch(V,Ze));if(Qe.ok)return ge(yield Qe.json());throw yield De("Generate Auth Token",Qe)})).apply(this,arguments)}function Us(w,{fid:x}){return`${Ie(w)}/${x}/authTokens:generate`}function Mt(w){return zr.apply(this,arguments)}function zr(){return(zr=(0,P.Z)(function*(w,x=!1){let M;const V=yield Cr(w.appConfig,re=>{if(!Ft(re))throw Ue.create("not-registered");const Se=re.authToken;if(!x&&j(Se))return re;if(1===Se.requestStatus)return M=We(w,x),re;{if(!navigator.onLine)throw Ue.create("app-offline");const Ze=q(re);return M=vt(w,Ze),Ze}});return M?yield M:V.authToken})).apply(this,arguments)}function We(w,x){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(w,x){let M=yield He(w.appConfig);for(;1===M.authToken.requestStatus;)yield Re(100),M=yield He(w.appConfig);const V=M.authToken;return 0===V.requestStatus?Mt(w,x):V})).apply(this,arguments)}function He(w){return Cr(w,x=>{if(!Ft(x))throw Ue.create("not-registered");return function be(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function vt(w,x){return yt.apply(this,arguments)}function yt(){return(yt=(0,P.Z)(function*(w,x){try{const M=yield ci(w,x),V=Object.assign(Object.assign({},x),{authToken:M});return yield Ci(w.appConfig,V),M}catch(M){if(!ze(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const V=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Ci(w.appConfig,V)}else yield Wn(w.appConfig);throw M}})).apply(this,arguments)}function Ft(w){return void 0!==w&&2===w.registrationStatus}function j(w){return 2===w.requestStatus&&!function U(w){const x=Date.now();return x<w.creationTime||w.creationTime+w.expiresIn<x+36e5}(w)}function q(w){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:x})}function qe(){return(qe=(0,P.Z)(function*(w){const x=w,{installationEntry:M,registrationPromise:V}=yield xn(x);return V?V.catch(console.error):Mt(x).catch(console.error),M.fid})).apply(this,arguments)}function Xt(){return(Xt=(0,P.Z)(function*(w,x=!1){const M=w;return yield jt(M),(yield Mt(M,x)).token})).apply(this,arguments)}function jt(w){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,P.Z)(function*(w){const{registrationPromise:x}=yield xn(w);x&&(yield x)})).apply(this,arguments)}function To(w){return Ue.create("missing-app-config-values",{valueName:w})}const Vi="installations",rt=w=>{const x=w.getProvider("app").getImmediate(),M=function ei(w){if(!w||!w.options)throw To("App Configuration");if(!w.name)throw To("App Name");const x=["projectId","apiKey","appId"];for(const M of x)if(!w.options[M])throw To(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(x);return{app:x,appConfig:M,heartbeatServiceProvider:(0,le._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Jt=w=>{const x=w.getProvider("app").getImmediate(),M=(0,le._getProvider)(x,Vi).getImmediate();return{getId:()=>function oe(w){return qe.apply(this,arguments)}(M),getToken:Q=>function bt(w){return Xt.apply(this,arguments)}(M,Q)}};(function wi(){(0,le._registerComponent)(new fe.wA(Vi,rt,"PUBLIC")),(0,le._registerComponent)(new fe.wA("installations-internal",Jt,"PRIVATE"))})(),(0,le.registerVersion)(de,G),(0,le.registerVersion)(de,G,"esm2017");const wr="@firebase/remote-config",An=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lf{constructor(x,M,V,Q){this.client=x,this.storage=M,this.storageCache=V,this.logger=Q}isCachedDataFresh(x,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-M,Q=V<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${Q}.`),Q}fetch(x){var M=this;return(0,P.Z)(function*(){const[V,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(x.cacheMaxAgeMillis,V))return Q;x.eTag=Q&&Q.eTag;const re=yield M.client.fetch(x),Se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Se.push(M.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Se),re})()}}function gu(w=navigator){return w.languages&&w.languages[0]||w.language}class ui{constructor(x,M,V,Q,re,Se){this.firebaseInstallations=x,this.sdkVersion=M,this.namespace=V,this.projectId=Q,this.apiKey=re,this.appId=Se}fetch(x){var M=this;return(0,P.Z)(function*(){const[V,Q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Qe={sdk_version:M.sdkVersion,app_instance_id:V,app_instance_id_token:Q,app_id:M.appId,language_code:gu()},et={method:"POST",headers:Ze,body:JSON.stringify(Qe)},Et=fetch(Se,et),ot=new Promise((Ri,Nr)=>{x.signal.addEventListener(()=>{const Il=new Error("The operation was aborted.");Il.name="AbortError",Nr(Il)})});let fi;try{yield Promise.race([Et,ot]),fi=yield Et}catch(Ri){let Nr="fetch-client-network";throw"AbortError"===(null==Ri?void 0:Ri.name)&&(Nr="fetch-timeout"),An.create(Nr,{originalErrorMessage:null==Ri?void 0:Ri.message})}let hn=fi.status;const Ss=fi.headers.get("ETag")||void 0;let Zo,ns;if(200===fi.status){let Ri;try{Ri=yield fi.json()}catch(Nr){throw An.create("fetch-client-parse",{originalErrorMessage:null==Nr?void 0:Nr.message})}Zo=Ri.entries,ns=Ri.state}if("INSTANCE_STATE_UNSPECIFIED"===ns?hn=500:"NO_CHANGE"===ns?hn=304:("NO_TEMPLATE"===ns||"EMPTY_CONFIG"===ns)&&(Zo={}),304!==hn&&200!==hn)throw An.create("fetch-status",{httpStatus:hn});return{status:hn,eTag:Ss,config:Zo}})()}}class Bf{constructor(x,M){this.client=x,this.storage=M}fetch(x){var M=this;return(0,P.Z)(function*(){const V=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(x,V)})()}attemptFetch(x,{throttleEndTimeMillis:M,backoffCount:V}){var Q=this;return(0,P.Z)(function*(){yield function gs(w,x){return new Promise((M,V)=>{const Q=Math.max(x-Date.now(),0),re=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(re),V(An.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,M);try{const re=yield Q.client.fetch(x);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function mu(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const x=Number(w.customData.httpStatus);return 429===x||500===x||503===x||504===x}(re))throw re;const Se={throttleEndTimeMillis:Date.now()+(0,ae.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(Se),Q.attemptFetch(x,Se)}})()}}class _u{constructor(x,M,V,Q,re){this.app=x,this._client=M,this._storageCache=V,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ac(w,x){const M=w.target.error||void 0;return An.create(x,{originalErrorMessage:M&&(null==M?void 0:M.message)})}const ms="app_namespace_store";class jf{constructor(x,M,V,Q=function Hf(){return new Promise((w,x)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=V=>{x(ac(V,"storage-open"))},M.onsuccess=V=>{w(V.target.result)},M.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(ms,{keyPath:"compositeKey"})}}catch(M){x(An.create("storage-open",{originalErrorMessage:null==M?void 0:M.message}))}})}()){this.appId=x,this.appName=M,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var M=this;return(0,P.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Q,re)=>{const Ze=V.transaction([ms],"readonly").objectStore(ms),Qe=M.createCompositeKey(x);try{const et=Ze.get(Qe);et.onerror=Et=>{re(ac(Et,"storage-get"))},et.onsuccess=Et=>{const ot=Et.target.result;Q(ot?ot.value:void 0)}}catch(et){re(An.create("storage-get",{originalErrorMessage:null==et?void 0:et.message}))}})})()}set(x,M){var V=this;return(0,P.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((re,Se)=>{const Qe=Q.transaction([ms],"readwrite").objectStore(ms),et=V.createCompositeKey(x);try{const Et=Qe.put({compositeKey:et,value:M});Et.onerror=ot=>{Se(ac(ot,"storage-set"))},Et.onsuccess=()=>{re()}}catch(Et){Se(An.create("storage-set",{originalErrorMessage:null==Et?void 0:Et.message}))}})})()}delete(x){var M=this;return(0,P.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Q,re)=>{const Ze=V.transaction([ms],"readwrite").objectStore(ms),Qe=M.createCompositeKey(x);try{const et=Ze.delete(Qe);et.onerror=Et=>{re(ac(Et,"storage-delete"))},et.onsuccess=()=>{Q()}}catch(et){re(An.create("storage-delete",{originalErrorMessage:null==et?void 0:et.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class vu{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,P.Z)(function*(){const M=x.storage.getLastFetchStatus(),V=x.storage.getLastSuccessfulFetchTimestampMillis(),Q=x.storage.getActiveConfig(),re=yield M;re&&(x.lastFetchStatus=re);const Se=yield V;Se&&(x.lastSuccessfulFetchTimestampMillis=Se);const Ze=yield Q;Ze&&(x.activeConfig=Ze)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function ll(){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,P.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(w){return!1}})).apply(this,arguments)}!function Ro(){(0,le._registerComponent)(new fe.wA("remote-config",function w(x,{instanceIdentifier:M}){const V=x.getProvider("app").getImmediate(),Q=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw An.create("registration-window");if(!(0,ae.hl)())throw An.create("indexed-db-unavailable");const{projectId:re,apiKey:Se,appId:Ze}=V.options;if(!re)throw An.create("registration-project-id");if(!Se)throw An.create("registration-api-key");if(!Ze)throw An.create("registration-app-id");const Qe=new jf(Ze,V.name,M=M||"firebase"),et=new vu(Qe),Et=new ie.Yd(wr);Et.logLevel=ie.in.ERROR;const ot=new ui(Q,le.SDK_VERSION,M,re,Se,Ze),fi=new Bf(ot,Qe),hn=new Lf(fi,Qe,et,Et),Ss=new _u(V,hn,et,Qe,Et);return function tn(w){const x=(0,ae.m9)(w);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Ss),Ss},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(wr,"0.4.0"),(0,le.registerVersion)(wr,"0.4.0","esm2017")}();const wu="/firebase-messaging-sw.js",di="/firebase-cloud-messaging-push-scope",Gs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Oo="google.c.a.c_id",Eu="google.c.a.c_l",Zd="google.c.a.ts",_s="google.c.a.e";var ko=(()=>{return(w=ko||(ko={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",ko;var w})();function Di(w){const x=new Uint8Array(w);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Du(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(M),Q=new Uint8Array(V.length);for(let re=0;re<V.length;++re)Q[re]=V.charCodeAt(re);return Q}const bn="fcm_token_details_db",Yi="fcm_token_object_Store";function lc(w){return xu.apply(this,arguments)}function xu(){return xu=(0,P.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(bn))return null;let x=null;return(yield(0,ce.X3)(bn,5,{upgrade:(V=(0,P.Z)(function*(Q,re,Se,Ze){var Qe;if(re<2||!Q.objectStoreNames.contains(Yi))return;const et=Ze.objectStore(Yi),Et=yield et.index("fcmSenderId").get(w);if(yield et.clear(),Et)if(2===re){const ot=Et;if(!ot.auth||!ot.p256dh||!ot.endpoint)return;x={token:ot.fcmToken,createTime:null!==(Qe=ot.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:ot.auth,p256dh:ot.p256dh,endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:"string"==typeof ot.vapidKey?ot.vapidKey:Di(ot.vapidKey)}}}else if(3===re){const ot=Et;x={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:Di(ot.auth),p256dh:Di(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:Di(ot.vapidKey)}}}else if(4===re){const ot=Et;x={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:Di(ot.auth),p256dh:Di(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:Di(ot.vapidKey)}}}}),function(re,Se,Ze,Qe){return V.apply(this,arguments)})})).close(),yield(0,ce.Lj)(bn),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),cc(x)?x:null;var V}),xu.apply(this,arguments)}function cc(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:x}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Sr="firebase-messaging-store";let Kd=null;function nn(){return Kd||(Kd=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(w,x)=>{0===x&&w.createObjectStore(Sr)}})),Kd}function Ea(w){return zs.apply(this,arguments)}function zs(){return(zs=(0,P.Z)(function*(w){const x=Yn(w),V=yield(yield nn()).transaction(Sr).objectStore(Sr).get(x);if(V)return V;{const Q=yield lc(w.appConfig.senderId);if(Q)return yield Yt(w,Q),Q}})).apply(this,arguments)}function Yt(w,x){return Da.apply(this,arguments)}function Da(){return(Da=(0,P.Z)(function*(w,x){const M=Yn(w),Q=(yield nn()).transaction(Sr,"readwrite");return yield Q.objectStore(Sr).put(x,M),yield Q.done,x})).apply(this,arguments)}function cl(w){return ys.apply(this,arguments)}function ys(){return(ys=(0,P.Z)(function*(w){const x=Yn(w),V=(yield nn()).transaction(Sr,"readwrite");yield V.objectStore(Sr).delete(x),yield V.done})).apply(this,arguments)}function Yn({appConfig:w}){return w.appId}const yn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ir(w,x){return ti.apply(this,arguments)}function ti(){return(ti=(0,P.Z)(function*(w,x){const M=yield Po(w),V=vs(x),Q={method:"POST",headers:M,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(Tr(w.appConfig),Q)).json()}catch(Se){throw yn.create("token-subscribe-failed",{errorInfo:null==Se?void 0:Se.toString()})}if(re.error)throw yn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw yn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function Ws(w,x){return qr.apply(this,arguments)}function qr(){return(qr=(0,P.Z)(function*(w,x){const M=yield Po(w),V=vs(x.subscriptionOptions),Q={method:"PATCH",headers:M,body:JSON.stringify(V)};let re;try{re=yield(yield fetch(`${Tr(w.appConfig)}/${x.token}`,Q)).json()}catch(Se){throw yn.create("token-update-failed",{errorInfo:null==Se?void 0:Se.toString()})}if(re.error)throw yn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw yn.create("token-update-no-token");return re.token})).apply(this,arguments)}function xa(w,x){return hr.apply(this,arguments)}function hr(){return(hr=(0,P.Z)(function*(w,x){const V={method:"DELETE",headers:yield Po(w)};try{const re=yield(yield fetch(`${Tr(w.appConfig)}/${x}`,V)).json();if(re.error)throw yn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw yn.create("token-unsubscribe-failed",{errorInfo:null==Q?void 0:Q.toString()})}})).apply(this,arguments)}function Tr({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Po(w){return ht.apply(this,arguments)}function ht(){return(ht=(0,P.Z)(function*({appConfig:w,installations:x}){const M=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function vs({p256dh:w,auth:x,endpoint:M,vapidKey:V}){const Q={web:{endpoint:M,auth:x,p256dh:w}};return V!==Gs&&(Q.web.applicationPubKey=V),Q}const hc=6048e5;function Aa(w){return fc.apply(this,arguments)}function fc(){return(fc=(0,P.Z)(function*(w){const x=yield Ys(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:x.endpoint,auth:Di(x.getKey("auth")),p256dh:Di(x.getKey("p256dh"))},V=yield Ea(w.firebaseDependencies);if(V){if(hl(V.subscriptionOptions,M))return Date.now()>=V.createTime+hc?pc(w,{token:V.token,createTime:Date.now(),subscriptionOptions:M}):V.token;try{yield xa(w.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return Ae(w.firebaseDependencies,M)}return Ae(w.firebaseDependencies,M)})).apply(this,arguments)}function ul(w){return dl.apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(w){const x=yield Ea(w.firebaseDependencies);x&&(yield xa(w.firebaseDependencies,x.token),yield cl(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function pc(w,x){return No.apply(this,arguments)}function No(){return(No=(0,P.Z)(function*(w,x){try{const M=yield Ws(w.firebaseDependencies,x),V=Object.assign(Object.assign({},x),{token:M,createTime:Date.now()});return yield Yt(w.firebaseDependencies,V),M}catch(M){throw yield ul(w),M}})).apply(this,arguments)}function Ae(w,x){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,P.Z)(function*(w,x){const V={token:yield Ir(w,x),createTime:Date.now(),subscriptionOptions:x};return yield Yt(w,V),V.token})).apply(this,arguments)}function Ys(w,x){return un.apply(this,arguments)}function un(){return(un=(0,P.Z)(function*(w,x){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Du(x)})})).apply(this,arguments)}function hl(w,x){return x.vapidKey===w.vapidKey&&x.endpoint===w.endpoint&&x.auth===w.auth&&x.p256dh===w.p256dh}function qs(w){const x={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function qi(w,x){if(!x.notification)return;w.notification={};const M=x.notification.title;M&&(w.notification.title=M);const V=x.notification.body;V&&(w.notification.body=V);const Q=x.notification.image;Q&&(w.notification.image=Q);const re=x.notification.icon;re&&(w.notification.icon=re)}(x,w),function gc(w,x){!x.data||(w.data=x.data)}(x,w),function mc(w,x){var M,V,Q,re,Se;if(!x.fcmOptions&&!(null===(M=x.notification)||void 0===M?void 0:M.click_action))return;w.fcmOptions={};const Ze=null!==(Q=null===(V=x.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Q?Q:null===(re=x.notification)||void 0===re?void 0:re.click_action;Ze&&(w.fcmOptions.link=Ze);const Qe=null===(Se=x.fcmOptions)||void 0===Se?void 0:Se.analytics_label;Qe&&(w.fcmOptions.analyticsLabel=Qe)}(x,w),x}function _c(w){return"object"==typeof w&&!!w&&Oo in w}function Au(w,x){const M=[];for(let V=0;V<w.length;V++)M.push(w.charAt(V)),V<x.length&&M.push(x.charAt(V));return M.join("")}function Zr(w){return yn.create("missing-app-config-values",{valueName:w})}Au("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Au("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class hi{constructor(x,M,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Gf(w){if(!w||!w.options)throw Zr("App Configuration Object");if(!w.name)throw Zr("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const V of x)if(!M[V])throw Zr(V);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:Q,installations:M,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Zi(w){return fl.apply(this,arguments)}function fl(){return(fl=(0,P.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(wu,{scope:di}),w.swRegistration.update().catch(()=>{})}catch(x){throw yn.create("failed-service-worker-registration",{browserErrorMessage:null==x?void 0:x.message})}})).apply(this,arguments)}function bs(w,x){return fr.apply(this,arguments)}function fr(){return(fr=(0,P.Z)(function*(w,x){if(!x&&!w.swRegistration&&(yield Zi(w)),x||!w.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");w.swRegistration=x}})).apply(this,arguments)}function yc(w,x){return pl.apply(this,arguments)}function pl(){return(pl=(0,P.Z)(function*(w,x){x?w.vapidKey=x:w.vapidKey||(w.vapidKey=Gs)})).apply(this,arguments)}function vc(){return(vc=(0,P.Z)(function*(w,x){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield yc(w,null==x?void 0:x.vapidKey),yield bs(w,null==x?void 0:x.serviceWorkerRegistration),Aa(w)})).apply(this,arguments)}function Lo(w,x,M){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(w,x,M){const V=_l(x);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:M[Oo],message_name:M[Eu],message_time:M[Zd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _l(w){switch(w){case ko.NOTIFICATION_CLICKED:return"notification_open";case ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Iu(){return(Iu=(0,P.Z)(function*(w,x){const M=x.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===ko.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(qs(M)):w.onMessageHandler.next(qs(M)));const V=M.data;_c(V)&&"1"===V[_s]&&(yield Lo(w,M.messageType,V))})).apply(this,arguments)}const yl="@firebase/messaging",Tu=w=>{const x=new hi(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Su(w,x){return Iu.apply(this,arguments)}(x,M)),x},Bo=w=>{const x=w.getProvider("messaging").getImmediate();return{getToken:V=>function gl(w,x){return vc.apply(this,arguments)}(x,V)}};function vl(){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,P.Z)(function*(){try{yield(0,ae.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mu(){(0,le._registerComponent)(new fe.wA("messaging",Tu,"PUBLIC")),(0,le._registerComponent)(new fe.wA("messaging-internal",Bo,"PRIVATE")),(0,le.registerVersion)(yl,"0.12.0"),(0,le.registerVersion)(yl,"0.12.0","esm2017")}();const Ou="analytics",$f="firebase_id",Kr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qs="https://www.googletagmanager.com/gtag/js",jn=new ie.Yd("@firebase/analytics");function ku(w){return Promise.all(w.map(x=>x.catch(M=>M)))}function zf(w,x){const M=document.createElement("script");M.src=`${Qs}?l=${w}&id=${x}`,M.async=!0,document.head.appendChild(M)}function Vo(w,x,M,V,Q,re){return bl.apply(this,arguments)}function bl(){return(bl=(0,P.Z)(function*(w,x,M,V,Q,re){const Se=V[Q];try{if(Se)yield x[Se];else{const Qe=(yield ku(M)).find(et=>et.measurementId===Q);Qe&&(yield x[Qe.appId])}}catch(Ze){jn.error(Ze)}w("config",Q,re)})).apply(this,arguments)}function Fu(w,x,M,V,Q){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,P.Z)(function*(w,x,M,V,Q){try{let re=[];if(Q&&Q.send_to){let Se=Q.send_to;Array.isArray(Se)||(Se=[Se]);const Ze=yield ku(M);for(const Qe of Se){const et=Ze.find(ot=>ot.measurementId===Qe),Et=et&&x[et.appId];if(!Et){re=[];break}re.push(Et)}}0===re.length&&(re=Object.values(x)),yield Promise.all(re),w("event",V,Q||{})}catch(re){jn.error(re)}})).apply(this,arguments)}function Fn(w){const x=window.document.getElementsByTagName("script");for(const M of Object.values(x))if(M.src&&M.src.includes(Qs)&&M.src.includes(w))return M;return null}const Ke=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ta=new class ln{constructor(x={},M=1e3){this.throttleMetadata=x,this.intervalMillis=M}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,M){this.throttleMetadata[x]=M}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Pu(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Ho(w){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,P.Z)(function*(w){var x;const{appId:M,apiKey:V}=w,Q={method:"GET",headers:Pu(V)},re=Kr.replace("{app-id}",M),Se=yield fetch(re,Q);if(200!==Se.status&&304!==Se.status){let Ze="";try{const Qe=yield Se.json();(null===(x=Qe.error)||void 0===x?void 0:x.message)&&(Ze=Qe.error.message)}catch(Qe){}throw Ke.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ze})}return Se.json()})).apply(this,arguments)}function Tn(w){return ws.apply(this,arguments)}function ws(){return(ws=(0,P.Z)(function*(w,x=Ta,M){const{appId:V,apiKey:Q,measurementId:re}=w.options;if(!V)throw Ke.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:V};throw Ke.create("no-api-key")}const Se=x.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Cl;return setTimeout((0,P.Z)(function*(){Ze.abort()}),void 0!==M?M:6e4),pr({appId:V,apiKey:Q,measurementId:re},Se,Ze,x)})).apply(this,arguments)}function pr(w,x,M){return wt.apply(this,arguments)}function wt(){return(wt=(0,P.Z)(function*(w,{throttleEndTimeMillis:x,backoffCount:M},V,Q=Ta){var re;const{appId:Se,measurementId:Ze}=w;try{yield Nu(V,x)}catch(Qe){if(Ze)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${null==Qe?void 0:Qe.message}]`),{appId:Se,measurementId:Ze};throw Qe}try{const Qe=yield Ho(w);return Q.deleteThrottleMetadata(Se),Qe}catch(Qe){const et=Qe;if(!Lu(et)){if(Q.deleteThrottleMetadata(Se),Ze)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${null==et?void 0:et.message}]`),{appId:Se,measurementId:Ze};throw Qe}const Et=503===Number(null===(re=null==et?void 0:et.customData)||void 0===re?void 0:re.httpStatus)?(0,ae.$s)(M,Q.intervalMillis,30):(0,ae.$s)(M,Q.intervalMillis),ot={throttleEndTimeMillis:Date.now()+Et,backoffCount:M+1};return Q.setThrottleMetadata(Se,ot),jn.debug(`Calling attemptFetch again in ${Et} millis`),pr(w,ot,V,Q)}})).apply(this,arguments)}function Nu(w,x){return new Promise((M,V)=>{const Q=Math.max(x-Date.now(),0),re=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(re),V(Ke.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Lu(w){if(!(w instanceof ae.ZR&&w.customData))return!1;const x=Number(w.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Cl{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Ma,Go;function Rr(){return(Rr=(0,P.Z)(function*(w,x,M,V,Q){if(Q&&Q.global)w("event",M,V);else{const re=yield x;w("event",M,Object.assign(Object.assign({},V),{send_to:re}))}})).apply(this,arguments)}function Oa(w){Go=w}function Xr(w){Ma=w}function $o(){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,P.Z)(function*(){if(!(0,ae.hl)())return jn.warn(Ke.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(w){return jn.warn(Ke.create("indexeddb-unavailable",{errorInfo:null==w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function En(){return(En=(0,P.Z)(function*(w,x,M,V,Q,re,Se){var Ze;const Qe=Tn(w);Qe.then(hn=>{M[hn.measurementId]=hn.appId,w.options.measurementId&&hn.measurementId!==w.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${hn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hn=>jn.error(hn)),x.push(Qe);const et=$o().then(hn=>{if(hn)return V.getId()}),[Et,ot]=yield Promise.all([Qe,et]);Fn(re)||zf(re,Et.measurementId),Go&&(Q("consent","default",Go),Oa(void 0)),Q("js",new Date);const fi=null!==(Ze=null==Se?void 0:Se.config)&&void 0!==Ze?Ze:{};return fi.origin="firebase",fi.update=!0,null!=ot&&(fi[$f]=ot),Q("config",Et.measurementId,fi),Ma&&(Q("set",Ma),Xr(void 0)),Et.measurementId})).apply(this,arguments)}class Cc{constructor(x){this.app=x}_delete(){return delete xi[this.app.options.appId],Promise.resolve()}}let xi={},Mn=[];const Ai={};let kr,qt,gr="dataLayer",Si=!1;function Bu(w,x,M){!function Fr(){const w=[];if((0,ae.ru)()&&w.push("This is a browser extension environment."),(0,ae.zI)()||w.push("Cookies are not available."),w.length>0){const x=w.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),M=Ke.create("invalid-analytics-context",{errorInfo:x});jn.warn(M.message)}}();const V=w.options.appId;if(!V)throw Ke.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Ke.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xi[V])throw Ke.create("already-exists",{id:V});if(!Si){!function Xs(w){let x=[];Array.isArray(window[w])?x=window[w]:window[w]=x}(gr);const{wrappedGtag:re,gtagCore:Se}=function Wf(w,x,M,V,Q){let re=function(...Se){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function Ia(w,x,M,V){function re(){return(re=(0,P.Z)(function*(Se,Ze,Qe){try{"event"===Se?yield Fu(w,x,M,Ze,Qe):"config"===Se?yield Vo(w,x,M,V,Ze,Qe):"consent"===Se?w("consent","update",Qe):w("set",Ze)}catch(et){jn.error(et)}})).apply(this,arguments)}return function Q(Se,Ze,Qe){return re.apply(this,arguments)}}(re,w,x,M),{gtagCore:re,wrappedGtag:window[Q]}}(xi,Mn,Ai,gr,"gtag");qt=re,kr=Se,Si=!0}return xi[V]=function Or(w,x,M,V,Q,re,Se){return En.apply(this,arguments)}(w,Mn,Ai,x,kr,gr,M),new Cc(w)}function Vu(){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,P.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(w){return!1}})).apply(this,arguments)}const Rn="@firebase/analytics";!function Fa(){(0,le._registerComponent)(new fe.wA(Ou,(x,{options:M})=>Bu(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,le._registerComponent)(new fe.wA("analytics-internal",function w(x){try{const M=x.getProvider(Ou).getImmediate();return{logEvent:(V,Q,re)=>function Jr(w,x,M,V){w=(0,ae.m9)(w),function wn(w,x,M,V,Q){return Rr.apply(this,arguments)}(qt,xi[w.app.options.appId],x,M,V).catch(Q=>jn.error(Q))}(M,V,Q,re)}}catch(M){throw Ke.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,le.registerVersion)(Rn,"0.9.0"),(0,le.registerVersion)(Rn,"0.9.0","esm2017")}();var ju=F(4408),Ii=F(7565);const Pa=new class Ti extends Ii.v{}(class Jd extends ju.o{constructor(x,M){super(x,M),this.scheduler=x,this.work=M}schedule(x,M=0){return M>0?super.schedule(x,M):(this.delay=M,this.state=x,this.scheduler.flush(this),this)}execute(x,M){return M>0||this.closed?super.execute(x,M):this._execute(x,M)}requestAsyncId(x,M,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(x,M,V):(x.flush(this),0)}});var io=F(4986),Wo=F(8505),ro=F(9468),wl=F(5363);const Rt=new l.GfV("7.5.0"),Gu="__angularfire_symbol__analyticsIsSupportedValue",es="__angularfire_symbol__analyticsIsSupported",Gn="__angularfire_symbol__remoteConfigIsSupportedValue",xs="__angularfire_symbol__remoteConfigIsSupported",As="__angularfire_symbol__messagingIsSupportedValue",$u="__angularfire_symbol__messagingIsSupported";function El(w,x,M){if(x){if(1===x.length)return x[0];const re=x.filter(Se=>Se.app===M);if(1===re.length)return re[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[es]||(globalThis[es]=Vu().then(w=>globalThis[Gu]=w).catch(()=>globalThis[Gu]=!1)),globalThis[$u]||(globalThis[$u]=vl().then(w=>globalThis[As]=w).catch(()=>globalThis[As]=!1)),globalThis[xs]||(globalThis[xs]=ll().then(w=>globalThis[Gn]=w).catch(()=>globalThis[Gn]=!1));const zu=(w,x)=>{const M=x?[x]:(0,J.C6)(),V=[];return M.forEach(Q=>{Q.container.getProvider(w).instances.forEach(Se=>{V.includes(Se)||V.push(Se)})}),V};function dn(){}class Qn{constructor(x,M=Pa){this.zone=x,this.delegate=M}now(){return this.delegate.now()}schedule(x,M,V){const Q=this.zone;return this.delegate.schedule(function(Se){Q.runGuarded(()=>{x.apply(this,[Se])})},M,V)}}class Dl{constructor(x){this.zone=x,this.task=null}call(x,M){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dn,{},dn,dn)),M.pipe((0,Wo.b)({next:V,complete:V,error:V})).subscribe(x).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qf=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Qn(Zone.current)),this.insideAngular=M.run(()=>new Qn(Zone.current,io.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(l.LFG(l.R0b))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Mi(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function xl(w){return Mi(),function Al(w){return function(M){return(M=M.lift(new Dl(w.ngZone))).pipe((0,ro.R)(w.outsideAngular),(0,wl.Q)(w.insideAngular))}}(Mi())(w)}},2090:(Ye,ye,F)=>{F.d(ye,{$s:()=>He,BH:()=>St,DV:()=>Bi,Dv:()=>oi,GJ:()=>br,L:()=>ce,LL:()=>Zt,Pz:()=>Ht,Sg:()=>Ge,UG:()=>Me,UI:()=>ut,US:()=>fe,Wj:()=>ds,Wl:()=>kt,Yr:()=>ge,ZB:()=>$,ZR:()=>an,aH:()=>nt,b$:()=>we,cI:()=>Lt,dS:()=>ci,eu:()=>Be,g5:()=>P,gK:()=>ai,gQ:()=>xn,h$:()=>ie,hl:()=>Ne,hu:()=>J,jU:()=>Le,lb:()=>li,m9:()=>Ft,ne:()=>Wi,p$:()=>G,pd:()=>Un,r3:()=>$r,ru:()=>he,tV:()=>de,uI:()=>xe,ug:()=>st,vZ:()=>Ci,w1:()=>ze,w9:()=>bi,xO:()=>us,xb:()=>ar,z$:()=>Pe,zI:()=>z,zd:()=>Cr});const J=function(j,U){if(!j)throw P(U)},P=function(j){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+j)},le=function(j){const U=[];let q=0;for(let be=0;be<j.length;be++){let oe=j.charCodeAt(be);oe<128?U[q++]=oe:oe<2048?(U[q++]=oe>>6|192,U[q++]=63&oe|128):55296==(64512&oe)&&be+1<j.length&&56320==(64512&j.charCodeAt(be+1))?(oe=65536+((1023&oe)<<10)+(1023&j.charCodeAt(++be)),U[q++]=oe>>18|240,U[q++]=oe>>12&63|128,U[q++]=oe>>6&63|128,U[q++]=63&oe|128):(U[q++]=oe>>12|224,U[q++]=oe>>6&63|128,U[q++]=63&oe|128)}return U},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let oe=0;oe<j.length;oe+=3){const qe=j[oe],bt=oe+1<j.length,Xt=bt?j[oe+1]:0,jt=oe+2<j.length,Kt=jt?j[oe+2]:0;let cn=(15&Xt)<<2|Kt>>6,Hs=63&Kt;jt||(Hs=64,bt||(cn=64)),be.push(q[qe>>2],q[(3&qe)<<4|Xt>>4],q[cn],q[Hs])}return be.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(le(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let q=0,be=0;for(;q<j.length;){const oe=j[q++];if(oe<128)U[be++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const qe=j[q++];U[be++]=String.fromCharCode((31&oe)<<6|63&qe)}else if(oe>239&&oe<365){const jt=((7&oe)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;U[be++]=String.fromCharCode(55296+(jt>>10)),U[be++]=String.fromCharCode(56320+(1023&jt))}else{const qe=j[q++],bt=j[q++];U[be++]=String.fromCharCode((15&oe)<<12|(63&qe)<<6|63&bt)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const q=U?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let oe=0;oe<j.length;){const qe=q[j.charAt(oe++)],Xt=oe<j.length?q[j.charAt(oe)]:0;++oe;const Kt=oe<j.length?q[j.charAt(oe)]:64;++oe;const pt=oe<j.length?q[j.charAt(oe)]:64;if(++oe,null==qe||null==Xt||null==Kt||null==pt)throw Error();be.push(qe<<2|Xt>>4),64!==Kt&&(be.push(Xt<<4&240|Kt>>2),64!==pt&&be.push(Kt<<6&192|pt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ie=function(j){const U=le(j);return fe.encodeByteArray(U,!0)},ce=function(j){return ie(j).replace(/\./g,"")},de=function(j){try{return fe.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function G(j){return $(void 0,j)}function $(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const q in U)!U.hasOwnProperty(q)||!te(q)||(j[q]=$(j[q],U[q]));return j}function te(j){return"__proto__"!==j}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function Le(){return"object"==typeof self&&self.self===self}function he(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ze(){const j=Pe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function ge(){return!1}function Ne(){try{return"object"==typeof indexedDB}catch(j){return!1}}function Be(){return new Promise((j,U)=>{try{let q=!0;const be="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(be);oe.onsuccess=()=>{oe.result.close(),q||self.indexedDB.deleteDatabase(be),j(!0)},oe.onupgradeneeded=()=>{q=!1},oe.onerror=()=>{var qe;U((null===(qe=oe.error)||void 0===qe?void 0:qe.message)||"")}}catch(q){U(q)}})}function z(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const me=()=>{try{return function ve(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if("undefined"==typeof document)return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(q){return}const U=j&&de(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},nt=()=>{var j;return null===(j=me())||void 0===j?void 0:j.config},Ht=j=>{var U;return null===(U=me())||void 0===U?void 0:U[`_${j}`]};class St{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,q)=>{this.resolve=U,this.reject=q})}wrapCallback(U){return(q,be)=>{q?this.reject(q):this.resolve(be),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(q):U(q,be))}}}function Ge(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=U||"demo-project",oe=j.iat||0,qe=j.sub||j.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:oe,exp:oe+3600,auth_time:oe,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(bt)),""].join(".")}class an extends Error{constructor(U,q,be){super(q),this.code=U,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,an.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(U,q,be){this.service=U,this.serviceName=q,this.errors=be}create(U,...q){const be=q[0]||{},oe=`${this.service}/${U}`,qe=this.errors[U],bt=qe?function $t(j,U){return j.replace(yi,(q,be)=>{const oe=U[be];return null!=oe?String(oe):`<${be}?>`})}(qe,be):"Error";return new an(oe,`${this.serviceName}: ${bt} (${oe}).`,be)}}const yi=/\{\$([^}]+)}/g;function Lt(j){return JSON.parse(j)}function kt(j){return JSON.stringify(j)}const Li=function(j){let U={},q={},be={},oe="";try{const qe=j.split(".");U=Lt(de(qe[0])||""),q=Lt(de(qe[1])||""),oe=qe[2],be=q.d||{},delete q.d}catch(qe){}return{header:U,claims:q,data:be,signature:oe}},bi=function(j){const q=Li(j).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},br=function(j){const U=Li(j).claims;return"object"==typeof U&&!0===U.admin};function $r(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function Bi(j,U){if(Object.prototype.hasOwnProperty.call(j,U))return j[U]}function ar(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function ut(j,U,q){const be={};for(const oe in j)Object.prototype.hasOwnProperty.call(j,oe)&&(be[oe]=U.call(q,j[oe],oe,j));return be}function Ci(j,U){if(j===U)return!0;const q=Object.keys(j),be=Object.keys(U);for(const oe of q){if(!be.includes(oe))return!1;const qe=j[oe],bt=U[oe];if(_n(qe)&&_n(bt)){if(!Ci(qe,bt))return!1}else if(qe!==bt)return!1}for(const oe of be)if(!q.includes(oe))return!1;return!0}function _n(j){return null!==j&&"object"==typeof j}function us(j){const U=[];for(const[q,be]of Object.entries(j))Array.isArray(be)?be.forEach(oe=>{U.push(encodeURIComponent(q)+"="+encodeURIComponent(oe))}):U.push(encodeURIComponent(q)+"="+encodeURIComponent(be));return U.length?"&"+U.join("&"):""}function Cr(j){const U={};return j.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[oe,qe]=be.split("=");U[decodeURIComponent(oe)]=decodeURIComponent(qe)}}),U}function Un(j){const U=j.indexOf("?");if(!U)return"";const q=j.indexOf("#",U);return j.substring(U,q>0?q:void 0)}class xn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,q){q||(q=0);const be=this.W_;if("string"==typeof U)for(let pt=0;pt<16;pt++)be[pt]=U.charCodeAt(q)<<24|U.charCodeAt(q+1)<<16|U.charCodeAt(q+2)<<8|U.charCodeAt(q+3),q+=4;else for(let pt=0;pt<16;pt++)be[pt]=U[q]<<24|U[q+1]<<16|U[q+2]<<8|U[q+3],q+=4;for(let pt=16;pt<80;pt++){const cn=be[pt-3]^be[pt-8]^be[pt-14]^be[pt-16];be[pt]=4294967295&(cn<<1|cn>>>31)}let Kt,Hn,oe=this.chain_[0],qe=this.chain_[1],bt=this.chain_[2],Xt=this.chain_[3],jt=this.chain_[4];for(let pt=0;pt<80;pt++){pt<40?pt<20?(Kt=Xt^qe&(bt^Xt),Hn=1518500249):(Kt=qe^bt^Xt,Hn=1859775393):pt<60?(Kt=qe&bt|Xt&(qe|bt),Hn=2400959708):(Kt=qe^bt^Xt,Hn=3395469782);const cn=(oe<<5|oe>>>27)+Kt+jt+Hn+be[pt]&4294967295;jt=Xt,Xt=bt,bt=4294967295&(qe<<30|qe>>>2),qe=oe,oe=cn}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+qe&4294967295,this.chain_[2]=this.chain_[2]+bt&4294967295,this.chain_[3]=this.chain_[3]+Xt&4294967295,this.chain_[4]=this.chain_[4]+jt&4294967295}update(U,q){if(null==U)return;void 0===q&&(q=U.length);const be=q-this.blockSize;let oe=0;const qe=this.buf_;let bt=this.inbuf_;for(;oe<q;){if(0===bt)for(;oe<=be;)this.compress_(U,oe),oe+=this.blockSize;if("string"==typeof U){for(;oe<q;)if(qe[bt]=U.charCodeAt(oe),++bt,++oe,bt===this.blockSize){this.compress_(qe),bt=0;break}}else for(;oe<q;)if(qe[bt]=U[oe],++bt,++oe,bt===this.blockSize){this.compress_(qe),bt=0;break}}this.inbuf_=bt,this.total_+=q}digest(){const U=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&q,q/=256;this.compress_(this.buf_);let be=0;for(let oe=0;oe<5;oe++)for(let qe=24;qe>=0;qe-=8)U[be]=this.chain_[oe]>>qe&255,++be;return U}}function Wi(j,U){const q=new Vs(j,U);return q.subscribe.bind(q)}class Vs{constructor(U,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{U(this)}).catch(be=>{this.error(be)})}next(U){this.forEachObserver(q=>{q.next(U)})}error(U){this.forEachObserver(q=>{q.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,q,be){let oe;if(void 0===U&&void 0===q&&void 0===be)throw new Error("Missing Observer.");oe=function tt(j,U){if("object"!=typeof j||null===j)return!1;for(const q of U)if(q in j&&"function"==typeof j[q])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:q,complete:be},void 0===oe.next&&(oe.next=dt),void 0===oe.error&&(oe.error=dt),void 0===oe.complete&&(oe.complete=dt);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch(bt){}}),this.observers.push(oe),qe}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,U)}sendOne(U,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{q(this.observers[U])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dt(){}const oi=function(j,U,q,be){let oe;if(be<U?oe="at least "+U:be>q&&(oe=0===q?"none":"no more than "+q),oe)throw new Error(j+" failed: Was called with "+be+(1===be?" argument.":" arguments.")+" Expects "+oe+".")};function ai(j,U){return`${j} failed: ${U} argument `}function ds(j,U,q,be){if((!be||q)&&"function"!=typeof q)throw new Error(ai(j,U)+"must be a valid function.")}function li(j,U,q,be){if((!be||q)&&("object"!=typeof q||null===q))throw new Error(ai(j,U)+"must be a valid context object.")}const ci=function(j){const U=[];let q=0;for(let be=0;be<j.length;be++){let oe=j.charCodeAt(be);if(oe>=55296&&oe<=56319){const qe=oe-55296;be++,J(be<j.length,"Surrogate pair missing trail surrogate."),oe=65536+(qe<<10)+(j.charCodeAt(be)-56320)}oe<128?U[q++]=oe:oe<2048?(U[q++]=oe>>6|192,U[q++]=63&oe|128):oe<65536?(U[q++]=oe>>12|224,U[q++]=oe>>6&63|128,U[q++]=63&oe|128):(U[q++]=oe>>18|240,U[q++]=oe>>12&63|128,U[q++]=oe>>6&63|128,U[q++]=63&oe|128)}return U},st=function(j){let U=0;for(let q=0;q<j.length;q++){const be=j.charCodeAt(q);be<128?U++:be<2048?U+=2:be>=55296&&be<=56319?(U+=4,q++):U+=3}return U};function He(j,U=1e3,q=2){const be=U*Math.pow(q,j),oe=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+oe)}function Ft(j){return j&&j._delegate?j._delegate:j}},2821:(Ye,ye,F)=>{var l=F(5e3);let J=null;function P(){return J}const ie=new l.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function de(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const G=new l.OlP("Location Initialized");let $=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){te()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){te()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Pe(){return new $((0,l.LFG)(ie))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function we(n){const t=(0,l.LFG)(ie).location;return new ze((0,l.LFG)(ce),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ue=new l.OlP("appBaseHref");let ze=(()=>{class n extends he{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Le(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,c){const d=this.prepareExternalUrl(r+Le(c));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,c){const d=this.prepareExternalUrl(r+Le(c));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce),l.LFG(Ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends he{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,c){let d=this.prepareExternalUrl(r+Le(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,c){let d=this.prepareExternalUrl(r+Le(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ce),l.LFG(Ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ge=(()=>{class n{constructor(e,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Me(Be(r)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Le(i))}normalize(e){return n.stripTrailingSlash(function Ne(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Be(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Le,n.joinWithSlash=xe,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(l.LFG(he),l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(){return new ge((0,l.LFG)(he),(0,l.LFG)(ce))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}let cr=(()=>{class n{constructor(e,i,r,c){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class fs{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,c,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new fs(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===c?void 0:c);else if(null!==c){const p=i.get(c);i.move(p,d),js(p,r)}});for(let r=0,c=i.length;r<c;r++){const p=i.get(r).context;p.index=r,p.count=c,p.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{js(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function js(n,t){n.context.$implicit=t.item}let In=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ol("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ol("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class tn{constructor(){this.$implicit=null,this.ngIf=null}}function ol(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class Ca{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ei=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ur=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ca(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ei,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Mo=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,c]=e.split(".");null!=(i=null!=i&&c?`${i}${c}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),bu=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=l.Yjl({name:"json",type:n,pure:!1}),n})(),_s=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const $s="browser";function bn(n){return n===$s}function dr(n){return"server"===n}let cc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Fo((0,l.LFG)(ie),window)}),n})();class Fo{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Sr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const c=r.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],r-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=uc(this.window.history)||uc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function uc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zs extends class Ea extends class fe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){J||(J=n)}(new zs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Da(){return Yt=Yt||document.querySelector("base"),Yt?Yt.getAttribute("href"):null}();return null==e?null:function ys(n){cl=cl||document.createElement("a"),cl.setAttribute("href",n);const t=cl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Yt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ba(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let cl,Yt=null;const Yn=new l.OlP("TRANSITION_ID"),yn=[{provide:l.ip1,useFactory:function dc(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<r.length;c++)i.remove(r[c])})}},deps:[Yn,ie,l.zs3],multi:!0}];class Ir{static init(){(0,l.VLi)(new Ir)}addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const c=t.findTestabilityInTree(i,r);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let c=r.length,d=!1;const p=function(v){d=d||v,c--,0==c&&i(d)};r.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let ti=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ws=new l.OlP("EventManagerPlugins");let qr=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let c=0;c<r.length;c++){const d=r[c];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ws),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class xa{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let hr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Tr=(()=>{class n extends hr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(c=>{const d=this._doc.createElement("style");d.textContent=c,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Po),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Po))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Po(n){P().remove(n)}const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vs=/%COMP%/g;function No(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?No(n,r,e):(r=r.replace(vs,n),e.push(r))}return e}function Ae(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ys=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new un(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new qi(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new gc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=No(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qr),l.LFG(Tr),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class un{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ht[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const c=ht[r];c?t.setAttributeNS(c,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ht[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ae(i)):this.eventManager.addEventListener(t,e,Ae(i))}}class qi extends un{constructor(t,e,i,r){super(t),this.component=i;const c=No(r+"-"+i.id,i.styles,[]);e.addStyles(c),this.contentAttr=function dl(n){return"_ngcontent-%COMP%".replace(vs,n)}(r+"-"+i.id),this.hostAttr=function pc(n){return"_nghost-%COMP%".replace(vs,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class gc extends un{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=No(r.id,r.styles,[]);for(let d=0;d<c.length;d++){const p=document.createElement("style");p.textContent=c[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mc=(()=>{class n extends xa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _c=["alt","control","meta","shift"],Gf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Zi=(()=>{class n extends xa{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const c=n.parseEventName(i),d=n.eventCallback(c.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const c=n._normalizeKey(i.pop());let d="";if(_c.forEach(v=>{const D=i.indexOf(v);D>-1&&(i.splice(D,1),d+=v+".")}),d+=c,0!=i.length||0===c.length)return null;const p={};return p.domEventName=r,p.fullKey=d,p}static getEventFullKey(e){let i="",r=function fl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Zr.hasOwnProperty(t)&&(t=Zr[t]))}return Gf[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_c.forEach(c=>{c!=r&&hi[c](e)&&(i+=c+".")}),i+=r,i}static eventCallback(e,i,r){return c=>{n.getEventFullKey(c)===e&&r.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:$s},{provide:l.g9A,useValue:function bs(){zs.makeCurrent(),Ir.init()},multi:!0},{provide:ie,useFactory:function yc(){return(0,l.RDi)(document),document},deps:[]}]),vc=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function fr(){return new l.qLn},deps:[]},{provide:Ws,useClass:mc,multi:!0,deps:[ie,l.R0b,l.Lbi]},{provide:Ws,useClass:Zi,multi:!0,deps:[ie]},{provide:Ys,useClass:Ys,deps:[qr,Tr,l.AFp]},{provide:l.FYo,useExisting:Ys},{provide:hr,useExisting:Tr},{provide:Tr,useClass:Tr,deps:[ie]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:qr,useClass:qr,deps:[Ws,l.R0b]},{provide:class nn{},useClass:ti,deps:[]}];let Lo=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Yn,useExisting:l.AFp},yn]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:vc,imports:[_s,l.hGG]}),n})();"undefined"!=typeof window&&window;var Fn=F(8996),Uo=F(3269);function Ke(...n){const t=(0,Uo.yG)(n);return(0,Fn.D)(n,t)}var xt=F(7579);class Zn extends xt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var ln=F(8306);const{isArray:Ta}=Array,{getPrototypeOf:Pu,prototype:Ho,keys:Cs}=Object;function Tn(n){if(1===n.length){const t=n[0];if(Ta(t))return{args:t,keys:null};if(function ws(n){return n&&"object"==typeof n&&Pu(n)===Ho}(t)){const e=Cs(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var pr=F(4671),wt=F(4004);const{isArray:Nu}=Array;function Cl(n){return(0,wt.U)(t=>function Lu(n,t){return Nu(t)?n(...t):n(t)}(n,t))}function Ma(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var wn=F(5403),Rr=F(9672);function Js(...n){const t=(0,Uo.yG)(n),e=(0,Uo.jO)(n),{args:i,keys:r}=Tn(n);if(0===i.length)return(0,Fn.D)([],t);const c=new ln.y(function Qr(n,t,e=pr.y){return i=>{Es(t,()=>{const{length:r}=n,c=new Array(r);let d=r,p=r;for(let v=0;v<r;v++)Es(t,()=>{const D=(0,Fn.D)(n[v],t);let T=!1;D.subscribe((0,wn.x)(i,O=>{c[v]=O,T||(T=!0,p--),p||i.next(e(c.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>Ma(r,d):pr.y));return e?c.pipe(Cl(e)):c}function Es(n,t,e){n?(0,Rr.f)(e,n,t):t()}var Kn=F(576);function jo(n,t){const e=(0,Kn.m)(n)?n:()=>n,i=r=>r.error(e());return new ln.y(t?r=>t.schedule(i,0,r):i)}const eo=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var to=F(8189);function Oa(...n){return function Go(){return(0,to.J)(1)}()((0,Fn.D)(n,(0,Uo.yG)(n)))}var Xr=F(8421);function $o(n){return new ln.y(t=>{(0,Xr.Xf)(n()).subscribe(t)})}var Hi=F(515),Or=F(727),En=F(4482);function Cc(){return(0,En.e)((n,t)=>{let e=null;n._refCount++;const i=(0,wn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,c=e;e=null,r&&(!c||r===c)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class xi extends ln.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,En.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Or.w0;const e=this.getSubject();t.add(this.source.subscribe((0,wn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Or.w0.EMPTY)}return t}refCount(){return Cc()(this)}}function Mn(n,t){return(0,En.e)((e,i)=>{let r=null,c=0,d=!1;const p=()=>d&&!r&&i.complete();e.subscribe((0,wn.x)(i,v=>{null==r||r.unsubscribe();let D=0;const T=c++;(0,Xr.Xf)(n(v,T)).subscribe(r=(0,wn.x)(i,O=>i.next(t?t(v,O,T,D++):O),()=>{r=null,p()}))},()=>{d=!0,p()}))})}function Ai(n){return n<=0?()=>Hi.E:(0,En.e)((t,e)=>{let i=0;t.subscribe((0,wn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function gr(...n){const t=(0,Uo.yG)(n);return(0,En.e)((e,i)=>{(t?Oa(n,e,t):Oa(n,e)).subscribe(i)})}function Ds(n,t,e,i,r){return(c,d)=>{let p=e,v=t,D=0;c.subscribe((0,wn.x)(d,T=>{const O=D++;v=p?n(v,T,O):(p=!0,T),i&&d.next(v)},r&&(()=>{p&&d.next(v),d.complete()})))}}function kr(n,t){return(0,En.e)(Ds(n,t,arguments.length>=2,!0))}function qt(n,t){return(0,En.e)((e,i)=>{let r=0;e.subscribe((0,wn.x)(i,c=>n.call(t,c,r++)&&i.next(c)))})}function Si(n){return(0,En.e)((t,e)=>{let c,i=null,r=!1;i=t.subscribe((0,wn.x)(e,void 0,void 0,d=>{c=(0,Xr.Xf)(n(d,Si(n)(t))),i?(i.unsubscribe(),i=null,c.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,c.subscribe(e))})}var Pn=F(5577);function Fr(n,t){return(0,Kn.m)(t)?(0,Pn.z)(n,t,1):(0,Pn.z)(n,1)}function Bu(n){return n<=0?()=>Hi.E:(0,En.e)((t,e)=>{let i=[];t.subscribe((0,wn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function wc(n=vn){return(0,En.e)((t,e)=>{let i=!1;t.subscribe((0,wn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function vn(){return new eo}function Vu(n){return(0,En.e)((t,e)=>{let i=!1;t.subscribe((0,wn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ka(n,t){const e=arguments.length>=2;return i=>i.pipe(n?qt((r,c)=>n(r,c,i)):pr.y,Ai(1),e?Vu(t):wc(()=>new eo))}var Ki=F(8505);class no{constructor(t,e){this.id=t,this.url=e}}class Xd extends no{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jr extends no{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hu extends no{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rn extends no{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zo extends no{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa extends no{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ju extends no{constructor(t,e,i,r,c){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jd extends no{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ii extends no{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pa{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ec{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class io{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ro{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rt="primary";class Gu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function es(n){return new Gu(n)}const Gn="ngNavigationCancelingError";function xs(n){const t=Error("NavigationCancelingError: "+n);return t[Gn]=!0,t}function $u(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let c=0;c<i.length;c++){const d=i[c],p=n[c];if(d.startsWith(":"))r[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ts(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let c=0;c<e.length;c++)if(r=e[c],!Dc(n[r],t[r]))return!1;return!0}function Dc(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,c)=>i[c]===r)}return n===t}function eh(n){return Array.prototype.concat.apply([],n)}function El(n){return n.length>0?n[n.length-1]:null}function dn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Qn(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Fn.D)(Promise.resolve(n)):Ke(n)}const qf={exact:function th(n,t,e){if(!V(n.segments,t.segments)||!Sl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!th(n.children[i],t.children[i],e))return!1;return!0},subset:xl},Mi={exact:function Qi(n,t){return ts(n,t)},subset:function Wu(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Dc(n[e],t[e]))},ignored:()=>!0};function qo(n,t,e){return qf[e.paths](n.root,t.root,e.matrixParams)&&Mi[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function xl(n,t,e){return Al(n,t,t.segments,e)}function Al(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!V(r,e)||t.hasChildren()||!Sl(r,e,i))}if(n.segments.length===e.length){if(!V(n.segments,e)||!Sl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!xl(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(V(n.segments,r)&&Sl(n.segments,r,i)&&n.children[Rt])&&Al(n.children[Rt],t,c,i)}}function Sl(n,t,e){return t.every((i,r)=>Mi[e](n[r].parameters,i.parameters))}class Pr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return Ze.serialize(this)}}class w{constructor(t,e){this.segments=t,this.children=e,this.parent=null,dn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qe(this)}}class x{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=es(this.parameters)),this._parameterMap}toString(){return ns(this)}}function V(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class re{}class Se{parse(t){const e=new Zf(t);return new Pr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${et(t.root,!0)}`,i=function Nr(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ot(e)}=${ot(r)}`).join("&"):`${ot(e)}=${ot(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function fi(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ze=new Se;function Qe(n){return n.segments.map(t=>ns(t)).join("/")}function et(n,t){if(!n.hasChildren())return Qe(n);if(t){const e=n.children[Rt]?et(n.children[Rt],!1):"",i=[];return dn(n.children,(r,c)=>{c!==Rt&&i.push(`${c}:${et(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Q(n,t){let e=[];return dn(n.children,(i,r)=>{r===Rt&&(e=e.concat(t(i,r)))}),dn(n.children,(i,r)=>{r!==Rt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Rt?[et(n.children[Rt],!1)]:[`${r}:${et(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${Qe(n)}/${e[0]}`:`${Qe(n)}/(${e.join("//")})`}}function Et(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ot(n){return Et(n).replace(/%3B/gi,";")}function hn(n){return Et(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ss(n){return decodeURIComponent(n)}function Zo(n){return Ss(n.replace(/\+/g,"%20"))}function ns(n){return`${hn(n.path)}${function Ri(n){return Object.keys(n).map(t=>`;${hn(t)}=${hn(n[t])}`).join("")}(n.parameters)}`}const Il=/^[^\/()?;=#]+/;function Yu(n){const t=n.match(Il);return t?t[0]:""}const Tl=/^[^=?&#]+/,nh=/^[^&#]+/;class Zf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new w([],{}):new w([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Rt]=new w(t,e)),i}parseSegment(){const t=Yu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new x(Ss(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Yu(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Yu(this.remaining);r&&(i=r,this.capture(i))}t[Ss(e)]=Ss(i)}parseQueryParam(t){const e=function xc(n){const t=n.match(Tl);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function wv(n){const t=n.match(nh);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=Zo(e),c=Zo(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(c)}else t[r]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Yu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let c;i.indexOf(":")>-1?(c=i.substr(0,i.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Rt);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[Rt]:new w([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ih{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Kf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Kf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ml(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ml(t,this._root).map(e=>e.value)}}function Kf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Kf(n,e);if(i)return i}return null}function Ml(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ml(n,e);if(i.length)return i.unshift(t),i}return[]}class so{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Rl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Qf extends ih{constructor(t,e){super(t),this.snapshot=e,Ac(this,t)}toString(){return this.snapshot.toString()}}function gm(n,t){const e=function Is(n,t){const d=new Na([],{},{},"",{},Rt,t,null,n.root,-1,{});return new Oi("",new so(d,[]))}(n,t),i=new Zn([new x("",{})]),r=new Zn({}),c=new Zn({}),d=new Zn({}),p=new Zn(""),v=new Ko(i,r,d,p,c,Rt,t,e.root);return v.snapshot=e.root,new Qf(new so(v,[]),e)}class Ko{constructor(t,e,i,r,c,d,p,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=c,this.outlet=d,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(t=>es(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(t=>es(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xf(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],c=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(c.component)break;i--}}return function mm(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Na{constructor(t,e,i,r,c,d,p,v,D,T,O){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=c,this.outlet=d,this.component=p,this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=T,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=es(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=es(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Oi extends ih{constructor(t,e){super(e),this.url=t,Ac(this,e)}toString(){return rh(this._root)}}function Ac(n,t){t.value._routerState=n,t.children.forEach(e=>Ac(n,e))}function rh(n){const t=n.children.length>0?` { ${n.children.map(rh).join(", ")} } `:"";return`${n.value}${t}`}function qu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ts(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ts(t.params,e.params)||n.params.next(e.params),function Yo(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ts(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ts(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ni(n,t){const e=ts(n.params,t.params)&&function M(n,t){return V(n,t)&&n.every((e,i)=>ts(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ni(n.parent,t.parent))}function La(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function _m(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return La(n,i,r);return La(n,i)})}(n,t,e);return new so(i,r)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(p=>La(n,p)),d}}const i=function ym(n){return new Ko(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(c=>La(n,c));return new so(i,r)}}function kl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fl(n){return"object"==typeof n&&null!=n&&n.outlets}function Sc(n,t,e,i,r){let c={};if(i&&dn(i,(p,v)=>{c[v]=Array.isArray(p)?p.map(D=>`${D}`):`${p}`}),n===t)return new Pr(e,c,r);const d=sh(n,t,e);return new Pr(d,c,r)}function sh(n,t,e){const i={};return dn(n.children,(r,c)=>{i[c]=r===t?e:sh(r,t,e)}),new w(n.segments,i)}class oh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&kl(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Fl);if(r&&r!==El(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ba{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Pl(n,t,e){if(n||(n=new w([],{})),0===n.segments.length&&n.hasChildren())return Ic(n,t,e);const i=function tp(n,t,e){let i=0,r=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return c;const d=n.segments[r],p=e[i];if(Fl(p))break;const v=`${p}`,D=i<e.length-1?e[i+1]:null;if(r>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!bm(v,D,d))return c;i+=2}else{if(!bm(v,{},d))return c;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const c=new w(n.segments.slice(0,i.pathIndex),{});return c.children[Rt]=new w(n.segments.slice(i.pathIndex),n.children),Ic(c,0,r)}return i.match&&0===r.length?new w(n.segments,{}):i.match&&!n.hasChildren()?Tc(n,t,e):i.match?Ic(n,0,r):Tc(n,t,e)}function Ic(n,t,e){if(0===e.length)return new w(n.segments,{});{const i=function lh(n){return Fl(n[0])?n[0].outlets:{[Rt]:n}}(e),r={};return dn(i,(c,d)=>{"string"==typeof c&&(c=[c]),null!==c&&(r[d]=Pl(n.children[d],t,c))}),dn(n.children,(c,d)=>{void 0===i[d]&&(r[d]=c)}),new w(n.segments,r)}}function Tc(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const c=e[r];if(Fl(c)){const v=ch(c.outlets);return new w(i,v)}if(0===r&&kl(e[0])){i.push(new x(n.segments[t].path,Zu(e[0]))),r++;continue}const d=Fl(c)?c.outlets[Rt]:`${c}`,p=r<e.length-1?e[r+1]:null;d&&p&&kl(p)?(i.push(new x(d,Zu(p))),r+=2):(i.push(new x(d,{})),r++)}return new w(i,{})}function ch(n){const t={};return dn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Tc(new w([],{}),0,e))}),t}function Zu(n){const t={};return dn(n,(e,i)=>t[i]=`${e}`),t}function bm(n,t,e){return n==e.path&&ts(t,e.parameters)}class oo{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),qu(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Rl(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,r[d],i),delete r[d]}),dn(r,(c,d)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(t,e,i){const r=t.value,c=e?e.value:null;if(r===c)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,c=Rl(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],r);if(i&&i.outlet){const d=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,c=Rl(t);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Rl(e);t.children.forEach(c=>{this.activateRoutes(c,r[c.value.outlet],i),this.forwardEvent(new ro(c.value.snapshot))}),t.children.length&&this.forwardEvent(new io(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,c=e?e.value:null;if(qu(r),r===c)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const p=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),qu(p.route.value),this.activateChildRoutes(t,null,d.children)}else{const p=function np(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),v=p?p.module.componentFactoryResolver:null;d.attachRef=null,d.route=r,d.resolver=v,d.outlet&&d.outlet.activateWith(r,v),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class uh{constructor(t,e){this.routes=t,this.module=e}}function Lr(n){return"function"==typeof n}function ao(n){return n instanceof Pr}const Nl=Symbol("INITIAL_VALUE");function lo(){return Mn(n=>Js(n.map(t=>t.pipe(Ai(1),gr(Nl)))).pipe(kr((t,e)=>{let i=!1;return e.reduce((r,c,d)=>r!==Nl?r:(c===Nl&&(i=!0),i||!1!==c&&d!==e.length-1&&!ao(c)?r:c),t)},Nl),qt(t=>t!==Nl),(0,wt.U)(t=>ao(t)?t:!0===t),Ai(1)))}class ip{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Va,this.attachRef=null}}class Va{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ip,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let hh=(()=>{class n{constructor(e,i,r,c,d){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=c||Rt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const d=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new xm(e,p,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Va),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class xm{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ko?this.route:t===Va?this.childContexts:this.parent.get(t,e)}}let fh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[hh],encapsulation:2}),n})();function Ku(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];co(i,rp(t,i))}}function co(n,t){n.children&&Ku(n.children,t)}function rp(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Qu(n){const t=n.children&&n.children.map(Qu),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rt&&(e.component=fh),e}function Xi(n){return n.outlet||Rt}function Ua(n,t){const e=n.filter(i=>Xi(i)===t);return e.push(...n.filter(i=>Xi(i)!==t)),e}const sp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rc(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},sp):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const c=(t.matcher||$u)(e,n,t);if(!c)return Object.assign({},sp);const d={};dn(c.posParams,(v,D)=>{d[D]=v.path});const p=c.consumed.length>0?Object.assign(Object.assign({},d),c.consumed[c.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:c.consumed,remainingSegments:e.slice(c.consumed.length),parameters:p,positionalParamSegments:null!==(i=c.posParams)&&void 0!==i?i:{}}}function Qo(n,t,e,i,r="corrected"){if(e.length>0&&function ap(n,t,e){return e.some(i=>Ha(n,t,i)&&Xi(i)!==Rt)}(n,e,i)){const d=new w(t,function ph(n,t,e,i){const r={};r[Rt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Xi(c)!==Rt){const d=new w([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[Xi(c)]=d}return r}(n,t,i,new w(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function Oc(n,t,e){return e.some(i=>Ha(n,t,i))}(n,e,i)){const d=new w(n.segments,function op(n,t,e,i,r,c){const d={};for(const p of i)if(Ha(n,e,p)&&!r[Xi(p)]){const v=new w([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===c?n.segments.length:t.length,d[Xi(p)]=v}return Object.assign(Object.assign({},r),d)}(n,t,e,i,n.children,r));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const c=new w(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function Ha(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function gh(n,t,e,i){return!!(Xi(n)===i||i!==Rt&&Ha(t,e,n))&&("**"===n.path||Rc(t,n,e).matched)}function Xu(n,t,e){return 0===t.length&&!n.children[e]}class Ll{constructor(t){this.segmentGroup=t||null}}class Xo{constructor(t){this.urlTree=t}}function uo(n){return jo(new Ll(n))}function mh(n){return jo(new Xo(n))}class cp{constructor(t,e,i,r,c){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=Qo(this.urlTree.root,[],[],this.config).segmentGroup,e=new w(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Rt).pipe((0,wt.U)(c=>this.createUrlTree(Jo(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Si(c=>{if(c instanceof Xo)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Ll?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Rt).pipe((0,wt.U)(r=>this.createUrlTree(Jo(r),t.queryParams,t.fragment))).pipe(Si(r=>{throw r instanceof Ll?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new w([],{[Rt]:t}):t;return new Pr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,wt.U)(c=>new w([],c))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const c of Object.keys(i.children))"primary"===c?r.unshift(c):r.push(c);return(0,Fn.D)(r).pipe(Fr(c=>{const d=i.children[c],p=Ua(e,c);return this.expandSegmentGroup(t,p,d,c).pipe((0,wt.U)(v=>({segment:v,outlet:c})))}),kr((c,d)=>(c[d.outlet]=d.segment,c),{}),function Uu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?qt((r,c)=>n(r,c,i)):pr.y,Bu(1),e?Vu(t):wc(()=>new eo))}())}expandSegment(t,e,i,r,c,d){return(0,Fn.D)(i).pipe(Fr(p=>this.expandSegmentAgainstRoute(t,e,i,p,r,c,d).pipe(Si(D=>{if(D instanceof Ll)return Ke(null);throw D}))),ka(p=>!!p),Si((p,v)=>{if(p instanceof eo||"EmptyError"===p.name)return Xu(e,r,c)?Ke(new w([],{})):uo(e);throw p}))}expandSegmentAgainstRoute(t,e,i,r,c,d,p){return gh(r,e,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,c,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d):uo(e):uo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?mh(c):this.lineralizeSegments(i,c).pipe((0,Pn.z)(d=>{const p=new w(d,{});return this.expandSegment(t,p,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d){const{matched:p,consumedSegments:v,remainingSegments:D,positionalParamSegments:T}=Rc(e,r,c);if(!p)return uo(e);const O=this.applyRedirectCommands(v,r.redirectTo,T);return r.redirectTo.startsWith("/")?mh(O):this.lineralizeSegments(r,O).pipe((0,Pn.z)(B=>this.expandSegment(t,e,i,B.concat(D),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,c){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ke(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,wt.U)(O=>(i._loadedConfig=O,new w(r,{})))):Ke(new w(r,{}));const{matched:d,consumedSegments:p,remainingSegments:v}=Rc(e,i,r);return d?this.getChildConfig(t,i,r).pipe((0,Pn.z)(T=>{const O=T.module,B=T.routes,{segmentGroup:K,slicedSegments:ne}=Qo(e,p,v,B),Ce=new w(K.segments,K.children);if(0===ne.length&&Ce.hasChildren())return this.expandChildren(O,B,Ce).pipe((0,wt.U)(Gt=>new w(p,Gt)));if(0===B.length&&0===ne.length)return Ke(new w(p,{}));const Fe=Xi(i)===c;return this.expandSegment(O,Ce,B,ne,Fe?Rt:c,!0).pipe((0,wt.U)(gt=>new w(p.concat(gt.segments),gt.children)))})):uo(e)}getChildConfig(t,e,i){return e.children?Ke(new uh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ke(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Pn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,wt.U)(c=>(e._loadedConfig=c,c))):function Am(n){return jo(xs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Ke(new uh([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?Ke(r.map(d=>{const p=t.get(d);let v;if(function wm(n){return n&&Lr(n.canLoad)}(p))v=p.canLoad(e,i);else{if(!Lr(p))throw new Error("Invalid CanLoad guard");v=p(e,i)}return Qn(v)})).pipe(lo(),(0,Ki.b)(d=>{if(!ao(d))return;const p=xs(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw p.url=d,p}),(0,wt.U)(d=>!0===d)):Ke(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ke(i);if(r.numberOfChildren>1||!r.children[Rt])return jo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Rt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const c=this.createSegmentGroup(t,e.root,i,r);return new Pr(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return dn(t,(r,c)=>{if("string"==typeof r&&r.startsWith(":")){const p=r.substring(1);i[c]=e[p]}else i[c]=r}),i}createSegmentGroup(t,e,i,r){const c=this.createSegments(t,e.segments,i,r);let d={};return dn(e.children,(p,v)=>{d[v]=this.createSegmentGroup(t,p,i,r)}),new w(c,d)}createSegments(t,e,i,r){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,r):this.findOrReturn(c,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Jo(n){const t={};for(const i of Object.keys(n.children)){const c=Jo(n.children[i]);(c.segments.length>0||c.hasChildren())&&(t[i]=c)}return function Ju(n){if(1===n.numberOfChildren&&n.children[Rt]){const t=n.children[Rt];return new w(n.segments.concat(t.segments),t.children)}return n}(new w(n.segments,t))}class ho{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ed{constructor(t,e){this.component=t,this.route=e}}function _h(n,t,e){const i=n._root;return ta(i,t?t._root:null,e,[i.value])}function ki(n,t,e){const i=function ea(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function ta(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const c=Rl(t);return n.children.forEach(d=>{(function up(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const v=function td(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!V(n.url,t.url);case"pathParamsOrQueryParamsChange":return!V(n.url,t.url)||!ts(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ni(n,t)||!ts(n.queryParams,t.queryParams);default:return!ni(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new ho(i)):(c.data=d.data,c._resolvedData=d._resolvedData),ta(n,t,c.component?p?p.children:null:e,i,r),v&&p&&p.outlet&&p.outlet.isActivated&&r.canDeactivateChecks.push(new ed(p.outlet.component,d))}else d&&na(t,p,r),r.canActivateChecks.push(new ho(i)),ta(n,null,c.component?p?p.children:null:e,i,r)})(d,c[d.value.outlet],e,i.concat([d.value]),r),delete c[d.value.outlet]}),dn(c,(d,p)=>na(d,e.getContext(p),r)),r}function na(n,t,e){const i=Rl(n),r=n.value;dn(i,(c,d)=>{na(c,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new ed(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class yh{}function ji(n){return new ln.y(t=>t.error(n))}class bh{constructor(t,e,i,r,c,d){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d}recognize(){const t=Qo(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Rt);if(null===e)return null;const i=new Na([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new so(i,e),c=new Oi(this.url,r);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,i=Xf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const c of Object.keys(e.children)){const d=e.children[c],p=Ua(t,c),v=this.processSegmentGroup(p,d,c);if(null===v)return null;i.push(...v)}const r=Ch(i);return function Mm(n){n.sort((t,e)=>t.value.outlet===Rt?-1:e.value.outlet===Rt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const c of t){const d=this.processSegmentAgainstRoute(c,e,i,r);if(null!==d)return d}return Xu(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!gh(t,e,i,r))return null;let c,d=[],p=[];if("**"===t.path){const K=i.length>0?El(i).parameters:{};c=new Na(i,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Om(t),Xi(t),t.component,t,fp(e),nd(e)+i.length,pp(t))}else{const K=Rc(e,t,i);if(!K.matched)return null;d=K.consumedSegments,p=K.remainingSegments,c=new Na(d,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Om(t),Xi(t),t.component,t,fp(e),nd(e)+d.length,pp(t))}const v=function po(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:D,slicedSegments:T}=Qo(e,d,p,v.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);if(0===T.length&&D.hasChildren()){const K=this.processChildren(v,D);return null===K?null:[new so(c,K)]}if(0===v.length&&0===T.length)return[new so(c,[])];const O=Xi(t)===r,B=this.processSegment(v,D,T,O?Rt:r);return null===B?null:[new so(c,B)]}}function Vl(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ch(n){const t=[],e=new Set;for(const i of n){if(!Vl(i)){t.push(i);continue}const r=t.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Ch(i.children);t.push(new so(i.value,r))}return t.filter(i=>!e.has(i))}function fp(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function nd(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Om(n){return n.data||{}}function pp(n){return n.resolve||{}}function g(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function S(n){return Mn(t=>{const e=n(t);return e?(0,Fn.D)(e).pipe((0,wt.U)(()=>t)):Ke(t)})}class pe extends class W{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Oe=new l.OlP("ROUTES");class $e{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,wt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const d=c.create(t);return new uh(eh(d.injector.get(Oe,void 0,l.XFs.Self|l.XFs.Optional)).map(Qu),d)}),Si(c=>{throw e._loader$=void 0,c}));return e._loader$=new xi(r,()=>new xt.x).pipe(Cc()),e._loader$}loadModuleFactory(t){return Qn(t()).pipe((0,Pn.z)(e=>e instanceof l.YKP?Ke(e):(0,Fn.D)(this.compiler.compileModuleAsync(e))))}}class at{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ii(n){throw n}function Br(n,t,e){return t.parse("/")}function Pc(n,t){return Ke(null)}const mp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pi=(()=>{class n{constructor(e,i,r,c,d,p,v){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=c,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xt.x,this.errorHandler=ii,this.malformedUriErrorHandler=Br,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Pc,afterPreactivation:Pc},this.urlHandlingStrategy=new at,this.routeReuseStrategy=new pe,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(l.h0i),this.console=d.get(l.c2e);const O=d.get(l.R0b);this.isNgZoneEnabled=O instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Dl(){return new Pr(new w([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $e(d,p,B=>this.triggerEvent(new Ti(B)),B=>this.triggerEvent(new Pa(B))),this.routerState=gm(this.currentUrlTree,this.rootComponentType),this.transitions=new Zn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(qt(r=>0!==r.id),(0,wt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Mn(r=>{let c=!1,d=!1;return Ke(r).pipe((0,Ki.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mn(p=>{const v=this.browserUrlTree.toString(),D=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Ga(p.source)&&(this.browserUrlTree=p.extractedUrl),Ke(p).pipe(Mn(O=>{const B=this.transitions.getValue();return i.next(new Xd(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),B!==this.transitions.getValue()?Hi.E:Promise.resolve(O)}),function kc(n,t,e,i){return Mn(r=>function Sm(n,t,e,i,r){return new cp(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,wt.U)(c=>Object.assign(Object.assign({},r),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ki.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function Fc(n,t,e,i,r){return(0,Pn.z)(c=>function vh(n,t,e,i,r="emptyOnly",c="legacy"){try{const d=new bh(n,t,e,i,r,c).recognize();return null===d?ji(new yh):Ke(d)}catch(d){return ji(d)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),i,r).pipe((0,wt.U)(d=>Object.assign(Object.assign({},c),{targetSnapshot:d}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ki.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const K=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(K,O)}this.browserUrlTree=O.urlAfterRedirects}const B=new zo(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);i.next(B)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:K,source:ne,restoredState:Ce,extras:Fe}=p,Je=new Xd(B,this.serializeUrl(K),ne,Ce);i.next(Je);const gt=gm(K,this.rootComponentType).snapshot;return Ke(Object.assign(Object.assign({},p),{targetSnapshot:gt,urlAfterRedirects:K,extras:Object.assign(Object.assign({},Fe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),Hi.E}),S(p=>{const{targetSnapshot:v,id:D,extractedUrl:T,rawUrl:O,extras:{skipLocationChange:B,replaceUrl:K}}=p;return this.hooks.beforePreactivation(v,{navigationId:D,appliedUrlTree:T,rawUrlTree:O,skipLocationChange:!!B,replaceUrl:!!K})}),(0,Ki.b)(p=>{const v=new Fa(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,wt.U)(p=>Object.assign(Object.assign({},p),{guards:_h(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function ja(n,t){return(0,Pn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?Ke(Object.assign(Object.assign({},e),{guardsResult:!0})):function dp(n,t,e,i){return(0,Fn.D)(n).pipe((0,Pn.z)(r=>function Bl(n,t,e,i,r){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Ke(c.map(p=>{const v=ki(p,t,r);let D;if(function Dm(n){return n&&Lr(n.canDeactivate)}(v))D=Qn(v.canDeactivate(n,t,e,i));else{if(!Lr(v))throw new Error("Invalid CanDeactivate guard");D=Qn(v(n,t,e,i))}return D.pipe(ka())})).pipe(lo()):Ke(!0)}(r.component,r.route,e,t,i)),ka(r=>!0!==r,!0))}(d,i,r,n).pipe((0,Pn.z)(p=>p&&function Cm(n){return"boolean"==typeof n}(p)?function Im(n,t,e,i){return(0,Fn.D)(t).pipe(Fr(r=>Oa(function hp(n,t){return null!==n&&t&&t(new Ec(n)),Ke(!0)}(r.route.parent,i),function ia(n,t){return null!==n&&t&&t(new Wo(n)),Ke(!0)}(r.route,i),function fo(n,t,e){const i=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function Ev(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>$o(()=>Ke(d.guards.map(v=>{const D=ki(v,d.node,e);let T;if(function dh(n){return n&&Lr(n.canActivateChild)}(D))T=Qn(D.canActivateChild(i,n));else{if(!Lr(D))throw new Error("Invalid CanActivateChild guard");T=Qn(D(i,n))}return T.pipe(ka())})).pipe(lo())));return Ke(c).pipe(lo())}(n,r.path,e),function Tm(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ke(!0);const r=i.map(c=>$o(()=>{const d=ki(c,t,e);let p;if(function Em(n){return n&&Lr(n.canActivate)}(d))p=Qn(d.canActivate(t,n));else{if(!Lr(d))throw new Error("Invalid CanActivate guard");p=Qn(d(t,n))}return p.pipe(ka())}));return Ke(r).pipe(lo())}(n,r.route,e))),ka(r=>!0!==r,!0))}(i,c,n,t):Ke(p)),(0,wt.U)(p=>Object.assign(Object.assign({},e),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Ki.b)(p=>{if(ao(p.guardsResult)){const D=xs(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw D.url=p.guardsResult,D}const v=new ju(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),qt(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),S(p=>{if(p.guards.canActivateChecks.length)return Ke(p).pipe((0,Ki.b)(v=>{const D=new Jd(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),Mn(v=>{let D=!1;return Ke(v).pipe(function gp(n,t){return(0,Pn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ke(e);let c=0;return(0,Fn.D)(r).pipe(Fr(d=>function _(n,t,e,i){return function f(n,t,e,i){const r=g(n);if(0===r.length)return Ke({});const c={};return(0,Fn.D)(r).pipe((0,Pn.z)(d=>function b(n,t,e,i){const r=ki(n,t,i);return Qn(r.resolve?r.resolve(t,e):r(t,e))}(n[d],t,e,i).pipe((0,Ki.b)(p=>{c[d]=p}))),Bu(1),(0,Pn.z)(()=>g(c).length===r.length?Ke(c):Hi.E))}(n._resolve,n,t,i).pipe((0,wt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),Xf(n,e).resolve),null)))}(d.route,i,n,t)),(0,Ki.b)(()=>c++),Bu(1),(0,Pn.z)(d=>c===r.length?Ke(e):Hi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ki.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Ki.b)(v=>{const D=new Ii(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),S(p=>{const{targetSnapshot:v,id:D,extractedUrl:T,rawUrl:O,extras:{skipLocationChange:B,replaceUrl:K}}=p;return this.hooks.afterPreactivation(v,{navigationId:D,appliedUrlTree:T,rawUrlTree:O,skipLocationChange:!!B,replaceUrl:!!K})}),(0,wt.U)(p=>{const v=function Ol(n,t,e){const i=La(n,t._root,e?e._root:void 0);return new Qf(i,t)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),(0,Ki.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,wt.U)(i=>(new oo(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Ki.b)({next(){c=!0},complete(){c=!0}}),function Yf(n){return(0,En.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var p;c||d||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===r.id&&(this.currentNavigation=null)}),Si(p=>{if(d=!0,function As(n){return n&&n[Gn]}(p)){const v=ao(p.url);v||(this.navigated=!0,this.restoreHistory(r,!0));const D=new Hu(r.id,this.serializeUrl(r.extractedUrl),p.message);i.next(D),v?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),O={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ga(r.source)};this.scheduleNavigation(T,"imperative",null,O,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const v=new Rn(r.id,this.serializeUrl(r.extractedUrl),p);i.next(v);try{r.resolve(this.errorHandler(p))}catch(D){r.reject(D)}}return Hi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const c={replaceUrl:!0},d=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(d){const v=Object.assign({},d);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(c.state=v)}const p=this.parseUrl(e.url);this.scheduleNavigation(p,i,d,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ku(e),this.config=e.map(Qu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:c,fragment:d,queryParamsHandling:p,preserveFragment:v}=i,D=r||this.routerState.root,T=v?this.currentUrlTree.fragment:d;let O=null;switch(p){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=c||null}return null!==O&&(O=this.removeEmptyProps(O)),function Jf(n,t,e,i,r){if(0===e.length)return Sc(t.root,t.root,t.root,i,r);const c=function vm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new oh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const p={};return dn(c.outlets,(v,D)=>{p[D]="string"==typeof v?v.split("/"):v}),[...r,{outlets:p}]}if(c.segmentPath)return[...r,c.segmentPath]}return"string"!=typeof c?[...r,c]:0===d?(c.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?e=!0:".."===p?t++:""!=p&&r.push(p))}),r):[...r,c]},[]);return new oh(e,t,i)}(e);if(c.toRoot())return Sc(t.root,t.root,new w([],{}),i,r);const d=function ah(n,t,e){if(n.isAbsolute)return new Ba(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new Ba(c,c===t.root,0)}const i=kl(n.commands[0])?0:1;return function ep(n,t,e){let i=n,r=t,c=e;for(;c>r;){if(c-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Ba(i,!1,r-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(c,t,n),p=d.processChildren?Ic(d.segmentGroup,d.index,c.commands):Pl(d.segmentGroup,d.index,c.commands);return Sc(t.root,d.segmentGroup,p,i,r)}(D,this.currentUrlTree,e,O,null!=T?T:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ao(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Eh(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},mp):!1===i?Object.assign({},wh):i,ao(e))return qo(this.currentUrlTree,e,r);const c=this.parseUrl(e);return qo(this.currentUrlTree,c,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const c=e[r];return null!=c&&(i[r]=c),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Jr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,c,d){var p,v;if(this.disposed)return Promise.resolve(!1);let D,T,O;d?(D=d.resolve,T=d.reject,O=d.promise):O=new Promise((ne,Ce)=>{D=ne,T=Ce});const B=++this.navigationId;let K;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),K=r&&r.\u0275routerPageId?r.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):K=0,this.setTransition({id:B,targetPageId:K,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:D,reject:T,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(ne=>Promise.reject(ne))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",c):this.location.go(r,"",c)}restoreHistory(e,i=!1){var r,c;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===d?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Hu(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ga(n){return"imperative"!==n}class id{}class Fm{preload(t,e){return Ke(null)}}let Dv=(()=>{class n{constructor(e,i,r,c){this.router=e,this.injector=r,this.preloadingStrategy=c,this.loader=new $e(r,i,v=>e.triggerEvent(new Ti(v)),v=>e.triggerEvent(new Pa(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(qt(e=>e instanceof Jr),Fr(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const c of i)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const d=c._loadedConfig;r.push(this.processRoutes(d.module,d.routes))}else c.loadChildren&&!c.canLoad?r.push(this.preloadConfig(e,c)):c.children&&r.push(this.processRoutes(e,c.children));return(0,Fn.D)(r).pipe((0,to.J)(),(0,wt.U)(c=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Ke(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Pn.z)(c=>(i._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(pi),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(id))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Pm=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Xd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Jr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new wl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Lc=new l.OlP("ROUTER_CONFIGURATION"),xv=new l.OlP("ROUTER_FORROOT_GUARD"),mS=[ge,{provide:re,useClass:Se},{provide:pi,useFactory:function H0(n,t,e,i,r,c,d={},p,v){const D=new pi(null,n,t,e,i,r,eh(c));return p&&(D.urlHandlingStrategy=p),v&&(D.routeReuseStrategy=v),function j0(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),d.enableTracing&&D.events.subscribe(T=>{var O,B;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(B=console.groupEnd)||void 0===B||B.call(console)}),D},deps:[re,Va,ge,l.zs3,l.Sil,Oe,Lc,[class lt{},new l.FiY],[class k{},new l.FiY]]},Va,{provide:Ko,useFactory:function yp(n){return n.routerState.root},deps:[pi]},Dv,Fm,class Dh{preload(t,e){return e().pipe(Si(()=>Ke(null)))}},{provide:Lc,useValue:{enableTracing:!1}}];function _S(){return new l.PXZ("Router",pi)}let Ts=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[mS,_p(e),{provide:xv,useFactory:U0,deps:[[pi,new l.FiY,new l.tp0]]},{provide:Lc,useValue:i||{}},{provide:he,useFactory:V0,deps:[ce,[new l.tBr(Ue),new l.FiY],Lc]},{provide:Pm,useFactory:Nm,deps:[pi,cc,Lc]},{provide:id,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Fm},{provide:l.PXZ,multi:!0,useFactory:_S},[Lm,{provide:l.ip1,multi:!0,useFactory:G0,deps:[Lm]},{provide:Av,useFactory:$0,deps:[Lm]},{provide:l.tb,multi:!0,useExisting:Av}]]}}static forChild(e){return{ngModule:n,providers:[_p(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xv,8),l.LFG(pi,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Nm(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Pm(n,t,e)}function V0(n,t,e={}){return e.useHash?new Ie(n,t):new ze(n,t)}function U0(n){return"guarded"}function _p(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Oe,multi:!0,useValue:n}]}let Lm=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(p=>i=p),c=this.injector.get(pi),d=this.injector.get(Lc);return"disabled"===d.initialNavigation?(c.setUpLocationChangeListener(),i(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?Ke(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),c.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Lc),r=this.injector.get(Dv),c=this.injector.get(Pm),d=this.injector.get(pi),p=this.injector.get(l.z2F);e===p.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&d.initialNavigation(),r.setUpPreloading(),c.init(),d.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function G0(n){return n.appInitializer.bind(n)}function $0(n){return n.bootstrapListener.bind(n)}const Av=new l.OlP("Router Initializer"),W0=[];let Y0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ts.forRoot(W0)],Ts]}),n})();var vp,q0=new Uint8Array(16);function rd(){if(!vp&&!(vp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vp(q0)}const sa=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,bS=function vS(n){return"string"==typeof n&&sa.test(n)};for(var Fi=[],Sv=0;Sv<256;++Sv)Fi.push((Sv+256).toString(16).substr(1));const Z0=function Tv(n,t,e){var i=(n=n||{}).random||(n.rng||rd)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=i[r];return t}return function Iv(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Fi[n[t+0]]+Fi[n[t+1]]+Fi[n[t+2]]+Fi[n[t+3]]+"-"+Fi[n[t+4]]+Fi[n[t+5]]+"-"+Fi[n[t+6]]+Fi[n[t+7]]+"-"+Fi[n[t+8]]+Fi[n[t+9]]+"-"+Fi[n[t+10]]+Fi[n[t+11]]+Fi[n[t+12]]+Fi[n[t+13]]+Fi[n[t+14]]+Fi[n[t+15]]).toLowerCase();if(!bS(e))throw TypeError("Stringified UUID is invalid");return e}(i)};var xh=F(4986),$a=F(6451),Mv=F(3099);function Ms(n,t=pr.y){return n=null!=n?n:K0,(0,En.e)((e,i)=>{let r,c=!0;e.subscribe((0,wn.x)(i,d=>{const p=t(d);(c||!n(r,p))&&(c=!1,r=p,i.next(d))}))})}function K0(n,t){return n===t}var Bm=F(5032),Rs=F(2122),go=F(2011),eE=(F(9169),F(3942)),Bc=F(4859),Vc=F(5861),_t=F(9681),L=F(2090),Ah=F(1877);const Vm="@firebase/database";let is="";function Um(n){is=n}class tE{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,L.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,L.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Hm{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,L.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const oa=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new tE(t)}}catch(t){}return new Hm},za=oa("localStorage"),bp=oa("sessionStorage"),Hl=new Ah.Yd("@firebase/database"),nE=function(){let n=1;return function(){return n++}}(),jm=function(n){const t=(0,L.dS)(n),e=new L.gQ;e.update(t);const i=e.digest();return L.US.encodeByteArray(i)},Cp=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Cp.apply(null,i):t+="object"==typeof i?(0,L.Wl)(i):i,t+=" "}return t};let aa=null,Ih=!0;const wp=function(n,t){(0,L.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Hl.logLevel=Ah.in.VERBOSE,aa=Hl.log.bind(Hl),t&&bp.set("logging_enabled",!0)):"function"==typeof n?aa=n:(aa=null,bp.remove("logging_enabled"))},ri=function(...n){if(!0===Ih&&(Ih=!1,null===aa&&!0===bp.get("logging_enabled")&&wp(!0)),aa){const t=Cp.apply(null,n);aa(t)}},Uc=function(n){return function(...t){ri(n,...t)}},Rv=function(...n){const t="FIREBASE INTERNAL ERROR: "+Cp(...n);Hl.error(t)},la=function(...n){const t=`FIREBASE FATAL ERROR: ${Cp(...n)}`;throw Hl.error(t),new Error(t)},Ji=function(...n){const t="FIREBASE WARNING: "+Cp(...n);Hl.warn(t)},Ep=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Hc="[MIN_NAME]",Wa="[MAX_NAME]",sd=function(n,t){if(n===t)return 0;if(n===Hc||t===Wa)return-1;if(t===Hc||n===Wa)return 1;{const e=sE(n),i=sE(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},kv=function(n,t){return n===t?0:n<t?-1:1},od=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Wl)(t))},Gm=function(n){if("object"!=typeof n||null===n)return(0,L.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,L.Wl)(t[i]),e+=":",e+=Gm(n[t[i]]);return e+="}",e},Dp=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Gi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const rE=function(n){(0,L.hu)(!Ep(n),"Invalid JSON number");const i=1023;let r,c,d,p,v;0===n?(c=0,d=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(p=Math.min(Math.floor(Math.log(n)/Math.LN2),i),c=p+i,d=Math.round(n*Math.pow(2,52-p)-Math.pow(2,52))):(c=0,d=Math.round(n/Math.pow(2,-1074))));const D=[];for(v=52;v;v-=1)D.push(d%2?1:0),d=Math.floor(d/2);for(v=11;v;v-=1)D.push(c%2?1:0),c=Math.floor(c/2);D.push(r?1:0),D.reverse();const T=D.join("");let O="";for(v=0;v<64;v+=8){let B=parseInt(T.substr(v,8),2).toString(16);1===B.length&&(B="0"+B),O+=B}return O.toLowerCase()},xS=new RegExp("^-?(0*)\\d{1,10}$"),sE=function(n){if(xS.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Th=function(n){try{n()}catch(t){setTimeout(()=>{throw Ji("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},jc=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class oE{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ji(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fv{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ri("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ji(t)}}let Gc=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Nv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bv="websocket",Vv="long_polling";class $c{constructor(t,e,i,r,c=!1,d="",p=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=za.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&za.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ip(n,t,e){let i;if((0,L.hu)("string"==typeof t,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),t===Bv)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Vv)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ad(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Gi(e,(c,d)=>{r.push(c+"="+d)}),i+r.join("&")}class ld{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,L.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,L.p$)(this.counters_)}}const zc={},Gl={};function zm(n){const t=n.toString();return zc[t]||(zc[t]=new ld),zc[t]}class Hv{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Th(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wc{constructor(t,e,i,r,c,d,p){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=c,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uc(t),this.stats_=zm(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),Ip(e,Vv,v))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Hv(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rp((...c)=>{const[d,p,v,D,T]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=p,this.password=v;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[d,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Nv.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wc.forceAllow_=!0}static forceDisallow(){Wc.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!Wc.forceAllow_&&(Wc.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,L.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,L.h$)(e),r=Dp(i,1840);for(let c=0;c<r.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,L.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Rp{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=nE(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Rp.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){ri("frame writing exception"),p.stack&&ri(p.stack),ri(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ri("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+r+"="+d.seg+"&ts"+r+"="+d.ts+"&d"+r+"="+d.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,L.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ri("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let cd=null;"undefined"!=typeof MozWebSocket?cd=MozWebSocket:"undefined"!=typeof WebSocket&&(cd=WebSocket);let Yc=(()=>{class n{constructor(e,i,r,c,d,p,v){this.connId=e,this.applicationId=r,this.appCheckToken=c,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uc(this.connId),this.stats_=zm(i),this.connURL=n.connectionURL_(i,p,v,c,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,c,d){const p={v:"5"};return!(0,L.Yr)()&&"undefined"!=typeof location&&location.hostname&&Nv.test(location.hostname)&&(p.r="f"),i&&(p.s=i),r&&(p.ls=r),c&&(p.ac=c),d&&(p.p=d),Ip(e,Bv,p)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,za.set("previous_websocket_failure",!0);try{let r;if((0,L.Yr)()){r={headers:{"User-Agent":`Firebase/5/${is}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,p=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;p&&(r.proxy={origin:p})}this.mySock=new cd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const c=r.message||r.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==cd&&!n.forceDisallow_}static previouslyFailed(){return za.isInMemoryStorage||!0===za.get("previous_websocket_failure")}markConnectionHealthy(){za.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,L.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,L.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Dp(i,16384);r.length>1&&this.sendString_(String(r.length));for(let c=0;c<r.length;c++)this.sendString_(r[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),qv=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Wc,Yc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Yc&&Yc.isAvailable();let r=i&&!Yc.previouslyFailed();if(e.webSocketOnly&&(i||Ji("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yc];else{const c=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&c.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class yE{constructor(t,e,i,r,c,d,p,v,D,T){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=c,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=v,this.onKill_=D,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uc("c:"+this.id+":"),this.transportManager_=new qv(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=jc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=od("t",t),i=od("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=od("t",t),i=od("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=od("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Rv("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rv("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ji("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),jc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(za.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Zm{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class eb{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,L.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let c=0;c<r.length;c++)if(r[c].callback===e&&(!i||i===r[c].context))return void r.splice(c,1)}validateEventType_(t){(0,L.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Fp extends eb{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fp}getInitialEvent(t){return(0,L.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class rn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Qt(){return new rn("")}function It(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ca(n){return n.pieces_.length-n.pieceNum_}function fn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new rn(n.pieces_,t)}function Rh(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ud(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function vE(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new rn(t,0)}function Nn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof rn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new rn(e,0)}function Ot(n){return n.pieceNum_>=n.pieces_.length}function Ur(n,t){const e=It(n),i=It(t);if(null===e)return t;if(e===i)return Ur(fn(n),fn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function bE(n,t){const e=ud(n,0),i=ud(t,0);for(let r=0;r<e.length&&r<i.length;r++){const c=sd(e[r],i[r]);if(0!==c)return c}return e.length===i.length?0:e.length<i.length?-1:1}function Np(n,t){if(ca(n)!==ca(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function rs(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(ca(n)>ca(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class nb{constructor(t,e){this.errorPrefix_=e,this.parts_=ud(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,L.ug)(this.parts_[i]);ua(this)}}function ua(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+da(n))}function da(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Qm extends eb{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Qm}getInitialEvent(t){return(0,L.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Oh=1e3;let Ph,qa=(()=>{class n extends Zm{constructor(e,i,r,c,d,p,v,D){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=c,this.onServerInfoUpdate_=d,this.authTokenProvider_=p,this.appCheckTokenProvider_=v,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=Uc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oh,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qm.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Fp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const c=++this.requestNumber_,d={r:c,a:e,b:i};this.log_((0,L.Wl)(d)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[c]=r)}get(e){this.initConnection_();const i=new L.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:p=>{const v=p.d;"ok"===p.s?i.resolve(v):i.reject(v)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,c){this.initConnection_();const d=e._queryIdentifier,p=e._path.toString();this.log_("Listen called for "+p+" "+d),this.listens.has(p)||this.listens.set(p,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(p).has(d),"listen() called twice for same path/queryId.");const v={onComplete:c,hashFn:i,query:e,tag:r};this.listens.get(p).set(d,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+r+" for "+c);const d={p:r};e.tag&&(d.q=i._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,v=>{const D=v.d,T=v.s;n.warnOnListenWarnings_(D,i),(this.listens.get(r)&&this.listens.get(r).get(c))===e&&(this.log_("listen response",v),"ok"!==T&&this.removeListen_(r,c),e.onComplete&&e.onComplete(T,D))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const r=(0,L.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();Ji(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,L.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,c=>{const d=c.s,p=c.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+c),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,c)&&this.connected_&&this.sendUnlisten_(r,c,e._queryObject,i)}sendUnlisten_(e,i,r,c){this.log_("Unlisten on "+e+" for "+i);const d={p:e};c&&(d.q=r,d.t=c),this.sendRequest("n",d)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,c){const d={p:i,d:r};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,p=>{c&&setTimeout(()=>{c(p.s,p.d)},Math.floor(0))})}put(e,i,r,c){this.putInternal("p",e,i,r,c)}merge(e,i,r,c){this.putInternal("m",e,i,r,c)}putInternal(e,i,r,c,d){this.initConnection_();const p={p:i,d:r};void 0!==d&&(p.h=d),this.outstandingPuts_.push({action:e,request:p,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(d.s,d.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Rv("Unrecognized action received from server: "+(0,L.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Oh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Vc.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,p=e.lastSessionId;let v=!1,D=null;const T=function(){D?D.close():(v=!0,c())};e.realtime_={close:T,sendRequest:function(K){(0,L.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(K)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[K,ne]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);v?ri("getToken() completed but was canceled"):(ri("getToken() completed. Creating connection."),e.authToken_=K&&K.accessToken,e.appCheckToken_=ne&&ne.token,D=new yE(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,c,Ce=>{Ji(Ce+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},p))}catch(K){e.log_("Failed to get token: "+K),v||(e.repoInfo_.nodeAdmin&&Ji(K),T())}}})()}interrupt(e){ri("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ri("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Oh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(d=>Gm(d)).join("$"):"default";const c=this.removeListen_(e,r);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const r=new rn(e).toString();let c;if(this.listens.has(r)){const d=this.listens.get(r);c=d.get(i),d.delete(i),0===d.size&&this.listens.delete(r)}else c=void 0;return c}onAuthRevoked_(e,i){ri("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ri("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,L.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+is.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fp.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Nt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Nt(t,e)}}class Fh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Nt(Hc,t),r=new Nt(Hc,e);return 0!==this.compare(i,r)}minPost(){return Nt.MIN}}class ab extends Fh{static get __EMPTY_NODE(){return Ph}static set __EMPTY_NODE(t){Ph=t}compare(t,e){return sd(t.name,e.name)}isDefinedOn(t){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Nt.MIN}maxPost(){return new Nt(Wa,Ph)}makePost(t,e){return(0,L.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Nt(t,Ph)}toString(){return".key"}}const Os=new ab;class Bp{constructor(t,e,i,r,c=null){this.isReverse_=r,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(d=e?i(t.key,e):1,r&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let e_,_o=(()=>{class n{constructor(e,i,r,c,d){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=c?c:gi.EMPTY_NODE,this.right=null!=d?d:gi.EMPTY_NODE}copy(e,i,r,c,d){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=c?c:this.left,null!=d?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let c=this;const d=r(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,i,r),null):0===d?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,r)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return gi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,c;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return gi.EMPTY_NODE;c=r.right.min_(),r=r.copy(c.key,c.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class gi{constructor(t,e=gi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new gi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,_o.BLACK,null,null))}remove(t){return new gi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_o.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Bp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Bp(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Bp(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Bp(this.root_,null,this.comparator_,!0,t)}}function cb(n,t){return sd(n.name,t.name)}function Jm(n,t){return sd(n,t)}gi.EMPTY_NODE=new class lb{copy(t,e,i,r,c){return this}insert(t,e,i){return new _o(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ub=function(n){return"number"==typeof n?"number:"+rE(n):"string:"+n},db=function(n){if(n.isLeafNode()){const t=n.val();(0,L.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,L.r3)(t,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===e_||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===e_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let hb,yo,Vp,hd=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),db(this.priorityNode_)}static set __childrenNodeConstructor(e){hb=e}static get __childrenNodeConstructor(){return hb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ot(e)?this:".priority"===It(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=It(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,L.hu)(".priority"!==r||1===ca(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(fn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ub(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?rE(this.value_):this.value_,this.lazyHash_=jm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(i),d=n.VALUE_TYPE_ORDER.indexOf(r);return(0,L.hu)(c>=0,"Unknown leaf type: "+i),(0,L.hu)(d>=0,"Unknown leaf type: "+r),c===d?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const pn=new class gb extends Fh{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),c=i.compareTo(r);return 0===c?sd(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Nt.MIN}maxPost(){return new Nt(Wa,new hd("[PRIORITY-POST]",Vp))}makePost(t,e){const i=yo(t);return new Nt(e,new hd("[PRIORITY-POST]",i))}toString(){return".priority"}},CE=Math.log(2);class wE{constructor(t){this.count=parseInt(Math.log(t+1)/CE,10),this.current_=this.count-1;const r=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Up=function(n,t,e,i){n.sort(t);const r=function(v,D){const T=D-v;let O,B;if(0===T)return null;if(1===T)return O=n[v],B=e?e(O):O,new _o(B,O.node,_o.BLACK,null,null);{const K=parseInt(T/2,10)+v,ne=r(v,K),Ce=r(K+1,D);return O=n[K],B=e?e(O):O,new _o(B,O.node,_o.BLACK,ne,Ce)}},p=function(v){let D=null,T=null,O=n.length;const B=function(ne,Ce){const Fe=O-ne,Je=O;O-=ne;const gt=r(Fe+1,Je),Gt=n[Fe],Tt=e?e(Gt):Gt;K(new _o(Tt,Gt.node,Ce,null,gt))},K=function(ne){D?(D.left=ne,D=ne):(T=ne,D=ne)};for(let ne=0;ne<v.count;++ne){const Ce=v.nextBitIsOne(),Fe=Math.pow(2,v.count-(ne+1));Ce?B(Fe,_o.BLACK):(B(Fe,_o.BLACK),B(Fe,_o.RED))}return T}(new wE(n.length));return new gi(i||t,p)};let t_;const qc={};class $l{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,L.hu)(qc&&pn,"ChildrenNode.ts has not been loaded"),t_=t_||new $l({".priority":qc},{".priority":pn}),t_}get(t){const e=(0,L.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof gi?e:null}hasIndex(t){return(0,L.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,L.hu)(t!==Os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const c=e.getIterator(Nt.Wrap);let p,d=c.getNext();for(;d;)r=r||t.isDefinedOn(d.node),i.push(d),d=c.getNext();p=r?Up(i,t.getCompare()):qc;const v=t.toString(),D=Object.assign({},this.indexSet_);D[v]=t;const T=Object.assign({},this.indexes_);return T[v]=p,new $l(T,D)}addToIndexes(t,e){const i=(0,L.UI)(this.indexes_,(r,c)=>{const d=(0,L.DV)(this.indexSet_,c);if((0,L.hu)(d,"Missing index implementation for "+c),r===qc){if(d.isDefinedOn(t.node)){const p=[],v=e.getIterator(Nt.Wrap);let D=v.getNext();for(;D;)D.name!==t.name&&p.push(D),D=v.getNext();return p.push(t),Up(p,d.getCompare())}return qc}{const p=e.get(t.name);let v=r;return p&&(v=v.remove(new Nt(t.name,p))),v.insert(t,t.node)}});return new $l(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,L.UI)(this.indexes_,r=>{if(r===qc)return r;{const c=e.get(t.name);return c?r.remove(new Nt(t.name,c)):r}});return new $l(i,this.indexSet_)}}let fd,At=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&db(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fd||(fd=new n(new gi(Jm),null,$l.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?fd:i}}getChild(e){const i=It(e);return null===i?this:this.getImmediateChild(i).getChild(fn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,L.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Nt(e,i);let c,d;i.isEmpty()?(c=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(r,this.children_)):(c=this.children_.insert(e,i),d=this.indexMap_.addToIndexes(r,this.children_));const p=c.isEmpty()?fd:this.priorityNode_;return new n(c,p,d)}}updateChild(e,i){const r=It(e);if(null===r)return i;{(0,L.hu)(".priority"!==It(e)||1===ca(e),".priority must be the last token in a path");const c=this.getImmediateChild(r).updateChild(fn(e),i);return this.updateImmediateChild(r,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,c=0,d=!0;if(this.forEachChild(pn,(p,v)=>{i[p]=v.val(e),r++,d&&n.INTEGER_REGEXP_.test(p)?c=Math.max(c,Number(p)):d=!1}),!e&&d&&c<2*r){const p=[];for(const v in i)p[v]=i[v];return p}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ub(this.getPriority().val())+":"),this.forEachChild(pn,(i,r)=>{const c=r.hash();""!==c&&(e+=":"+i+":"+c)}),this.lazyHash_=""===e?"":jm(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const c=this.resolveIndex_(r);if(c){const d=c.getPredecessorKey(new Nt(e,i));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Nt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Nt(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Nt.Wrap);let d=c.peek();for(;null!=d&&i.compare(d,e)<0;)c.getNext(),d=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Nt.Wrap);let d=c.peek();for(;null!=d&&i.compare(d,e)>0;)c.getNext(),d=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hp?-1:0}withIndex(e){if(e===Os||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Os||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(pn),c=i.getIterator(pn);let d=r.getNext(),p=c.getNext();for(;d&&p;){if(d.name!==p.name||!d.node.equals(p.node))return!1;d=r.getNext(),p=c.getNext()}return null===d&&null===p}return!1}return!1}}resolveIndex_(e){return e===Os?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Hp=new class EE extends At{constructor(){super(new gi(Jm),At.EMPTY_NODE,$l.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return At.EMPTY_NODE}isEmpty(){return!1}};function Dn(n,t=null){if(null===n)return At.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,L.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new hd(n,Dn(t));if(n instanceof Array){let e=At.EMPTY_NODE;return Gi(n,(i,r)=>{if((0,L.r3)(n,i)&&"."!==i.substring(0,1)){const c=Dn(r);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(i,c))}}),e.updatePriority(Dn(t))}{const e=[];let i=!1;if(Gi(n,(d,p)=>{if("."!==d.substring(0,1)){const v=Dn(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),e.push(new Nt(d,v)))}}),0===e.length)return At.EMPTY_NODE;const c=Up(e,cb,d=>d.name,Jm);if(i){const d=Up(e,pn.getCompare());return new At(c,Dn(t),new $l({".priority":d},{".priority":pn}))}return new At(c,Dn(t),$l.Default)}}Object.defineProperties(Nt,{MIN:{value:new Nt(Hc,At.EMPTY_NODE)},MAX:{value:new Nt(Wa,Hp)}}),ab.__EMPTY_NODE=At.EMPTY_NODE,hd.__childrenNodeConstructor=At,function dd(n){e_=n}(Hp),function pb(n){Vp=n}(Hp),function fb(n){yo=n}(Dn);class n_ extends Fh{constructor(t){super(),this.indexPath_=t,(0,L.hu)(!Ot(t)&&".priority"!==It(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),c=i.compareTo(r);return 0===c?sd(t.name,e.name):c}makePost(t,e){const i=Dn(t),r=At.EMPTY_NODE.updateChild(this.indexPath_,i);return new Nt(e,r)}maxPost(){const t=At.EMPTY_NODE.updateChild(this.indexPath_,Hp);return new Nt(Wa,t)}toString(){return ud(this.indexPath_,0).join("/")}}const jp=new class mb extends Fh{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?sd(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Nt.MIN}maxPost(){return Nt.MAX}makePost(t,e){const i=Dn(t);return new Nt(e,i)}toString(){return".value"}};function DE(n){return{type:"value",snapshotNode:n}}function er(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Gp(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function $p(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class zp{constructor(t){this.index_=t}updateChild(t,e,i,r,c,d){(0,L.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(e);return p.getChild(r).equals(i.getChild(r))&&p.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?t.hasChild(e)?d.trackChildChange(Gp(e,p)):(0,L.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?d.trackChildChange(er(e,i)):d.trackChildChange($p(e,i,p))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(pn,(r,c)=>{e.hasChild(r)||i.trackChildChange(Gp(r,c))}),e.isLeafNode()||e.forEachChild(pn,(r,c)=>{if(t.hasChild(r)){const d=t.getImmediateChild(r);d.equals(c)||i.trackChildChange($p(r,c,d))}else i.trackChildChange(er(r,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?At.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class pd{constructor(t){this.indexedFilter_=new zp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=pd.getStartPost_(t),this.endPost_=pd.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,c,d){return this.matches(new Nt(e,i))||(i=At.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,c,d)}updateFullNode(t,e,i){e.isLeafNode()&&(e=At.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(At.EMPTY_NODE);const c=this;return e.forEachChild(pn,(d,p)=>{c.matches(new Nt(d,p))||(r=r.updateImmediateChild(d,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class xE{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new pd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,c,d){return this.rangedFilter_.matches(new Nt(e,i))||(i=At.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,c,d):this.fullLimitUpdateChild_(t,e,i,c,d)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=At.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;r=At.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p)){if(!this.withinDirectionalEnd(p))break;r=r.updateImmediateChild(p.name,p.node),d++}}}else{let c;r=e.withIndex(this.index_),r=r.updatePriority(At.EMPTY_NODE),c=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let d=0;for(;c.hasNext();){const p=c.getNext();d<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?d++:r=r.updateImmediateChild(p.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,c){let d;if(this.reverse_){const O=this.index_.getCompare();d=(B,K)=>O(K,B)}else d=this.index_.getCompare();const p=t;(0,L.hu)(p.numChildren()===this.limit_,"");const v=new Nt(e,i),D=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),T=this.rangedFilter_.matches(v);if(p.hasChild(e)){const O=p.getImmediateChild(e);let B=r.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=B&&(B.name===e||p.hasChild(B.name));)B=r.getChildAfterChild(this.index_,B,this.reverse_);const K=null==B?1:d(B,v);if(T&&!i.isEmpty()&&K>=0)return null!=c&&c.trackChildChange($p(e,i,O)),p.updateImmediateChild(e,i);{null!=c&&c.trackChildChange(Gp(e,O));const Ce=p.updateImmediateChild(e,At.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(null!=c&&c.trackChildChange(er(B.name,B.node)),Ce.updateImmediateChild(B.name,B.node)):Ce}}return i.isEmpty()?t:T&&d(D,v)>=0?(null!=c&&(c.trackChildChange(Gp(D.name,D.node)),c.trackChildChange(er(e,i))),p.updateImmediateChild(e,i).updateImmediateChild(D.name,At.EMPTY_NODE)):t}}class i_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pn}copy(){const t=new i_;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Nh(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function s_(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Wp(n,t){const e=n.copy();return e.index_=t,e}function vb(n){const t={};if(n.isDefault())return t;let e;if(n.index_===pn?e="$priority":n.index_===jp?e="$value":n.index_===Os?e="$key":((0,L.hu)(n.index_ instanceof n_,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,L.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,L.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,L.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,L.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,L.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function bb(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==pn&&(t.i=n.index_.toString()),t}class Zc extends Zm{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Uc("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,L.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=Zc.getListenId_(t,i),p={};this.listens_[d]=p;const v=vb(t._queryParams);this.restRequest_(c+".json",v,(D,T)=>{let O=T;if(404===D&&(O=null,D=null),null===D&&this.onDataUpdate_(c,O,!1,i),(0,L.DV)(this.listens_,d)===p){let B;B=D?401===D?"permission_denied":"rest_error:"+D:"ok",r(B,null)}})}unlisten(t,e){const i=Zc.getListenId_(t,e);delete this.listens_[i]}get(t){const e=vb(t._queryParams),i=t._path.toString(),r=new L.BH;return this.restRequest_(i+".json",e,(c,d)=>{let p=d;404===c&&(p=null,c=null),null===c?(this.onDataUpdate_(i,p,!1,null),r.resolve(p)):r.reject(new Error(p))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,c])=>{r&&r.accessToken&&(e.auth=r.accessToken),c&&c.token&&(e.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(i&&4===p.readyState){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let v=null;if(p.status>=200&&p.status<300){try{v=(0,L.cI)(p.responseText)}catch(D){Ji("Failed to parse JSON response for "+d+": "+p.responseText)}i(null,v)}else 401!==p.status&&404!==p.status&&Ji("Got unsuccessful REST response for "+d+" Status: "+p.status),i(p.status);i=null}},p.open("GET",d,!0),p.send()})}}class gd{constructor(){this.rootNode_=At.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Yp(){return{value:null,children:new Map}}function ha(n,t,e){if(Ot(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=It(t);n.children.has(i)||n.children.set(i,Yp()),ha(n.children.get(i),t=fn(t),e)}}function o_(n,t){if(Ot(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(pn,(i,r)=>{ha(n,new rn(i),r)}),o_(n,t)}}if(n.children.size>0){const e=It(t);return t=fn(t),n.children.has(e)&&o_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function a_(n,t,e){null!==n.value?e(t,n.value):function l_(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{a_(r,new rn(t.toString()+"/"+i),e)})}class fa{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Gi(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class qp{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new fa(t);const i=1e4+2e4*Math.random();jc(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Gi(t,(r,c)=>{c>0&&(0,L.r3)(this.statsToReport_,r)&&(e[r]=c,i=!0)}),i&&this.server_.reportStats(e),jc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ln=(()=>{return(n=Ln||(Ln={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ln;var n})();function Wl(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Za{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ln.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Ot(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new rn(t));return new Za(Qt(),e,this.revert)}}return(0,L.hu)(It(this.path)===t,"operationForChild called for unrelated child."),new Za(fn(this.path),this.affectedTree,this.revert)}}class pa{constructor(t,e){this.source=t,this.path=e,this.type=Ln.LISTEN_COMPLETE}operationForChild(t){return Ot(this.path)?new pa(this.source,Qt()):new pa(this.source,fn(this.path))}}class ks{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ln.OVERWRITE}operationForChild(t){return Ot(this.path)?new ks(this.source,Qt(),this.snap.getImmediateChild(t)):new ks(this.source,fn(this.path),this.snap)}}class vo{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ln.MERGE}operationForChild(t){if(Ot(this.path)){const e=this.children.subtree(new rn(t));return e.isEmpty()?null:e.value?new ks(this.source,Qt(),e.value):new vo(this.source,Qt(),e)}return(0,L.hu)(It(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new vo(this.source,fn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ss{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ot(t))return this.isFullyInitialized()&&!this.filtered_;const e=It(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class _d{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function vd(n,t,e,i,r,c){const d=i.filter(p=>p.type===e);d.sort((p,v)=>function wb(n,t,e){if(null==t.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const i=new Nt(t.childName,t.snapshotNode),r=new Nt(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,p,v)),d.forEach(p=>{const v=function Cb(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,p,c);r.forEach(D=>{D.respondsTo(p.type)&&t.push(D.createEvent(v,n.query_))})})}function Bh(n,t){return{eventCache:n,serverCache:t}}function bd(n,t,e,i){return Bh(new ss(t,e,i),n.serverCache)}function c_(n,t,e,i){return Bh(n.eventCache,new ss(t,e,i))}function Vh(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Yl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Zp;class gn{constructor(t,e=(()=>(Zp||(Zp=new gi(kv)),Zp))()){this.value=t,this.children=e}static fromObject(t){let e=new gn(null);return Gi(t,(i,r)=>{e=e.set(new rn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Qt(),value:this.value};if(Ot(t))return null;{const i=It(t),r=this.children.get(i);if(null!==r){const c=r.findRootMostMatchingPathAndValue(fn(t),e);return null!=c?{path:Nn(new rn(i),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ot(t))return this;{const e=It(t),i=this.children.get(e);return null!==i?i.subtree(fn(t)):new gn(null)}}set(t,e){if(Ot(t))return new gn(e,this.children);{const i=It(t),c=(this.children.get(i)||new gn(null)).set(fn(t),e),d=this.children.insert(i,c);return new gn(this.value,d)}}remove(t){if(Ot(t))return this.children.isEmpty()?new gn(null):new gn(null,this.children);{const e=It(t),i=this.children.get(e);if(i){const r=i.remove(fn(t));let c;return c=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&c.isEmpty()?new gn(null):new gn(this.value,c)}return this}}get(t){if(Ot(t))return this.value;{const e=It(t),i=this.children.get(e);return i?i.get(fn(t)):null}}setTree(t,e){if(Ot(t))return e;{const i=It(t),c=(this.children.get(i)||new gn(null)).setTree(fn(t),e);let d;return d=c.isEmpty()?this.children.remove(i):this.children.insert(i,c),new gn(this.value,d)}}fold(t){return this.fold_(Qt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,c)=>{i[r]=c.fold_(Nn(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Qt(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Ot(t))return null;{const c=It(t),d=this.children.get(c);return d?d.findOnPath_(fn(t),Nn(e,c),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Qt(),e)}foreachOnPath_(t,e,i){if(Ot(t))return this;{this.value&&i(e,this.value);const r=It(t),c=this.children.get(r);return c?c.foreachOnPath_(fn(t),Nn(e,r),i):new gn(null)}}foreach(t){this.foreach_(Qt(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Nn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class bo{constructor(t){this.writeTree_=t}static empty(){return new bo(new gn(null))}}function Uh(n,t,e){if(Ot(t))return new bo(new gn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let c=i.value;const d=Ur(r,t);return c=c.updateChild(d,e),new bo(n.writeTree_.set(r,c))}{const r=new gn(e),c=n.writeTree_.setTree(t,r);return new bo(c)}}}function Kp(n,t,e){let i=n;return Gi(e,(r,c)=>{i=Uh(i,Nn(t,r),c)}),i}function Eb(n,t){if(Ot(t))return bo.empty();{const e=n.writeTree_.setTree(t,new gn(null));return new bo(e)}}function u_(n,t){return null!=ql(n,t)}function ql(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Ur(e.path,t)):null}function Db(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(pn,(i,r)=>{t.push(new Nt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Nt(i,r.value))}),t}function Ka(n,t){if(Ot(t))return n;{const e=ql(n,t);return new bo(null!=e?new gn(e):n.writeTree_.subtree(t))}}function d_(n){return n.writeTree_.isEmpty()}function Cd(n,t){return ME(Qt(),n.writeTree_,t)}function ME(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,c)=>{".priority"===r?((0,L.hu)(null!==c.value,"Priority writes must always be leaf nodes"),i=c.value):e=ME(Nn(n,r),c,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Nn(n,".priority"),i)),e}}function Qp(n,t){return Ib(t,n)}function kS(n,t){if(n.snap)return rs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&rs(Nn(n.path,e),t))return!0;return!1}function OE(n){return n.visible}function p_(n,t,e){let i=bo.empty();for(let r=0;r<n.length;++r){const c=n[r];if(t(c)){const d=c.path;let p;if(c.snap)rs(e,d)?(p=Ur(e,d),i=Uh(i,p,c.snap)):rs(d,e)&&(p=Ur(d,e),i=Uh(i,Qt(),c.snap.getChild(p)));else{if(!c.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(rs(e,d))p=Ur(e,d),i=Kp(i,p,c.children);else if(rs(d,e))if(p=Ur(d,e),Ot(p))i=Kp(i,Qt(),c.children);else{const v=(0,L.DV)(c.children,It(p));if(v){const D=v.getChild(fn(p));i=Uh(i,Qt(),D)}}}}}return i}function kE(n,t,e,i,r){if(i||r){const c=Ka(n.visibleWrites,t);return!r&&d_(c)?e:r||null!=e||u_(c,Qt())?Cd(p_(n.allWrites,function(D){return(D.visible||r)&&(!i||!~i.indexOf(D.writeId))&&(rs(D.path,t)||rs(t,D.path))},t),e||At.EMPTY_NODE):null}{const c=ql(n.visibleWrites,t);if(null!=c)return c;{const d=Ka(n.visibleWrites,t);return d_(d)?e:null!=e||u_(d,Qt())?Cd(d,e||At.EMPTY_NODE):null}}}function Qc(n,t,e,i){return kE(n.writeTree,n.treePath,t,e,i)}function g_(n,t){return function FE(n,t,e){let i=At.EMPTY_NODE;const r=ql(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(pn,(c,d)=>{i=i.updateImmediateChild(c,d)}),i;if(e){const c=Ka(n.visibleWrites,t);return e.forEachChild(pn,(d,p)=>{const v=Cd(Ka(c,new rn(d)),p);i=i.updateImmediateChild(d,v)}),Db(c).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return Db(Ka(n.visibleWrites,t)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(n.writeTree,n.treePath,t)}function m_(n,t,e,i){return function wd(n,t,e,i,r){(0,L.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const c=Nn(t,e);if(u_(n.visibleWrites,c))return null;{const d=Ka(n.visibleWrites,c);return d_(d)?r.getChild(e):Cd(d,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Xp(n,t){return function xb(n,t){return ql(n.visibleWrites,t)}(n.writeTree,Nn(n.treePath,t))}function __(n,t,e){return function PE(n,t,e,i){const r=Nn(t,e),c=ql(n.visibleWrites,r);return null!=c?c:i.isCompleteForChild(e)?Cd(Ka(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Sb(n,t){return Ib(Nn(n.treePath,t),n.writeTree)}function Ib(n,t){return{treePath:n,writeTree:t}}class Tb{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const c=r.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(i,$p(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(i,Gp(i,r.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(i,er(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,L.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,$p(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const y_=new class BE{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class Jp{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return __(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Yl(this.viewCache_),c=function LE(n,t,e,i,r,c){return function NE(n,t,e,i,r,c,d){let p;const v=Ka(n.visibleWrites,t),D=ql(v,Qt());if(null!=D)p=D;else{if(null==e)return[];p=Cd(v,e)}if(p=p.withIndex(d),p.isEmpty()||p.isLeafNode())return[];{const T=[],O=d.getCompare(),B=c?p.getReverseIteratorFrom(i,d):p.getIteratorFrom(i,d);let K=B.getNext();for(;K&&T.length<r;)0!==O(K,i)&&T.push(K),K=B.getNext();return T}}(n.writeTree,n.treePath,t,e,i,r,c)}(this.writes_,r,e,1,i,t);return 0===c.length?null:c[0]}}function UE(n,t,e,i,r,c){const d=t.eventCache;if(null!=Xp(i,e))return t;{let p,v;if(Ot(e))if((0,L.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=Yl(t),O=g_(i,D instanceof At?D:At.EMPTY_NODE);p=n.filter.updateFullNode(t.eventCache.getNode(),O,c)}else{const D=Qc(i,Yl(t));p=n.filter.updateFullNode(t.eventCache.getNode(),D,c)}else{const D=It(e);if(".priority"===D){(0,L.hu)(1===ca(e),"Can't have a priority with additional path components");const T=d.getNode();v=t.serverCache.getNode();const O=m_(i,e,T,v);p=null!=O?n.filter.updatePriority(T,O):d.getNode()}else{const T=fn(e);let O;if(d.isCompleteForChild(D)){v=t.serverCache.getNode();const B=m_(i,e,d.getNode(),v);O=null!=B?d.getNode().getImmediateChild(D).updateChild(T,B):d.getNode().getImmediateChild(D)}else O=__(i,D,t.serverCache);p=null!=O?n.filter.updateChild(d.getNode(),D,O,T,r,c):d.getNode()}}return bd(t,p,d.isFullyInitialized()||Ot(e),n.filter.filtersNodes())}}function Zl(n,t,e,i,r,c,d,p){const v=t.serverCache;let D;const T=d?n.filter:n.filter.getIndexedFilter();if(Ot(e))D=T.updateFullNode(v.getNode(),i,null);else if(T.filtersNodes()&&!v.isFiltered()){const K=v.getNode().updateChild(e,i);D=T.updateFullNode(v.getNode(),K,null)}else{const K=It(e);if(!v.isCompleteForPath(e)&&ca(e)>1)return t;const ne=fn(e),Fe=v.getNode().getImmediateChild(K).updateChild(ne,i);D=".priority"===K?T.updatePriority(v.getNode(),Fe):T.updateChild(v.getNode(),K,Fe,ne,y_,null)}const O=c_(t,D,v.isFullyInitialized()||Ot(e),T.filtersNodes());return UE(n,O,e,r,new Jp(r,O,c),p)}function eg(n,t,e,i,r,c,d){const p=t.eventCache;let v,D;const T=new Jp(r,t,c);if(Ot(e))D=n.filter.updateFullNode(t.eventCache.getNode(),i,d),v=bd(t,D,!0,n.filter.filtersNodes());else{const O=It(e);if(".priority"===O)D=n.filter.updatePriority(t.eventCache.getNode(),i),v=bd(t,D,p.isFullyInitialized(),p.isFiltered());else{const B=fn(e),K=p.getNode().getImmediateChild(O);let ne;if(Ot(B))ne=i;else{const Ce=T.getCompleteChild(O);ne=null!=Ce?".priority"===Rh(B)&&Ce.getChild(vE(B)).isEmpty()?Ce:Ce.updateChild(B,i):At.EMPTY_NODE}v=K.equals(ne)?t:bd(t,n.filter.updateChild(p.getNode(),O,ne,B,T,d),p.isFullyInitialized(),n.filter.filtersNodes())}}return v}function tg(n,t){return n.eventCache.isCompleteForChild(t)}function Mb(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Ed(n,t,e,i,r,c,d,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,v=t;D=Ot(e)?i:new gn(null).setTree(e,i);const T=t.serverCache.getNode();return D.children.inorderTraversal((O,B)=>{if(T.hasChild(O)){const ne=Mb(0,t.serverCache.getNode().getImmediateChild(O),B);v=Zl(n,v,new rn(O),ne,r,c,d,p)}}),D.children.inorderTraversal((O,B)=>{const K=!t.serverCache.isCompleteForChild(O)&&null===B.value;if(!T.hasChild(O)&&!K){const Ce=Mb(0,t.serverCache.getNode().getImmediateChild(O),B);v=Zl(n,v,new rn(O),Ce,r,c,d,p)}}),v}class HE{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new zp(i.getIndex()),c=function yb(n){return n.loadsAllData()?new zp(n.getIndex()):n.hasLimit()?new xE(n):new pd(n)}(i);this.processor_=function v_(n){return{filter:n}}(c);const d=e.serverCache,p=e.eventCache,v=r.updateFullNode(At.EMPTY_NODE,d.getNode(),null),D=c.updateFullNode(At.EMPTY_NODE,p.getNode(),null),T=new ss(v,d.isFullyInitialized(),r.filtersNodes()),O=new ss(D,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Bh(O,T),this.eventGenerator_=new _d(this.query_)}get query(){return this.query_}}function E_(n,t){const e=Yl(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Ot(t)&&!e.getImmediateChild(It(t)).isEmpty())?e.getChild(t):null}function D_(n){return 0===n.eventRegistrations_.length}function A_(n,t,e){const i=[];if(e){(0,L.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(e,r);d&&i.push(d)})}if(t){let r=[];for(let c=0;c<n.eventRegistrations_.length;++c){const d=n.eventRegistrations_[c];if(d.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(c+1));break}}else r.push(d)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function S_(n,t,e,i){t.type===Ln.MERGE&&null!==t.source.queryId&&((0,L.hu)(Yl(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(Vh(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,c=function b_(n,t,e,i,r){const c=new Tb;let d,p;if(e.type===Ln.OVERWRITE){const D=e;D.source.fromUser?d=eg(n,t,D.path,D.snap,i,r,c):((0,L.hu)(D.source.fromServer,"Unknown source."),p=D.source.tagged||t.serverCache.isFiltered()&&!Ot(D.path),d=Zl(n,t,D.path,D.snap,i,r,p,c))}else if(e.type===Ln.MERGE){const D=e;D.source.fromUser?d=function C_(n,t,e,i,r,c,d){let p=t;return i.foreach((v,D)=>{const T=Nn(e,v);tg(t,It(T))&&(p=eg(n,p,T,D,r,c,d))}),i.foreach((v,D)=>{const T=Nn(e,v);tg(t,It(T))||(p=eg(n,p,T,D,r,c,d))}),p}(n,t,D.path,D.children,i,r,c):((0,L.hu)(D.source.fromServer,"Unknown source."),p=D.source.tagged||t.serverCache.isFiltered(),d=Ed(n,t,D.path,D.children,i,r,p,c))}else if(e.type===Ln.ACK_USER_WRITE){const D=e;d=D.revert?function NS(n,t,e,i,r,c){let d;if(null!=Xp(i,e))return t;{const p=new Jp(i,t,r),v=t.eventCache.getNode();let D;if(Ot(e)||".priority"===It(e)){let T;if(t.serverCache.isFullyInitialized())T=Qc(i,Yl(t));else{const O=t.serverCache.getNode();(0,L.hu)(O instanceof At,"serverChildren would be complete if leaf node"),T=g_(i,O)}D=n.filter.updateFullNode(v,T,c)}else{const T=It(e);let O=__(i,T,t.serverCache);null==O&&t.serverCache.isCompleteForChild(T)&&(O=v.getImmediateChild(T)),D=null!=O?n.filter.updateChild(v,T,O,fn(e),p,c):t.eventCache.getNode().hasChild(T)?n.filter.updateChild(v,T,At.EMPTY_NODE,fn(e),p,c):v,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Qc(i,Yl(t)),d.isLeafNode()&&(D=n.filter.updateFullNode(D,d,c)))}return d=t.serverCache.isFullyInitialized()||null!=Xp(i,Qt()),bd(t,D,d,n.filter.filtersNodes())}}(n,t,D.path,i,r,c):function ng(n,t,e,i,r,c,d){if(null!=Xp(r,e))return t;const p=t.serverCache.isFiltered(),v=t.serverCache;if(null!=i.value){if(Ot(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return Zl(n,t,e,v.getNode().getChild(e),r,c,p,d);if(Ot(e)){let D=new gn(null);return v.getNode().forEachChild(Os,(T,O)=>{D=D.set(new rn(T),O)}),Ed(n,t,e,D,r,c,p,d)}return t}{let D=new gn(null);return i.foreach((T,O)=>{const B=Nn(e,T);v.isCompleteForPath(B)&&(D=D.set(T,v.getNode().getChild(B)))}),Ed(n,t,e,D,r,c,p,d)}}(n,t,D.path,D.affectedTree,i,r,c)}else{if(e.type!==Ln.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);d=function w_(n,t,e,i,r){const c=t.serverCache;return UE(n,c_(t,c.getNode(),c.isFullyInitialized()||Ot(e),c.isFiltered()),e,i,y_,r)}(n,t,e.path,i,c)}const v=c.getChanges();return function VE(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=Vh(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&e.push(DE(Vh(t)))}}(t,d,v),{viewCache:d,changes:v}}(n.processor_,r,t,e,i);return function PS(n,t){(0,L.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,L.hu)(c.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,sg(n,c.changes,c.viewCache.eventCache.getNode(),null)}function sg(n,t,e,i){return function yd(n,t,e,i){const r=[],c=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(function _b(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),vd(n,r,"child_removed",t,i,e),vd(n,r,"child_added",t,i,e),vd(n,r,"child_moved",c,i,e),vd(n,r,"child_changed",t,i,e),vd(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let og,jh;class T_{constructor(){this.views=new Map}}function R_(n,t,e,i){const r=t.source.queryId;if(null!==r){const c=n.views.get(r);return(0,L.hu)(null!=c,"SyncTree gave us an op for an invalid query."),S_(c,t,e,i)}{let c=[];for(const d of n.views.values())c=c.concat(S_(d,t,e,i));return c}}function O_(n,t,e,i,r){const d=n.views.get(t._queryIdentifier);if(!d){let p=Qc(e,r?i:null),v=!1;p?v=!0:i instanceof At?(p=g_(e,i),v=!1):(p=At.EMPTY_NODE,v=!1);const D=Bh(new ss(p,v,!1),new ss(i,r,!1));return new HE(t,D)}return d}function ag(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Qa(n,t){let e=null;for(const i of n.views.values())e=e||E_(i,t);return e}function k_(n,t){return t._queryParams.loadsAllData()?Hh(n):n.views.get(t._queryIdentifier)}function F_(n,t){return null!=k_(n,t)}function Xa(n){return null!=Hh(n)}function Hh(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let LS=1;class Lb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new gn(null),this.pendingWriteTree_=function Ab(){return{visibleWrites:bo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function P_(n,t,e,i,r){return function h_(n,t,e,i,r){(0,L.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Uh(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Dd(n,new ks({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Kl(n,t,e=!1){const i=function RE(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function OS(n,t){const e=n.allWrites.findIndex(p=>p.writeId===t);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,c=!1,d=n.allWrites.length-1;for(;r&&d>=0;){const p=n.allWrites[d];p.visible&&(d>=e&&kS(p,i.path)?r=!1:rs(i.path,p.path)&&(c=!0)),d--}return!!r&&(c?(function FS(n){n.visibleWrites=p_(n.allWrites,OE,Qt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Eb(n.visibleWrites,i.path):Gi(i.children,v=>{n.visibleWrites=Eb(n.visibleWrites,Nn(i.path,v))}),!0))}(n.pendingWriteTree_,t)){let c=new gn(null);return null!=i.snap?c=c.set(Qt(),!0):Gi(i.children,d=>{c=c.set(new rn(d),!0)}),Dd(n,new Za(i.path,c,e))}return[]}function Bn(n,t,e){return Dd(n,new ks({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Gh(n,t,e,i,r=!1){const c=t._path,d=n.syncPointTree_.get(c);let p=[];if(d&&("default"===t._queryIdentifier||F_(d,t))){const v=function Fb(n,t,e,i){const r=t._queryIdentifier,c=[];let d=[];const p=Xa(n);if("default"===r)for(const[v,D]of n.views.entries())d=d.concat(A_(D,e,i)),D_(D)&&(n.views.delete(v),D.query._queryParams.loadsAllData()||c.push(D.query));else{const v=n.views.get(r);v&&(d=d.concat(A_(v,e,i)),D_(v)&&(n.views.delete(r),v.query._queryParams.loadsAllData()||c.push(v.query)))}return p&&!Xa(n)&&c.push(new(function M_(){return(0,L.hu)(og,"Reference.ts has not been loaded"),og}())(t._repo,t._path)),{removed:c,events:d}}(d,t,e,i);(function Ob(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(c));const D=v.removed;if(p=v.events,!r){const T=-1!==D.findIndex(B=>B._queryParams.loadsAllData()),O=n.syncPointTree_.findOnPath(c,(B,K)=>Xa(K));if(T&&!O){const B=n.syncPointTree_.subtree(c);if(!B.isEmpty()){const K=function zE(n){return n.fold((t,e,i)=>{if(e&&Xa(e))return[Hh(e)];{let r=[];return e&&(r=ag(e)),Gi(i,(c,d)=>{r=r.concat(d)}),r}})}(B);for(let ne=0;ne<K.length;++ne){const Ce=K[ne],Fe=Ce.query,Je=L_(n,Ce);n.listenProvider_.startListening(Hr(Fe),cg(n,Fe),Je.hashFn,Je.onComplete)}}}!O&&D.length>0&&!i&&(T?n.listenProvider_.stopListening(Hr(t),null):D.forEach(B=>{const K=n.queryToTagMap.get(xd(B));n.listenProvider_.stopListening(Hr(B),K)}))}!function Co(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=xd(i),c=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(c)}}}(n,D)}return p}function Ub(n,t,e,i){const r=$h(n,i);if(null!=r){const c=Fs(r),d=c.path,p=c.queryId,v=Ur(d,t);return B_(n,d,new ks(Wl(p),v,e))}return[]}function lg(n,t,e,i=!1){const r=t._path;let c=null,d=!1;n.syncPointTree_.foreachOnPath(r,(B,K)=>{const ne=Ur(B,r);c=c||Qa(K,ne),d=d||Xa(K)});let v,p=n.syncPointTree_.get(r);p?(d=d||Xa(p),c=c||Qa(p,Qt())):(p=new T_,n.syncPointTree_=n.syncPointTree_.set(r,p)),null!=c?v=!0:(v=!1,c=At.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((K,ne)=>{const Ce=Qa(ne,Qt());Ce&&(c=c.updateImmediateChild(K,Ce))}));const D=F_(p,t);if(!D&&!t._queryParams.loadsAllData()){const B=xd(t);(0,L.hu)(!n.queryToTagMap.has(B),"View does not exist, but we have a tag");const K=function wo(){return LS++}();n.queryToTagMap.set(B,K),n.tagToQueryMap.set(K,B)}let O=function kb(n,t,e,i,r,c){const d=O_(n,t,i,r,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function x_(n,t){n.eventRegistrations_.push(t)}(d,e),function I_(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(pn,(c,d)=>{i.push(er(c,d))}),e.isFullyInitialized()&&i.push(DE(e.getNode())),sg(n,i,e.getNode(),t)}(d,e)}(p,t,e,Qp(n.pendingWriteTree_,r),c,v);if(!D&&!d&&!i){const B=k_(p,t);O=O.concat(function Gb(n,t,e){const i=t._path,r=cg(n,t),c=L_(n,e),d=n.listenProvider_.startListening(Hr(t),r,c.hashFn,c.onComplete),p=n.syncPointTree_.subtree(i);if(r)(0,L.hu)(!Xa(p.value),"If we're adding a query, it shouldn't be shadowed");else{const v=p.fold((D,T,O)=>{if(!Ot(D)&&T&&Xa(T))return[Hh(T).query];{let B=[];return T&&(B=B.concat(ag(T).map(K=>K.query))),Gi(O,(K,ne)=>{B=B.concat(ne)}),B}});for(let D=0;D<v.length;++D){const T=v[D];n.listenProvider_.stopListening(Hr(T),cg(n,T))}}return d}(n,t,B))}return O}function Ja(n,t,e){const r=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(d,p)=>{const D=Qa(p,Ur(d,t));if(D)return D});return kE(r,t,c,e,!0)}function Dd(n,t){return N_(t,n.syncPointTree_,null,Qp(n.pendingWriteTree_,Qt()))}function N_(n,t,e,i){if(Ot(n.path))return jb(n,t,e,i);{const r=t.get(Qt());null==e&&null!=r&&(e=Qa(r,Qt()));let c=[];const d=It(n.path),p=n.operationForChild(d),v=t.children.get(d);if(v&&p){const D=e?e.getImmediateChild(d):null,T=Sb(i,d);c=c.concat(N_(p,v,D,T))}return r&&(c=c.concat(R_(r,n,i,e))),c}}function jb(n,t,e,i){const r=t.get(Qt());null==e&&null!=r&&(e=Qa(r,Qt()));let c=[];return t.children.inorderTraversal((d,p)=>{const v=e?e.getImmediateChild(d):null,D=Sb(i,d),T=n.operationForChild(d);T&&(c=c.concat(jb(T,p,v,D)))}),r&&(c=c.concat(R_(r,n,i,e))),c}function L_(n,t){const e=t.query,i=cg(n,e);return{hashFn:()=>(function ig(n){return n.viewCache_.serverCache.getNode()}(t)||At.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function GE(n,t,e){const i=$h(n,e);if(i){const r=Fs(i),c=r.path,d=r.queryId,p=Ur(c,t);return B_(n,c,new pa(Wl(d),p))}return[]}(n,e._path,i):function jE(n,t){return Dd(n,new pa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function DS(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return Gh(n,e,null,c)}}}}function cg(n,t){const e=xd(t);return n.queryToTagMap.get(e)}function xd(n){return n._path.toString()+"$"+n._queryIdentifier}function $h(n,t){return n.tagToQueryMap.get(t)}function Fs(n){const t=n.indexOf("$");return(0,L.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new rn(n.substr(0,t))}}function B_(n,t,e){const i=n.syncPointTree_.get(t);return(0,L.hu)(i,"Missing sync point for query tag that we're tracking"),R_(i,e,Qp(n.pendingWriteTree_,t),null)}function Hr(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Nb(){return(0,L.hu)(jh,"Reference.ts has not been loaded"),jh}())(n._repo,n._path):n}class ug{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new ug(e)}node(){return this.node_}}class V_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Nn(this.path_,t);return new V_(this.syncTree_,e)}node(){return Ja(this.syncTree_,this.path_)}}const $b=function(n,t,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?YE(n[".sv"],t,e):"object"==typeof n[".sv"]?U_(n[".sv"],t):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},YE=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},U_=function(n,t,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,L.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,L.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const d=r.getValue();return"number"!=typeof d?i:d+i},Ad=function(n,t,e,i){return dg(t,new V_(e,n),i)},H_=function(n,t,e){return dg(n,new ug(t),e)};function dg(n,t,e){const i=n.getPriority().val(),r=$b(i,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const d=n,p=$b(d.getValue(),t,e);return p!==d.getValue()||r!==d.getPriority().val()?new hd(p,Dn(r)):n}{const d=n;return c=d,r!==d.getPriority().val()&&(c=c.updatePriority(new hd(r))),d.forEachChild(pn,(p,v)=>{const D=dg(v,t.getImmediateChild(p),e);D!==v&&(c=c.updateImmediateChild(p,D))}),c}}class j_{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function zh(n,t){let e=t instanceof rn?t:new rn(t),i=n,r=It(e);for(;null!==r;){const c=(0,L.DV)(i.node.children,r)||{children:{},childCount:0};i=new j_(r,i,c),e=fn(e),r=It(e)}return i}function Ql(n){return n.node.value}function Sd(n,t){n.node.value=t,pg(n)}function zb(n){return n.node.childCount>0}function Wh(n,t){Gi(n.node.children,(e,i)=>{t(new j_(e,n,i))})}function hg(n,t,e,i){e&&!i&&t(n),Wh(n,r=>{hg(r,t,!0,i)}),e&&i&&t(n)}function Id(n){return new rn(null===n.parent?n.name:Id(n.parent)+"/"+n.name)}function pg(n){null!==n.parent&&function Yb(n,t,e){const i=function Wb(n){return void 0===Ql(n)&&!zb(n)}(e),r=(0,L.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,pg(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,pg(n))}(n.parent,n.name,n)}const qb=/[\[\].#$\/\u0000-\u001F\u007F]/,Zb=/[\[\].#$\u0000-\u001F\u007F]/,gg=10485760,Yh=function(n){return"string"==typeof n&&0!==n.length&&!qb.test(n)},G_=function(n){return"string"==typeof n&&0!==n.length&&!Zb.test(n)},qh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Ep(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},ga=function(n,t,e,i){i&&void 0===t||Zh((0,L.gK)(n,"value"),t,e)},Zh=function(n,t,e){const i=e instanceof rn?new nb(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+da(i));if("function"==typeof t)throw new Error(n+"contains a function "+da(i)+" with contents = "+t.toString());if(Ep(t))throw new Error(n+"contains "+t.toString()+" "+da(i));if("string"==typeof t&&t.length>gg/3&&(0,L.ug)(t)>gg)throw new Error(n+"contains a string greater than "+gg+" utf8 bytes "+da(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,c=!1;if(Gi(t,(d,p)=>{if(".value"===d)r=!0;else if(".priority"!==d&&".sv"!==d&&(c=!0,!Yh(d)))throw new Error(n+" contains an invalid key ("+d+") "+da(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ib(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,L.ug)(t),ua(n)})(i,d),Zh(n,p,i),function rb(n){const t=n.parts_.pop();n.byteLength_-=(0,L.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&c)throw new Error(n+' contains ".value" child '+da(i)+" in addition to actual children.")}},Kb=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,L.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const c=[];Gi(t,(d,p)=>{const v=new rn(d);if(Zh(r,p,Nn(e,v)),".priority"===Rh(v)&&!qh(p))throw new Error(r+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(v)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const c=ud(i);for(let d=0;d<c.length;d++)if((".priority"!==c[d]||d!==c.length-1)&&!Yh(c[d]))throw new Error(n+"contains an invalid key ("+c[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(bE);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&rs(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,c)},$_=function(n,t,e){if(!e||void 0!==t){if(Ep(t))throw new Error((0,L.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qh(t))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Kh=function(n,t,e,i){if(!(i&&void 0===e||Yh(e)))throw new Error((0,L.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Qh=function(n,t,e,i){if(!(i&&void 0===e||G_(e)))throw new Error((0,L.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ps=function(n,t){if(".info"===It(t))throw new Error(n+" failed = Can't modify data under /.info/")},Qb=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Yh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),G_(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class QE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mg(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],c=r.getPath();null!==e&&!Np(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(r)}e&&n.eventLists_.push(e)}function Xb(n,t,e){mg(n,e),Jb(n,i=>Np(i,t))}function os(n,t,e){mg(n,e),Jb(n,i=>rs(i,t)||rs(t,i))}function Jb(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(XE(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function XE(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();aa&&ri("event: "+e.toString()),Th(i)}}}const z_="repo_interrupt";class tC{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yp(),this.transactionQueueTree_=new j_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W_(n){const e=n.infoData_.getNode(new rn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Td(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:W_(n)})}function Y_(n,t,e,i,r){n.dataUpdateCount++;const c=new rn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(r)if(i){const v=(0,L.UI)(e,D=>Dn(D));d=function Hb(n,t,e,i){const r=$h(n,i);if(r){const c=Fs(r),d=c.path,p=c.queryId,v=Ur(d,t),D=gn.fromObject(e);return B_(n,d,new vo(Wl(p),v,D))}return[]}(n.serverSyncTree_,c,v,r)}else{const v=Dn(e);d=Ub(n.serverSyncTree_,c,v,r)}else if(i){const v=(0,L.UI)(e,D=>Dn(D));d=function Vb(n,t,e){const i=gn.fromObject(e);return Dd(n,new vo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,c,v)}else{const v=Dn(e);d=Bn(n.serverSyncTree_,c,v)}let p=c;d.length>0&&(p=mn(n,c)),os(n.eventQueue_,p,d)}function q_(n,t){Xh(n,"connected",t),!1===t&&function Rd(n){Od(n,"onDisconnectEvents");const t=Td(n),e=Yp();a_(n.onDisconnect_,Qt(),(r,c)=>{const d=Ad(r,c,n.serverSyncTree_,t);ha(e,r,d)});let i=[];a_(e,Qt(),(r,c)=>{i=i.concat(Bn(n.serverSyncTree_,r,c));const d=bg(n,r);mn(n,d)}),n.onDisconnect_=Yp(),os(n.eventQueue_,Qt(),i)}(n)}function Xh(n,t,e){const i=new rn("/.info/"+t),r=Dn(e);n.infoData_.updateSnapshot(i,r);const c=Bn(n.infoSyncTree_,i,r);os(n.eventQueue_,i,c)}function Md(n){return n.nextWriteId_++}function Z_(n,t,e,i,r){Od(n,"set",{path:t.toString(),value:e,priority:i});const c=Td(n),d=Dn(e,i),p=Ja(n.serverSyncTree_,t),v=H_(d,p,c),D=Md(n),T=P_(n.serverSyncTree_,t,v,D,!0);mg(n.eventQueue_,T),n.server_.put(t.toString(),d.val(!0),(B,K)=>{const ne="ok"===B;ne||Ji("set at "+t+" failed: "+B);const Ce=Kl(n.serverSyncTree_,D,!ne);os(n.eventQueue_,t,Ce),Xl(0,r,B,K)});const O=bg(n,t);mn(n,O),os(n.eventQueue_,O,[])}function BS(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&o_(n.onDisconnect_,t),Xl(0,e,i,r)})}function _g(n,t,e,i){const r=Dn(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(c,d)=>{"ok"===c&&ha(n.onDisconnect_,t,r),Xl(0,i,c,d)})}function oC(n,t,e){let i;i=".info"===It(t._path)?Gh(n.infoSyncTree_,t,e):Gh(n.serverSyncTree_,t,e),Xb(n.eventQueue_,t._path,i)}function ft(n){n.persistentConnection_&&n.persistentConnection_.interrupt(z_)}function Od(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ri(e,...t)}function Xl(n,t,e,i){t&&Th(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let c=r;i&&(c+=": "+i);const d=new Error(c);d.code=r,t(d)}})}function K_(n,t,e){return Ja(n.serverSyncTree_,t,e)||At.EMPTY_NODE}function Jc(n,t=n.transactionQueueTree_){if(t||Jh(n,t),Ql(t)){const e=aC(n,t);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function vg(n,t,e){const i=e.map(D=>D.currentWriteId),r=K_(n,t,i);let c=r;const d=r.hash();for(let D=0;D<e.length;D++){const T=e[D];(0,L.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const O=Ur(t,T.path);c=c.updateChild(O,T.currentOutputSnapshotRaw)}const p=c.val(!0),v=t;n.server_.put(v.toString(),p,D=>{Od(n,"transaction put response",{path:v.toString(),status:D});let T=[];if("ok"===D){const O=[];for(let B=0;B<e.length;B++)e[B].status=2,T=T.concat(Kl(n.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&O.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();Jh(n,zh(n.transactionQueueTree_,t)),Jc(n,n.transactionQueueTree_),os(n.eventQueue_,t,T);for(let B=0;B<O.length;B++)Th(O[B])}else{if("datastale"===D)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{Ji("transaction at "+v.toString()+" failed: "+D);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=D}mn(n,t)}},d)}(n,Id(t),e)}else zb(t)&&Wh(t,e=>{Jc(n,e)})}function mn(n,t){const e=Q_(n,t),i=Id(e);return function US(n,t,e){if(0===t.length)return;const i=[];let r=[];const d=t.filter(p=>0===p.status).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const v=t[p],D=Ur(e,v.path);let O,T=!1;if((0,L.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)T=!0,O=v.abortReason,r=r.concat(Kl(n.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)T=!0,O="maxretry",r=r.concat(Kl(n.serverSyncTree_,v.currentWriteId,!0));else{const B=K_(n,v.path,d);v.currentInputSnapshot=B;const K=t[p].update(B.val());if(void 0!==K){Zh("transaction failed: Data returned ",K,v.path);let ne=Dn(K);"object"==typeof K&&null!=K&&(0,L.r3)(K,".priority")||(ne=ne.updatePriority(B.getPriority()));const Fe=v.currentWriteId,Je=Td(n),gt=H_(ne,B,Je);v.currentOutputSnapshotRaw=ne,v.currentOutputSnapshotResolved=gt,v.currentWriteId=Md(n),d.splice(d.indexOf(Fe),1),r=r.concat(P_(n.serverSyncTree_,v.path,gt,v.currentWriteId,v.applyLocally)),r=r.concat(Kl(n.serverSyncTree_,Fe,!0))}else T=!0,O="nodata",r=r.concat(Kl(n.serverSyncTree_,v.currentWriteId,!0))}os(n.eventQueue_,e,r),r=[],T&&(t[p].status=2,setTimeout(t[p].unwatcher,Math.floor(0)),t[p].onComplete&&i.push("nodata"===O?()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot):()=>t[p].onComplete(new Error(O),!1,null)))}Jh(n,n.transactionQueueTree_);for(let p=0;p<i.length;p++)Th(i[p]);Jc(n,n.transactionQueueTree_)}(n,aC(n,e),i),i}function Q_(n,t){let e,i=n.transactionQueueTree_;for(e=It(t);null!==e&&void 0===Ql(i);)i=zh(i,e),e=It(t=fn(t));return i}function aC(n,t){const e=[];return lC(n,t,e),e.sort((i,r)=>i.order-r.order),e}function lC(n,t,e){const i=Ql(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Wh(t,r=>{lC(n,r,e)})}function Jh(n,t){const e=Ql(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,Sd(t,e.length>0?e:void 0)}Wh(t,i=>{Jh(n,i)})}function bg(n,t){const e=Id(Q_(n,t)),i=zh(n.transactionQueueTree_,t);return function fg(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{Cg(n,r)}),Cg(n,i),hg(i,r=>{Cg(n,r)}),e}function Cg(n,t){const e=Ql(t);if(e){const i=[];let r=[],c=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,L.hu)(c===d-1,"All SENT items should be at beginning of queue."),c=d,e[d].status=3,e[d].abortReason="set"):((0,L.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),r=r.concat(Kl(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&i.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Sd(t,void 0):e.length=c+1,os(n.eventQueue_,Id(t),r);for(let d=0;d<i.length;d++)Th(i[d])}}const X_=function(n,t){const e=nD(n),i=e.namespace;return"firebase.com"===e.domain&&la(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&la("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ji("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $c(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new rn(e.pathString)}},nD=function(n){let t="",e="",i="",r="",c="",d=!0,p="https",v=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(p=n.substring(0,D-1),n=n.substring(D+2));let T=n.indexOf("/");-1===T&&(T=n.length);let O=n.indexOf("?");-1===O&&(O=n.length),t=n.substring(0,Math.min(T,O)),T<O&&(r=function cC(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(c){}t+="/"+r}return t}(n.substring(T,O)));const B=function tD(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ji(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,O)));D=t.indexOf(":"),D>=0?(d="https"===p||"wss"===p,v=parseInt(t.substring(D+1),10)):D=t.length;const K=t.slice(0,D);if("localhost"===K.toLowerCase())e="localhost";else if(K.split(".").length<=2)e=K;else{const ne=t.indexOf(".");i=t.substring(0,ne).toLowerCase(),e=t.substring(ne+1),c=i}"ns"in B&&(c=B.ns)}return{host:t,port:v,domain:e,subdomain:i,secure:d,scheme:p,pathString:r,namespace:c}},kd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iD=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const c=new Array(8);for(r=7;r>=0;r--)c[r]=kd.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let d=c.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)d+=kd.charAt(t[r]);return(0,L.hu)(20===d.length,"nextPushId: Length should be 20."),d}}();class uC{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Wl)(this.snapshot.exportVal())}}class dC{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Fd{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class J_{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new L.BH;return BS(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ps("OnDisconnect.remove",this._path);const t=new L.BH;return _g(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ps("OnDisconnect.set",this._path),ga("OnDisconnect.set",t,this._path,!1);const e=new L.BH;return _g(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ps("OnDisconnect.setWithPriority",this._path),ga("OnDisconnect.setWithPriority",t,this._path,!1),$_("OnDisconnect.setWithPriority",e,!1);const i=new L.BH;return function VS(n,t,e,i,r){const c=Dn(e,i);n.server_.onDisconnectPut(t.toString(),c.val(!0),(d,p)=>{"ok"===d&&ha(n.onDisconnect_,t,c),Xl(0,r,d,p)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Ps("OnDisconnect.update",this._path),Kb("OnDisconnect.update",t,this._path,!1);const e=new L.BH;return function rC(n,t,e,i){if((0,L.xb)(e))return ri("onDisconnect().update() called with empty data.  Don't do anything."),void Xl(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,c)=>{"ok"===r&&Gi(e,(d,p)=>{const v=Dn(p);ha(n.onDisconnect_,Nn(t,d),v)}),Xl(0,i,r,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class mr{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Ot(this._path)?null:Rh(this._path)}get ref(){return new nr(this._repo,this._path)}get _queryIdentifier(){const t=bb(this._queryParams),e=Gm(t);return"{}"===e?"default":e}get _queryObject(){return bb(this._queryParams)}isEqual(t){if(!((t=(0,L.m9)(t))instanceof mr))return!1;const e=this._repo===t._repo,i=Np(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Km(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function ef(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Jl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Os){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Hc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Wa)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===pn){if(null!=t&&!qh(t)||null!=e&&!qh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof n_||n.getIndex()===jp,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ec(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class nr extends mr{constructor(t,e){super(t,e,new i_,!1)}get parent(){const t=vE(this._path);return null===t?null:new nr(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class eu{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new rn(t),i=tc(this.ref,t);return new eu(this._node.getChild(e),i,pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new eu(r,tc(this.ref,i),pn)))}hasChild(t){const e=new rn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hC(n,t){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==t?tc(n._root,t):n._root}function fC(n,t){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=X_(t,n._repo.repoInfo_.nodeAdmin);Qb("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&la("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),hC(n,e.path.toString())}function tc(n,t){return null===It((n=(0,L.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Qh("child","path",e,!1)):Qh("child","path",t,!1),new nr(n._repo,Nn(n._path,t));var e}function wg(n,t){n=(0,L.m9)(n),Ps("set",n._path),ga("set",t,n._path,!1);const e=new L.BH;return Z_(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function HS(n,t){Kb("update",t,n._path,!1);const e=new L.BH;return function JE(n,t,e,i){Od(n,"update",{path:t.toString(),value:e});let r=!0;const c=Td(n),d={};if(Gi(e,(p,v)=>{r=!1,d[p]=Ad(Nn(t,p),Dn(v),n.serverSyncTree_,c)}),r)ri("update() called with empty data.  Don't do anything."),Xl(0,i,"ok",void 0);else{const p=Md(n),v=function Bb(n,t,e,i){!function f_(n,t,e,i){(0,L.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Kp(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=gn.fromObject(e);return Dd(n,new vo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,d,p);mg(n.eventQueue_,v),n.server_.merge(t.toString(),e,(D,T)=>{const O="ok"===D;O||Ji("update at "+t+" failed: "+D);const B=Kl(n.serverSyncTree_,p,!O),K=B.length>0?mn(n,t):t;os(n.eventQueue_,K,B),Xl(0,i,D,T)}),Gi(e,D=>{const T=bg(n,Nn(t,D));mn(n,T)}),os(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function jS(n){n=(0,L.m9)(n);const t=new Fd(()=>{}),e=new Eg(t);return function Xc(n,t,e){const i=function $E(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(D,T)=>{const O=Ur(D,e);i=i||Qa(T,O)});let r=n.syncPointTree_.get(e);r?i=i||Qa(r,Qt()):(r=new T_,n.syncPointTree_=n.syncPointTree_.set(e,r));const c=null!=i,d=c?new ss(i,!0,!1):null;return function rg(n){return Vh(n.viewCache_)}(O_(r,t,Qp(n.pendingWriteTree_,t._path),c?d.getNode():At.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const c=Dn(r).withIndex(t._queryParams.getIndex());let d;if(lg(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())d=Bn(n.serverSyncTree_,t._path,c);else{const p=cg(n.serverSyncTree_,t);d=Ub(n.serverSyncTree_,t._path,c,p)}return os(n.eventQueue_,t._path,d),Gh(n.serverSyncTree_,t,e,null,!0),c},r=>(Od(n,"get for query "+(0,L.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new eu(i,new nr(n._repo,n._path),n._queryParams.getIndex()))}class Eg{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new uC("value",this,new eu(t.snapshotNode,new nr(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new dC(this,t,e):null}matches(t){return t instanceof Eg&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ey{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new dC(this,t,e):null}createEvent(t,e){(0,L.hu)(null!=t.childName,"Child events should have a childName.");const i=tc(new nr(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new uC(t.type,this,new eu(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ey&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Pd(n,t,e,i,r){let c;if("object"==typeof i&&(c=void 0,r=i),"function"==typeof i&&(c=i),r&&r.onlyOnce){const v=e,D=(T,O)=>{oC(n._repo,n,p),v(T,O)};D.userCallback=e.userCallback,D.context=e.context,e=D}const d=new Fd(e,c||void 0),p="value"===t?new Eg(d):new ey(t,d);return function sC(n,t,e){let i;i=".info"===It(t._path)?lg(n.infoSyncTree_,t,e):lg(n.serverSyncTree_,t,e),Xb(n.eventQueue_,t._path,i)}(n._repo,n,p),()=>oC(n._repo,n,p)}function Nd(n,t,e,i){return Pd(n,"value",t,e,i)}function gC(n,t,e,i){return Pd(n,"child_added",t,e,i)}function mC(n,t,e,i){return Pd(n,"child_changed",t,e,i)}function ty(n,t,e,i){return Pd(n,"child_moved",t,e,i)}function Ld(n,t,e,i){return Pd(n,"child_removed",t,e,i)}function _C(n,t,e){let i=null;const r=e?new Fd(e):null;"value"===t?i=new Eg(r):t&&(i=new ey(t,r)),oC(n._repo,n,i)}class Eo{}class yC extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ga("endAt",this._value,t._path,!0);const e=s_(t._queryParams,this._value,this._key);if(ec(e),Jl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mr(t._repo,t._path,e,t._orderByCalled)}}class cD extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ga("endBefore",this._value,t._path,!1);const e=function IE(n,t,e){let i;return i=s_(n,t,n.index_===Os||e?e:Hc),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(ec(e),Jl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mr(t._repo,t._path,e,t._orderByCalled)}}class bC extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ga("startAt",this._value,t._path,!0);const e=Nh(t._queryParams,this._value,this._key);if(ec(e),Jl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mr(t._repo,t._path,e,t._orderByCalled)}}class Bd extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ga("startAfter",this._value,t._path,!1);const e=function SE(n,t,e){let i;return i=Nh(n,t,n.index_===Os||e?e:Wa),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(ec(e),Jl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mr(t._repo,t._path,e,t._orderByCalled)}}class CC extends Eo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mr(t._repo,t._path,function r_(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class wC extends Eo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mr(t._repo,t._path,function AE(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class EC extends Eo{constructor(t){super(),this._path=t}_apply(t){ef(t,"orderByChild");const e=new rn(this._path);if(Ot(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new n_(e),r=Wp(t._queryParams,i);return Jl(r),new mr(t._repo,t._path,r,!0)}}class ny extends Eo{_apply(t){ef(t,"orderByKey");const e=Wp(t._queryParams,Os);return Jl(e),new mr(t._repo,t._path,e,!0)}}class DC extends Eo{_apply(t){ef(t,"orderByPriority");const e=Wp(t._queryParams,pn);return Jl(e),new mr(t._repo,t._path,e,!0)}}class mD extends Eo{_apply(t){ef(t,"orderByValue");const e=Wp(t._queryParams,jp);return Jl(e),new mr(t._repo,t._path,e,!0)}}class yD extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ga("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yC(this._value,this._key)._apply(new bC(this._value,this._key)._apply(t))}}function Do(n,...t){let e=(0,L.m9)(n);for(const i of t)e=i._apply(e);return e}(function Rb(n){(0,L.hu)(!og,"__referenceConstructor has already been defined"),og=n})(nr),function Pb(n){(0,L.hu)(!jh,"__referenceConstructor has already been defined"),jh=n}(nr);const ry={};function IC(n,t,e,i,r){let c=i||n.options.databaseURL;void 0===c&&(n.options.projectId||la("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ri("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let v,D,d=X_(c,r),p=d.repoInfo;"undefined"!=typeof process&&process.env&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(v=!0,c=`http://${D}?ns=${p.namespace}`,d=X_(c,r),p=d.repoInfo):v=!d.repoInfo.secure;const T=r&&v?new Gc(Gc.OWNER):new Fv(n.name,n.options,t);Qb("Invalid Firebase Database URL",d),Ot(d.path)||la("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function CD(n,t,e,i){let r=ry[t.name];r||(r={},ry[t.name]=r);let c=r[n.toURLString()];return c&&la("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new tC(n,false,e,i),r[n.toURLString()]=c,c}(p,n,T,new oE(n.name,e));return new ED(O,n)}class ED{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function nC(n,t,e){if(n.stats_=zm(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Zc(n.repoInfo_,(i,r,c,d)=>{Y_(n,i,r,c,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>q_(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new qa(n.repoInfo_,t,(i,r,c,d)=>{Y_(n,i,r,c,d)},i=>{q_(n,i)},i=>{!function iC(n,t){Gi(t,(e,i)=>{Xh(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function Uv(n,t){const e=n.toString();return Gl[e]||(Gl[e]=t()),Gl[e]}(n.repoInfo_,()=>new qp(n.stats_,n.server_)),n.infoData_=new gd,n.infoSyncTree_=new Lb({startListening:(i,r,c,d)=>{let p=[];const v=n.infoData_.getNode(i._path);return v.isEmpty()||(p=Bn(n.infoSyncTree_,i._path,v),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),Xh(n,"connected",!1),n.serverSyncTree_=new Lb({startListening:(i,r,c,d)=>(n.server_.listen(i,c,r,(p,v)=>{const D=d(p,v);os(n.eventQueue_,i._path,D)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nr(this._repo,Qt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function bD(n,t){const e=ry[t];(!e||e[n.key]!==n)&&la(`Database ${t}(${n.repoInfo_}) has already been deleted.`),ft(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&la("Cannot call "+t+" on a deleted database.")}}function sy(){qv.IS_TRANSPORT_INITIALIZED&&Ji("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function TC(){sy(),Wc.forceDisallow()}function DD(){sy(),Yc.forceDisallow(),Wc.forceAllow()}function SD(n,t){wp(n,t)}const ly={".sv":"timestamp"};class ID{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qa.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},qa.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function ay(n){Um(_t.SDK_VERSION),(0,_t._registerComponent)(new Bc.wA("database",(t,{instanceIdentifier:e})=>IC(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,_t.registerVersion)(Vm,"0.14.0",n),(0,_t.registerVersion)(Vm,"0.14.0","esm2017")}();const kC=new Ah.Yd("@firebase/database-compat"),FC=function(n){kC.warn("FIREBASE WARNING: "+n)};class RD{constructor(t){this._delegate=t}cancel(t){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),c=>i(c)),r}update(t,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let c=0;c<t.length;++c)r[""+c]=t[c];t=r,FC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class Dg{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class nc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Qh("DataSnapshot.child","path",t,!1),new nc(this._database,this._delegate.child(t))}hasChild(t){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Qh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new nc(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new $i(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class $n{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var c;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const d=$n.getCancelAndContextArgs_("Query.on",i,r),p=(D,T)=>{e.call(d.context,new nc(this.database,D),T)};p.userCallback=e,p.context=d.context;const v=null===(c=d.cancel)||void 0===c?void 0:c.bind(d.context);switch(t){case"value":return Nd(this._delegate,p,v),e;case"child_added":return gC(this._delegate,p,v),e;case"child_removed":return Ld(this._delegate,p,v),e;case"child_changed":return mC(this._delegate,p,v),e;case"child_moved":return ty(this._delegate,p,v),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,_C(this._delegate,t,r)}else _C(this._delegate,t)}get(){return jS(this._delegate).then(t=>new nc(this.database,t))}once(t,e,i,r){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const c=$n.getCancelAndContextArgs_("Query.once",i,r),d=new L.BH,p=(D,T)=>{const O=new nc(this.database,D);e&&e.call(c.context,O,T),d.resolve(O)};p.userCallback=e,p.context=c.context;const v=D=>{c.cancel&&c.cancel.call(c.context,D),d.reject(D)};switch(t){case"value":Nd(this._delegate,p,v,{onlyOnce:!0});break;case"child_added":gC(this._delegate,p,v,{onlyOnce:!0});break;case"child_removed":Ld(this._delegate,p,v,{onlyOnce:!0});break;case"child_changed":mC(this._delegate,p,v,{onlyOnce:!0});break;case"child_moved":ty(this._delegate,p,v,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(t){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new $n(this.database,Do(this._delegate,function hD(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new CC(n)}(t)))}limitToLast(t){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new $n(this.database,Do(this._delegate,function fD(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new wC(n)}(t)))}orderByChild(t){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new $n(this.database,Do(this._delegate,function pD(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qh("orderByChild","path",n,!1),new EC(n)}(t)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new $n(this.database,Do(this._delegate,function gD(){return new ny}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new $n(this.database,Do(this._delegate,function xC(){return new DC}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new $n(this.database,Do(this._delegate,function _D(){return new mD}()))}startAt(t=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new $n(this.database,Do(this._delegate,function uD(n=null,t){return Kh("startAt","key",t,!0),new bC(n,t)}(t,e)))}startAfter(t=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new $n(this.database,Do(this._delegate,function dD(n,t){return Kh("startAfter","key",t,!0),new Bd(n,t)}(t,e)))}endAt(t=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new $n(this.database,Do(this._delegate,function lD(n,t){return Kh("endAt","key",t,!0),new yC(n,t)}(t,e)))}endBefore(t=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new $n(this.database,Do(this._delegate,function vC(n,t){return Kh("endBefore","key",t,!0),new cD(n,t)}(t,e)))}equalTo(t,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new $n(this.database,Do(this._delegate,function iy(n,t){return Kh("equalTo","key",t,!0),new yD(n,t)}(t,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof $n))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,L.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,L.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new $i(this.database,new nr(this._delegate._repo,this._delegate._path))}}class $i extends $n{constructor(t,e){super(t,new mr(e._repo,e._path,new i_,!1)),this.database=t,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new $i(this.database,tc(this._delegate,t))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new $i(this.database,t):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new $i(this.database,this._delegate.root)}set(t,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const i=wg(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let c=0;c<t.length;++c)r[""+c]=t[c];t=r,FC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ps("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const i=HS(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function aD(n,t,e){if(Ps("setWithPriority",n._path),ga("setWithPriority",t,n._path,!1),$_("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new L.BH;return Z_(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),c=>i(c)),r}remove(t){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",t,!0);const e=function sD(n){return Ps("remove",n._path),wg(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function TD(n,t,e){var i;if(n=(0,L.m9)(n),Ps("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,c=new L.BH,p=Nd(n,()=>{});return function yg(n,t,e,i,r,c){Od(n,"transaction on "+t);const d={path:t,update:e,onComplete:i,status:null,order:nE(),applyLocally:c,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},p=K_(n,t,void 0);d.currentInputSnapshot=p;const v=d.update(p.val());if(void 0===v)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{Zh("transaction failed: Data returned ",v,d.path),d.status=0;const D=zh(n.transactionQueueTree_,t),T=Ql(D)||[];let O;T.push(d),Sd(D,T),"object"==typeof v&&null!==v&&(0,L.r3)(v,".priority")?(O=(0,L.DV)(v,".priority"),(0,L.hu)(qh(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(Ja(n.serverSyncTree_,t)||At.EMPTY_NODE).getPriority().val();const B=Td(n),K=Dn(v,O),ne=H_(K,p,B);d.currentOutputSnapshotRaw=K,d.currentOutputSnapshotResolved=ne,d.currentWriteId=Md(n);const Ce=P_(n.serverSyncTree_,t,ne,d.currentWriteId,d.applyLocally);os(n.eventQueue_,t,Ce),Jc(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(v,D,T)=>{let O=null;v?c.reject(v):(O=new eu(T,new nr(n._repo,n._path),pn),c.resolve(new ID(D,O)))},p,r),c.promise}(this._delegate,t,{applyLocally:i}).then(c=>new Dg(c.committed,new nc(this.database,c.snapshot)));return e&&r.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),r}setPriority(t,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const i=function oD(n,t){n=(0,L.m9)(n),Ps("setPriority",n._path),$_("setPriority",t,!1);const e=new L.BH;return Z_(n._repo,Nn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const i=function pC(n,t){n=(0,L.m9)(n),Ps("push",n._path),ga("push",t,n._path,!0);const e=W_(n._repo),i=iD(e),r=tc(n,i),c=tc(n,i);let d;return d=null!=t?wg(c,t).then(()=>c):Promise.resolve(c),r.then=d.then.bind(d),r.catch=d.then.bind(d,void 0),r}(this._delegate,t),r=i.then(d=>new $i(this.database,d));e&&r.then(()=>e(null),d=>e(d));const c=new $i(this.database,i);return c.then=r.then.bind(r),c.catch=r.catch.bind(r,void 0),c}onDisconnect(){return Ps("Reference.onDisconnect",this._delegate._path),new RD(new J_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class tf{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:TC,forceLongPolling:DD}}useEmulator(t,e,i={}){!function oy(n,t,e,i={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&la("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let c;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&la('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Gc(Gc.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,L.Sg)(i.mockUserToken,n.app.options.projectId);c=new Gc(d)}!function vD(n,t,e,i){n.repoInfo_=new $c(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,c)}(this._delegate,t,e,i)}ref(t){if((0,L.Dv)("database.ref",0,1,arguments.length),t instanceof $i){const e=fC(this._delegate,t.toString());return new $i(this,e)}{const e=hC(this._delegate,t);return new $i(this,e)}}refFromURL(t){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const i=fC(this._delegate,t);return new $i(this,i)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function xD(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),ft(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function AD(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function eD(n){n.persistentConnection_&&n.persistentConnection_.resume(z_)}(n._repo)}(this._delegate)}}tf.ServerValue={TIMESTAMP:function MC(){return ly}(),increment:n=>function cy(n){return{".sv":{increment:n}}}(n)};var NC=Object.freeze({__proto__:null,initStandalone:function WS({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:c=!1}){Um(e);const d=new Bc.zt("auth-internal",new Bc.H0("database-standalone"));return d.setComponent(new Bc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new tf(IC(n,d,void 0,t,c),n),namespace:r}}});const OD=tf.ServerValue;!function kD(n){n.INTERNAL.registerComponent(new Bc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new tf(r,i)},"PUBLIC").setServiceProps({Reference:$i,Query:$n,Database:tf,DataSnapshot:nc,enableLogging:SD,INTERNAL:NC,ServerValue:OD}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.0")}(eE.Z);var xg=F(5363),FD=F(6063);class LC extends xt.x{constructor(t=1/0,e=1/0,i=FD.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:c,_windowTime:d}=this;e||(i.push(t),!r&&i.push(c.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,c=r.slice();for(let d=0;d<c.length&&!t.closed;d+=i?1:2)t.next(c[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,c=(r?1:2)*t;if(t<1/0&&c<i.length&&i.splice(0,i.length-c),!r){const d=e.now();let p=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)p=v;p&&i.splice(0,p+1)}}}function uy(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,Mv.B)({connector:()=>new LC(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ag(n,t){return(0,Kn.m)(t)?Mn(()=>n,t):Mn(()=>n)}var Vd=F(9468);F(259);const Ig=new Map,UD={activated:!1,tokenObservers:[]},UC={initialized:!1,enabled:!1};function mi(n){return Ig.get(n)||Object.assign({},UD)}function sf(){return UC}class zD{constructor(t,e,i,r,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=r,r>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Vc.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function WD(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ir=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fy(n){if(!mi(n).activated)throw ir.create("use-before-activation",{appName:n.name})}function Mg(n,t){return py.apply(this,arguments)}function py(){return(py=(0,Vc.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const O=yield r.getHeartbeatsHeader();O&&(i["X-Firebase-Client"]=O)}const c={method:"POST",body:JSON.stringify(t),headers:i};let d,p;try{d=yield fetch(n,c)}catch(O){throw ir.create("fetch-network-error",{originalErrorMessage:null==O?void 0:O.message})}if(200!==d.status)throw ir.create("fetch-status-error",{httpStatus:d.status});try{p=yield d.json()}catch(O){throw ir.create("fetch-parse-error",{originalErrorMessage:null==O?void 0:O.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw ir.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const D=1e3*Number(v[1]),T=Date.now();return{token:p.token,expireTimeMillis:T+D,issuedAtTimeMillis:T}})).apply(this,arguments)}function qD(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const el="firebase-app-check-store";let Hd=null;function xo(){return Hd||(Hd=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(ir.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(el,{keyPath:"compositeKey"})}}catch(e){t(ir.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}),Hd)}function my(){return(my=(0,Vc.Z)(function*(n,t){const i=(yield xo()).transaction(el,"readwrite"),c=i.objectStore(el).put({compositeKey:n,value:t});return new Promise((d,p)=>{c.onsuccess=v=>{d()},i.onerror=v=>{var D;p(ir.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const hf=new Ah.Yd("@firebase/app-check");function ff(n,t){return(0,L.hl)()?function gy(n,t){return function zC(n,t){return my.apply(this,arguments)}(function WC(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{hf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function ZC(){return sf().enabled}function JD(){return pf.apply(this,arguments)}function pf(){return(pf=(0,Vc.Z)(function*(){const n=sf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const KC={error:"UNKNOWN_ERROR"};function vy(n){return L.US.encodeString(JSON.stringify(n),!1)}function Gd(n){return by.apply(this,arguments)}function by(){return(by=(0,Vc.Z)(function*(n,t=!1){const e=n.app;fy(e);const i=mi(e);let c,r=i.token;if(r&&!tu(r)&&(i.token=void 0,r=void 0),!r){const v=yield i.cachedTokenPromise;v&&(tu(v)?r=v:yield ff(e,void 0))}if(!t&&r&&tu(r))return{token:r.token};let p,d=!1;if(ZC()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Mg(qD(e,yield JD()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const v=yield i.exchangeTokenPromise;return yield ff(e,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield mi(e).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?hf.warn(v.message):hf.error(v),c=v}return r?c?p=tu(r)?{token:r.token,internalError:c}:Ey(c):(p={token:r.token},i.token=r,yield ff(e,r)):p=Ey(c),d&&Og(e,p),p})).apply(this,arguments)}function wy(n,t){const e=mi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function QC(n){const{app:t}=n,e=mi(t);let i=e.tokenRefresher;i||(i=function XC(n){const{app:t}=n;return new zD((0,Vc.Z)(function*(){let i;if(i=mi(t).token?yield Gd(n,!0):yield Gd(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=mi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Og(n,t){const e=mi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function tu(n){return n.expireTimeMillis-Date.now()>0}function Ey(n){return{token:vy(KC),error:n}}class JC{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=mi(this.app);for(const e of t)wy(this.app,e.next);return Promise.resolve()}}const Sy="app-check-internal";!function Fg(){(0,_t._registerComponent)(new Bc.wA("app-check",n=>function ew(n,t){return new JC(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Sy).initialize()})),(0,_t._registerComponent)(new Bc.wA(Sy,n=>function ex(n){return{getToken:t=>Gd(n,t),addTokenListener:t=>function Cy(n,t,e,i){const{app:r}=n,c=mi(r);if(c.tokenObservers=[...c.tokenObservers,{next:e,error:i,type:t}],c.token&&tu(c.token)){const p=c.token;Promise.resolve().then(()=>{e({token:p.token}),QC(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>QC(n))}(n,"INTERNAL",t),removeTokenListener:t=>wy(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_t.registerVersion)("@firebase/app-check","0.6.0")}();class mf{constructor(){return(0,Rs.vb)("app-check")}}"undefined"!=typeof window&&window;var mw=F(9260);const yw=new l.OlP("angularfire2.auth.use-emulator"),vw=new l.OlP("angularfire2.auth.settings"),mx=new l.OlP("angularfire2.auth.tenant-id"),My=new l.OlP("angularfire2.auth.langugage-code"),_x=new l.OlP("angularfire2.auth.use-device-language"),yx=new l.OlP("angularfire.auth.persistence"),vx=(n,t,e,i,r,c,d,p)=>(0,go.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=r,c&&v.useDeviceLanguage(),d)for(const[D,T]of Object.entries(d))v.settings[D]=T;return p&&v.setPersistence(p),v},[e,i,r,c,d,p]);let bx=(()=>{class n{constructor(e,i,r,c,d,p,v,D,T,O,B,K){const ne=new xt.x,Ce=Ke(void 0).pipe((0,xg.Q)(d.outsideAngular),Mn(()=>c.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9169)))),(0,wt.U)(()=>(0,go.on)(e,c,i)),(0,wt.U)(Fe=>vx(Fe,c,p,D,T,O,v,B)),uy({bufferSize:1,refCount:!1}));if(dr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{Ce.pipe(ka()).subscribe();const Je=Ce.pipe(Mn(Tt=>Tt.getRedirectResult().then(zi=>zi,()=>null)),Rs.iC,uy({bufferSize:1,refCount:!1})),gt=Ce.pipe(Mn(Tt=>new ln.y(zi=>({unsubscribe:c.runOutsideAngular(()=>Tt.onAuthStateChanged(sr=>zi.next(sr),sr=>zi.error(sr),()=>zi.complete()))})))),Gt=Ce.pipe(Mn(Tt=>new ln.y(zi=>({unsubscribe:c.runOutsideAngular(()=>Tt.onIdTokenChanged(sr=>zi.next(sr),sr=>zi.error(sr),()=>zi.complete()))}))));this.authState=Je.pipe(Ag(gt),(0,Vd.R)(d.outsideAngular),(0,xg.Q)(d.insideAngular)),this.user=Je.pipe(Ag(Gt),(0,Vd.R)(d.outsideAngular),(0,xg.Q)(d.insideAngular)),this.idToken=this.user.pipe(Mn(Tt=>Tt?(0,Fn.D)(Tt.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(Mn(Tt=>Tt?(0,Fn.D)(Tt.getIdTokenResult()):Ke(null))),this.credential=(0,$a.T)(Je,ne,this.authState.pipe(qt(Tt=>!Tt))).pipe((0,wt.U)(Tt=>(null==Tt?void 0:Tt.user)?Tt:null),(0,Vd.R)(d.outsideAngular),(0,xg.Q)(d.insideAngular))}return(0,go.pX)(this,Ce,c,{spy:{apply:(Fe,Je,gt)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&gt.then(Gt=>ne.next(Gt))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(go.Dh),l.LFG(go.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Rs.HU),l.LFG(yw,8),l.LFG(vw,8),l.LFG(mx,8),l.LFG(My,8),l.LFG(_x,8),l.LFG(yx,8),l.LFG(mf,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Cx(n){return null==n}function _f(n){return"function"==typeof n.set}function wx(n,t){return _f(t)?t:n.ref(t)}function Ry(n,t){if(function eI(n){return"string"==typeof n}(n))return t.stringCase();if(_f(n))return t.firebaseCase();if(function tI(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function nu(n,t,e="on",i=xh.z){return new ln.y(r=>{let c=null;return c=n[e](t,(d,p)=>{i.schedule(()=>{r.next({snapshot:d,prevKey:p})}),"once"===e&&i.schedule(()=>r.complete())},d=>{i.schedule(()=>r.error(d))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,wt.U)(r=>{const{snapshot:c,prevKey:d}=r;let p=null;return c.exists()&&(p=c.key),{type:t,payload:c,prevKey:d,key:p}}),(0,Mv.B)())}function Oy(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function ky(n,t){const{payload:e,prevKey:i,key:r}=t,c=Oy(n,r),d=function nI(n,t){if(Cx(t))return 0;{const e=Oy(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let p=null;t.payload.forEach(v=>{const D={payload:v,type:"value",prevKey:p,key:v.key};return p=v.key,n=[...n,D],!1})}return n;case"child_added":if(c>-1){const p=n[c-1];(p&&p.key||null)!==i&&(n=n.filter(v=>v.payload.key!==e.key)).splice(d,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(d,0,t)}return n;case"child_removed":return n.filter(p=>p.payload.key!==e.key);case"child_changed":return n.map(p=>p.payload.key===r?t:p);case"child_moved":if(c>-1){const p=n.splice(c,1)[0];return(n=n.slice()).splice(d,0,p),n}return n;default:return n}}function Fy(n){return(Cx(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Cw(n,t,e){return function bw(n,t,e){return nu(n,"value","once",e).pipe(Mn(i=>{const r=[Ke(i)];return t.forEach(c=>r.push(nu(n,c,"on",e))),(0,$a.T)(...r).pipe(kr(ky,[]))}),Ms())}(n,t=Fy(t),e)}function Py(n,t,e){const i=(t=Fy(t)).map(r=>nu(n,r,"on",e));return(0,$a.T)(...i)}function Pg(n,t){return function(i,r){return Ry(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function xx(n){return function(e){return e?Ry(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function Ax(n,t){return function(){return nu(n,"value","on",t)}}const Sx=new l.OlP("angularfire2.realtimeDatabaseURL"),Ix=new l.OlP("angularfire2.database.use-emulator");let iu=(()=>{class n{constructor(e,i,r,c,d,p,v,D,T,O,B,K,ne,Ce,Fe){this.schedulers=p;const Je=v,gt=(0,go.on)(e,d,i);D&&vx(gt,d,T,B,K,ne,O,Ce),this.database=(0,go.cc)(`${gt.name}.database.${r}`,"AngularFireDatabase",gt.name,()=>{const Gt=d.runOutsideAngular(()=>gt.database(r||void 0));return Je&&Gt.useEmulator(...Je),Gt},[Je])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>wx(this.database,e));let c=r;return i&&(c=i(r)),function rI(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Pg(i,"update"),set:Pg(i,"set"),push:r=>i.push(r),remove:xx(i),snapshotChanges:r=>Cw(n,r,e).pipe(Rs.iC),stateChanges:r=>Py(n,r,e).pipe(Rs.iC),auditTrail:r=>function iI(n,t,e){return function Dx(n,t,e){return function Ex(n,t){return nu(n,"value","on",t).pipe((0,wt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Q0(...n){const t=(0,Uo.jO)(n);return(0,En.e)((e,i)=>{const r=n.length,c=new Array(r);let d=n.map(()=>!1),p=!1;for(let v=0;v<r;v++)(0,Xr.Xf)(n[v]).subscribe((0,wn.x)(i,D=>{c[v]=D,!p&&!d[v]&&(d[v]=!0,(p=d.every(pr.y))&&(d=null))},Bm.Z));e.subscribe((0,wn.x)(i,v=>{if(p){const D=[v,...c];i.next(t?t(...D):D)}}))})}(t),(0,wt.U)(([r,c])=>{const d=r.lastKeyToLoad,p=c.map(v=>v.key);return{actions:c,lastKeyToLoad:d,loadedKeys:p}}),function X0(n){return(0,En.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,wn.x)(e,c=>(i||(i=!n(c,r++)))&&e.next(c)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,wt.U)(r=>r.actions))}(n,Py(n,t).pipe(kr((r,c)=>[...r,c],[])),e)}(n,r,e).pipe(Rs.iC),valueChanges:(r,c)=>Cw(n,r,e).pipe((0,wt.U)(p=>p.map(v=>c&&c.idField?Object.assign(Object.assign({},v.payload.val()),{[c.idField]:v.key}):v.payload.val())),Rs.iC)}}(c,this)}object(e){return function sI(n,t){return{query:n,snapshotChanges:()=>Ax(n,t.schedulers.outsideAngular)().pipe(Rs.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>Ax(n,t.schedulers.outsideAngular)().pipe(Rs.iC,(0,wt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>wx(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(go.Dh),l.LFG(go.xv,8),l.LFG(Sx,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Rs.HU),l.LFG(Ix,8),l.LFG(bx,8),l.LFG(yw,8),l.LFG(vw,8),l.LFG(mx,8),l.LFG(My,8),l.LFG(_x,8),l.LFG(yx,8),l.LFG(mf,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oI=(()=>{class n{constructor(){mw.Z.registerVersion("angularfire",Rs.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iu]}),n})(),Tx=(()=>{class n{constructor(e){this.db=e,this.title="chameleon",this.generateUserId()}generateUserId(){sessionStorage.getItem("userId")?this.userId=sessionStorage.getItem("userId"):(this.userId=Z0(),sessionStorage.setItem("userId",this.userId))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[hh],styles:[""]}),n})();const Ng_firebase={apiKey:"AIzaSyCQ-B4QQumdwrsI_h3IkVjmhwENY8CJBHY",authDomain:"chameleon-board-game.firebaseapp.com",databaseURL:"https://chameleon-board-game-default-rtdb.europe-west1.firebasedatabase.app",projectId:"chameleon-board-game",storageBucket:"chameleon-board-game.appspot.com",messagingSenderId:"663808251011",appId:"1:663808251011:web:62a691d370b2937594f7b6",measurementId:"G-EZ8ES5XX4Z"};let Ns=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),ru=(()=>{class n extends Ns{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Ls=new l.OlP("NgValueAccessor"),Ny={provide:Ls,useExisting:(0,l.Gpc)(()=>yf),multi:!0},Dw=new l.OlP("CompositionEventMode");let yf=(()=>{class n extends Ns{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ew(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Dw,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[l._Bn([Ny]),l.qOj]}),n})();function nl(n){return null==n||0===n.length}function xw(n){return null!=n&&"number"==typeof n.length}const rr=new l.OlP("NgValidators"),ic=new l.OlP("NgAsyncValidators"),Ly=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class as{static min(t){return function By(n){return t=>{if(nl(t.value)||nl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Vy(n){return t=>{if(nl(t.value)||nl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Aw(t)}static requiredTrue(t){return function Ox(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Sw(n){return nl(n.value)||Ly.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Iw(n){return t=>nl(t.value)||!xw(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Tw(n){return t=>xw(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Uy(n){if(!n)return Lg;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(nl(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return jy(t)}static composeAsync(t){return Vg(t)}}function Aw(n){return nl(n.value)?{required:!0}:null}function Lg(n){return null}function Mw(n){return null!=n}function kx(n){const t=(0,l.QGY)(n)?(0,Fn.D)(n):n;return(0,l.CqO)(t),t}function Bg(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Hy(n,t){return t.map(e=>e(n))}function Rw(n){return n.map(t=>function Fx(n){return!n.validate}(t)?t:e=>t.validate(e))}function jy(n){if(!n)return null;const t=n.filter(Mw);return 0==t.length?null:function(e){return Bg(Hy(e,t))}}function vf(n){return null!=n?jy(Rw(n)):null}function Vg(n){if(!n)return null;const t=n.filter(Mw);return 0==t.length?null:function(e){return function Mx(...n){const t=(0,Uo.jO)(n),{args:e,keys:i}=Tn(n),r=new ln.y(c=>{const{length:d}=e;if(!d)return void c.complete();const p=new Array(d);let v=d,D=d;for(let T=0;T<d;T++){let O=!1;(0,Xr.Xf)(e[T]).subscribe((0,wn.x)(c,B=>{O||(O=!0,D--),p[T]=B},()=>v--,void 0,()=>{(!v||!O)&&(D||c.next(i?Ma(i,p):p),c.complete())}))}});return t?r.pipe(Cl(t)):r}(Hy(e,t).map(kx)).pipe((0,wt.U)(Bg))}}function Ug(n){return null!=n?Vg(Rw(n)):null}function Ow(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Gy(n){return n._rawValidators}function $y(n){return n._rawAsyncValidators}function zy(n){return n?Array.isArray(n)?n:[n]:[]}function Hg(n,t){return Array.isArray(n)?n.includes(t):n===t}function Px(n,t){const e=zy(t);return zy(n).forEach(r=>{Hg(e,r)||e.push(r)}),e}function Nx(n,t){return zy(t).filter(e=>!Hg(n,e))}class Wy{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ug(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class il extends Wy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yr extends Wy{get formDirective(){return null}get path(){return null}}class kw{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Fw=(()=>{class n extends kw{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(il,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),Pw=(()=>{class n extends kw{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function Wg(n,t){Ky(n,t),t.valueAccessor.writeValue(n.value),function Vw(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Qy(n,t)})}(n,t),function Hx(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Uw(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Qy(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Ux(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function bf(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),qg(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yg(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ky(n,t){const e=Gy(n);null!==t.validator?n.setValidators(Ow(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=$y(n);null!==t.asyncValidator?n.setAsyncValidators(Ow(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Yg(t._rawValidators,r),Yg(t._rawAsyncValidators,r)}function qg(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Gy(n);if(Array.isArray(r)&&r.length>0){const c=r.filter(d=>d!==t.validator);c.length!==r.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const r=$y(n);if(Array.isArray(r)&&r.length>0){const c=r.filter(d=>d!==t.asyncValidator);c.length!==r.length&&(e=!0,n.setAsyncValidators(c))}}}const i=()=>{};return Yg(t._rawValidators,i),Yg(t._rawAsyncValidators,i),e}function Qy(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Hw(n,t){Ky(n,t)}function Gx(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ev(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Zg="VALID",tv="INVALID",Cf="PENDING",Kg="DISABLED";function Yw(n){return(s(n)?n.validators:n)||null}function zx(n){return Array.isArray(n)?vf(n):n||null}function qw(n,t){return(s(t)?t.asyncValidators:n)||null}function Wx(n){return Array.isArray(n)?Ug(n):n||null}function s(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const o=n=>n instanceof E,a=n=>n instanceof I,u=n=>n instanceof R;function h(n){return o(n)?n.value:n.getRawValue()}function m(n,t){const e=a(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function y(n,t){a(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class C{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=zx(this._rawValidators),this._composedAsyncValidatorFn=Wx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zg}get invalid(){return this.status===tv}get pending(){return this.status==Cf}get disabled(){return this.status===Kg}get enabled(){return this.status!==Kg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=zx(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Wx(t)}addValidators(t){this.setValidators(Px(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Px(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Nx(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Nx(t,this._rawAsyncValidators))}hasValidator(t){return Hg(this._rawValidators,t)}hasAsyncValidator(t){return Hg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kg,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zg,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zg||this.status===Cf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kg:Zg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cf,this._hasOwnPendingAsyncValidator=!0;const e=kx(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function $x(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=a(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:u(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Kg:this.errors?tv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cf)?Cf:this._anyControlsHaveStatus(tv)?tv:Zg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){s(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class E extends C{constructor(t=null,e,i){super(Yw(e),qw(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),s(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ev(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ev(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class I extends C{constructor(t,e,i){super(Yw(e),qw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){y(this,t),Object.keys(t).forEach(i=>{m(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=h(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,c)=>{i=e(i,r,c)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class R extends C{constructor(t,e,i){super(Yw(e),qw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){y(this,t),t.forEach((i,r)=>{m(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>h(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const N={provide:yr,useExisting:(0,l.Gpc)(()=>X)},H=(()=>Promise.resolve(null))();let X=(()=>{class n extends yr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new I({},vf(e),Ug(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){H.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Wg(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){H.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){H.then(()=>{const i=this._findContainer(e.path),r=new I({});Hw(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){H.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){H.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Gx(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(rr,10),l.Y36(ic,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([N]),l.qOj]}),n})(),wf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Xg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Yx=new l.OlP("NgModelWithFormControlWarning"),xR={provide:yr,useExisting:(0,l.Gpc)(()=>em)};let em=(()=>{class n extends yr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Wg(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){bf(e.control||null,e,!1),ev(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Gx(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(bf(i||null,e),o(r)&&(Wg(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Hw(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function jw(n,t){return qg(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ky(this.form,this),this._oldForm&&qg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(rr,10),l.Y36(ic,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([xR]),l.qOj,l.TTD]}),n})();const IR={provide:il,useExisting:(0,l.Gpc)(()=>Kw)};let Kw=(()=>{class n extends il{constructor(e,i,r,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function zw(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(c=>{c.constructor===yf?e=c:function jx(n){return Object.getPrototypeOf(n.constructor)===ru}(c)?i=c:r=c}),r||i||e||null}(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Jy(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Zy(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(yr,13),l.Y36(rr,10),l.Y36(ic,10),l.Y36(Ls,10),l.Y36(Yx,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([IR]),l.qOj,l.TTD]}),n})(),Ef=(()=>{class n{constructor(){this._validator=Lg}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Lg,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const BR={provide:rr,useExisting:(0,l.Gpc)(()=>Qw),multi:!0};let Qw=(()=>{class n extends Ef{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function PR(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>Aw}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([BR]),l.qOj]}),n})(),$R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xg]]}),n})(),AI=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Yx,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$R]}),n})(),SI=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let p,c=null,d=null;return null!=i&&(function zR(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(c=null!=i.validators?i.validators:null,d=null!=i.asyncValidators?i.asyncValidators:null,p=null!=i.updateOn?i.updateOn:void 0):(c=null!=i.validator?i.validator:null,d=null!=i.asyncValidator?i.asyncValidator:null)),new I(r,{asyncValidators:d,updateOn:p,validators:c})}control(e,i,r){return new E(e,i,r)}array(e,i,r){const c=e.map(d=>this._createControl(d));return new R(c,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return o(e)||a(e)||u(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:AI}),n})();function _i(n){return null!=n&&"false"!=`${n}`}function II(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function TI(n){return Array.isArray(n)?n:[n]}function Pi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function su(n){return n instanceof l.SBq?n.nativeElement:n}var YR=F(1144);const qR=["addListener","removeListener"],ZR=["addEventListener","removeEventListener"],KR=["on","off"];function Xw(n,t,e,i){if((0,Kn.m)(e)&&(i=e,e=void 0),i)return Xw(n,t,e).pipe(Cl(i));const[r,c]=function JR(n){return(0,Kn.m)(n.addEventListener)&&(0,Kn.m)(n.removeEventListener)}(n)?ZR.map(d=>p=>n[d](t,p,e)):function QR(n){return(0,Kn.m)(n.addListener)&&(0,Kn.m)(n.removeListener)}(n)?qR.map(MI(n,t)):function XR(n){return(0,Kn.m)(n.on)&&(0,Kn.m)(n.off)}(n)?KR.map(MI(n,t)):[];if(!r&&(0,YR.z)(n))return(0,Pn.z)(d=>Xw(d,t,e))((0,Xr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ln.y(d=>{const p=(...v)=>d.next(1<v.length?v:v[0]);return r(p),()=>c(p)})}function MI(n,t){return e=>i=>n[e](t,i)}var RI=F(4408);const ov={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ov;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(c=>{e=void 0,n(c)});return new Or.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=ov;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ov;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var OI=F(7565);new class tO extends OI.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class eO extends RI.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ov.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:c}=t;null!=e&&(null===(r=c[c.length-1])||void 0===r?void 0:r.id)!==e&&(ov.cancelAnimationFrame(e),t._scheduled=void 0)}});let Xx,iO=1;const Jw={};function kI(n){return n in Jw&&(delete Jw[n],!0)}const rO={setImmediate(n){const t=iO++;return Jw[t]=!0,Xx||(Xx=Promise.resolve()),Xx.then(()=>kI(t)&&n()),t},clearImmediate(n){kI(n)}},{setImmediate:sO,clearImmediate:oO}=rO,e0={setImmediate(...n){const{delegate:t}=e0;return((null==t?void 0:t.setImmediate)||sO)(...n)},clearImmediate(n){const{delegate:t}=e0;return((null==t?void 0:t.clearImmediate)||oO)(n)},delegate:void 0};new class lO extends OI.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class aO extends RI.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=e0.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:c}=t;null!=e&&(null===(r=c[c.length-1])||void 0===r?void 0:r.id)!==e&&(e0.clearImmediate(e),t._scheduled=void 0)}});var dO=F(3532);function FI(n,t=xh.z){return function uO(n){return(0,En.e)((t,e)=>{let i=!1,r=null,c=null,d=!1;const p=()=>{if(null==c||c.unsubscribe(),c=null,i){i=!1;const D=r;r=null,e.next(D)}d&&e.complete()},v=()=>{c=null,d&&e.complete()};t.subscribe((0,wn.x)(e,D=>{i=!0,r=D,c||(0,Xr.Xf)(n(D)).subscribe(c=(0,wn.x)(e,p,v))},()=>{d=!0,(!i||!c||c.closed)&&e.complete()}))})}(()=>function fO(n=0,t,e=xh.P){let i=-1;return null!=t&&((0,dO.K)(t)?e=t:i=t),new ln.y(r=>{let c=function hO(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},c)})}(n,t))}let Jx;try{Jx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Jx=!1}let tm,Bs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?bn(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Jx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PI=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function NI(){if(tm)return tm;if("object"!=typeof document||!document)return tm=new Set(PI),tm;let n=document.createElement("input");return tm=new Set(PI.filter(t=>(n.setAttribute("type",t),n.type===t))),tm}let av,Df,eA;function t0(n){return function pO(){if(null==av&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>av=!0}))}finally{av=av||!1}return av}()?n:!!n.capture}function gO(){if(null==Df){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Df=!1,Df;if("scrollBehavior"in document.documentElement.style)Df=!0;else{const n=Element.prototype.scrollTo;Df=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Df}function tA(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function xf(n){return n.composedPath?n.composedPath()[0]:n.target}function nA(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const yO=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function vO(){return(0,l.f3M)(ie)}}),bO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Af=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function CO(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?bO.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),EO=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ln.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(FI(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ke()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(qt(c=>!c||r.indexOf(c)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,c)=>{this._scrollableContainsElement(c,e)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=su(i),c=e.getElementRef().nativeElement;do{if(r==c)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Xw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Bs),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iA=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new xt.x,this._changeListener=c=>{this._change.next(c)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,c=r.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-c.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(FI(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bs),l.LFG(l.R0b),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),sA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[nm,rA],nm,rA]}),n})();class oA{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class aA extends oA{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class LI extends oA{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xO extends oA{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class lA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof aA?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof LI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xO?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class AO extends lA{constructor(t,e,i,r,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const p=d.element,v=this._document.createComment("dom-portal");p.parentNode.insertBefore(v,p),this.outletElement.appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(p,v)})},this._document=c}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let BI=(()=>{class n extends lA{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");c.setAttachedHost(this),d.parentNode.insertBefore(p,d),this._getRootNode().appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(c,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(ie))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),VI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Gr(n){return(0,En.e)((t,e)=>{(0,Xr.Xf)(n).subscribe((0,wn.x)(e,()=>e.complete(),Bm.Z)),!e.closed&&t.subscribe(e)})}const UI=gO();class SO{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Pi(-this._previousScrollPosition.left),t.style.top=Pi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,c=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),UI&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),UI&&(i.scrollBehavior=c,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class IO{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class HI{enable(){}disable(){}attach(){}}function cA(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function jI(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class TO{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();cA(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let MO=(()=>{class n{constructor(e,i,r,c){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new HI,this.close=d=>new IO(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new SO(this._viewportRuler,this._document),this.reposition=d=>new TO(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=c}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(EO),l.LFG(iA),l.LFG(l.R0b),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GI{constructor(t){if(this.scrollStrategy=new HI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class RO{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class OO{constructor(t,e,i,r,c,d,p,v,D){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=c,this._keyboardDispatcher=d,this._document=p,this._location=v,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new xt.x,this._attachments=new xt.x,this._detachments=new xt.x,this._locationChanges=Or.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new xt.x,this._outsidePointerEvents=new xt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ai(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Pi(this._config.width),t.height=Pi(this._config.height),t.minWidth=Pi(this._config.minWidth),t.minHeight=Pi(this._config.minHeight),t.maxWidth=Pi(this._config.maxWidth),t.maxHeight=Pi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=TI(e||[]).filter(c=>!!c);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Gr((0,$a.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let uA=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||nA()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<r.length;c++)r[c].remove()}const i=this._document.createElement("div");i.classList.add(e),nA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ie),l.LFG(Bs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $I="cdk-overlay-connected-position-bounding-box",kO=/([A-Za-z%]+)$/;class FO{constructor(t,e,i,r,c){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xt.x,this._resizeSubscription=Or.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add($I),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,c=[];let d;for(let p of this._preferredPositions){let v=this._getOriginPoint(t,r,p),D=this._getOverlayPoint(v,e,p),T=this._getOverlayFit(D,e,i,p);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,v);this._canFitWithFlexibleDimensions(T,D,i)?c.push({position:p,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,p)}):(!d||d.overlayFit.visibleArea<T.visibleArea)&&(d={overlayFit:T,overlayPoint:D,originPoint:v,position:p,overlayRect:e})}if(c.length){let p=null,v=-1;for(const D of c){const T=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);T>v&&(v=T,p=D)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Sf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($I),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,c;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,p=this._isRtl()?t.left:t.right;r="start"==i.originX?d:p}return e.left<0&&(r-=e.left),c="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(c-=e.top),{x:r,y:c}}_getOverlayPoint(t,e,i){let r,c;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+c}}_getOverlayFit(t,e,i,r){const c=WI(e);let{x:d,y:p}=t,v=this._getOffset(r,"x"),D=this._getOffset(r,"y");v&&(d+=v),D&&(p+=D);let B=0-p,K=p+c.height-i.height,ne=this._subtractOverflows(c.width,0-d,d+c.width-i.width),Ce=this._subtractOverflows(c.height,B,K),Fe=ne*Ce;return{visibleArea:Fe,isCompletelyWithinViewport:c.width*c.height===Fe,fitsInViewportVertically:Ce===c.height,fitsInViewportHorizontally:ne==c.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,c=i.right-e.x,d=zI(this._overlayRef.getConfig().minHeight),p=zI(this._overlayRef.getConfig().minWidth),D=t.fitsInViewportHorizontally||null!=p&&p<=c;return(t.fitsInViewportVertically||null!=d&&d<=r)&&D}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=WI(e),c=this._viewportRect,d=Math.max(t.x+r.width-c.width,0),p=Math.max(t.y+r.height-c.height,0),v=Math.max(c.top-i.top-t.y,0),D=Math.max(c.left-i.left-t.x,0);let T=0,O=0;return T=r.width<=c.width?D||-d:t.x<this._viewportMargin?c.left-i.left-t.x:0,O=r.height<=c.height?v||-p:t.y<this._viewportMargin?c.top-i.top-t.y:0,this._previousPushAmount={x:T,y:O},{x:t.x+T,y:t.y+O}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new RO(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let c,d,p,T,O,B;if("top"===e.overlayY)d=t.y,c=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)p=i.height-t.y+2*this._viewportMargin,c=i.height-p+this._viewportMargin;else{const K=Math.min(i.bottom-t.y+i.top,t.y),ne=this._lastBoundingBoxSize.height;c=2*K,d=t.y-K,c>ne&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-ne/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)B=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)O=t.x,T=i.right-t.x;else{const K=Math.min(i.right-t.x+i.left,t.x),ne=this._lastBoundingBoxSize.width;T=2*K,O=t.x-K,T>ne&&!this._isInitialRender&&!this._growAfterOpen&&(O=t.x-ne/2)}return{top:d,left:O,bottom:p,right:B,width:T,height:c}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=Pi(i.height),r.top=Pi(i.top),r.bottom=Pi(i.bottom),r.width=Pi(i.width),r.left=Pi(i.left),r.right=Pi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(r.maxHeight=Pi(c)),d&&(r.maxWidth=Pi(d))}this._lastBoundingBoxSize=i,Sf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Sf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Sf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),c=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();Sf(i,this._getExactOverlayY(e,t,T)),Sf(i,this._getExactOverlayX(e,t,T))}else i.position="static";let p="",v=this._getOffset(e,"x"),D=this._getOffset(e,"y");v&&(p+=`translateX(${v}px) `),D&&(p+=`translateY(${D}px)`),i.transform=p.trim(),d.maxHeight&&(r?i.maxHeight=Pi(d.maxHeight):c&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=Pi(d.maxWidth):c&&(i.maxWidth="")),Sf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":r.top=Pi(c.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":r.left=Pi(c.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jI(t,i),isOriginOutsideView:cA(t,i),isOverlayClipped:jI(e,i),isOverlayOutsideView:cA(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&TI(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Sf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function zI(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(kO);return e&&"px"!==e?null:parseFloat(t)}return n||null}function WI(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const YI="cdk-global-overlay-wrapper";class PO{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(YI),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:c,maxWidth:d,maxHeight:p}=i,v=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),D=!("100%"!==c&&"100vh"!==c||p&&"100%"!==p&&"100vh"!==p);t.position=this._cssPosition,t.marginLeft=v?"0":this._leftOffset,t.marginTop=D?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,v?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(YI),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let NO=(()=>{class n{constructor(e,i,r,c){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=c}global(){return new PO}flexibleConnectedTo(e){return new FO(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(iA),l.LFG(ie),l.LFG(Bs),l.LFG(uA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qI=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LO=(()=>{class n extends qI{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const c=this._attachedOverlays;for(let d=c.length-1;d>-1;d--)if(c[d]._keydownEvents.observers.length>0){const p=c[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ie),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BO=(()=>{class n extends qI{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=xf(c)},this._clickListener=c=>{const d=xf(c),p="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let D=v.length-1;D>-1;D--){const T=v[D];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(d)||T.overlayElement.contains(p))break;const O=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>O.next(c)):O.next(c)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ie),l.LFG(Bs),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VO=0,lv=(()=>{class n{constructor(e,i,r,c,d,p,v,D,T,O,B){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=c,this._keyboardDispatcher=d,this._injector=p,this._ngZone=v,this._document=D,this._directionality=T,this._location=O,this._outsideClickDispatcher=B}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),c=this._createPortalOutlet(r),d=new GI(e);return d.direction=d.direction||this._directionality.value,new OO(c,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+VO++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new AO(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(MO),l.LFG(uA),l.LFG(l._Vd),l.LFG(NO),l.LFG(LO),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ie),l.LFG(Af),l.LFG(ge),l.LFG(BO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const jO={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[lv],useFactory:function HO(n){return()=>n.scrollStrategies.reposition()}};let ZI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[lv,jO],imports:[[nm,VI,sA],sA]}),n})(),JI=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function ek(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function JO(n){try{return n.frameElement}catch(t){return null}}(function lk(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===tT(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),c=tT(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function ok(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==c:"video"===r?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function ak(n){return!function nk(n){return function rk(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function tk(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function ik(n){return function sk(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||eT(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eT(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function tT(n){if(!eT(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class ck{constructor(t,e,i,r,c=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ai(1)).subscribe(t)}}let uk=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new ck(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(JI),l.LFG(l.R0b),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nT(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function iT(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const dk=new l.OlP("cdk-input-modality-detector-options"),hk={ignoreKeys:[18,17,224,91,16]},im=t0({passive:!0,capture:!0});let fk=(()=>{class n{constructor(e,i,r,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Zn(null),this._lastTouchMs=0,this._onKeydown=d=>{var p,v;(null===(v=null===(p=this._options)||void 0===p?void 0:p.ignoreKeys)||void 0===v?void 0:v.some(D=>D===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=xf(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(nT(d)?"keyboard":"mouse"),this._mostRecentTarget=xf(d))},this._onTouchstart=d=>{iT(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xf(d))},this._options=Object.assign(Object.assign({},hk),c),this.modalityDetected=this._modality.pipe(function KO(n){return qt((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Ms()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,im),r.addEventListener("mousedown",this._onMousedown,im),r.addEventListener("touchstart",this._onTouchstart,im)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,im),document.removeEventListener("mousedown",this._onMousedown,im),document.removeEventListener("touchstart",this._onTouchstart,im))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bs),l.LFG(l.R0b),l.LFG(ie),l.LFG(dk,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gk=new l.OlP("cdk-focus-monitor-default-options"),r0=t0({passive:!0,capture:!0});let sT=(()=>{class n{constructor(e,i,r,c,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xt.x,this._rootNodeFocusAndBlurListener=p=>{const v=xf(p),D="focus"===p.type?this._onFocus:this._onBlur;for(let T=v;T;T=T.parentElement)D.call(this,p,T)},this._document=c,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,i=!1){const r=su(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ke(null);const c=function _O(n){if(function mO(){if(null==eA){const n="undefined"!=typeof document?document.head:null;eA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return eA}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const p={checkChildren:i,subject:new xt.x,rootNode:c};return this._elementInfo.set(r,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const i=su(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const c=su(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([p,v])=>this._originChanged(p,i,v)):(this._setOrigin(i),"function"==typeof c.focus&&c.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),c=xf(e);!r||!r.checkChildren&&i!==c||this._originChanged(i,this._getFocusOrigin(c),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,r0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,r0)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Gr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,r0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,r0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,c)=>{(c===e||r.checkChildren&&c.contains(e))&&i.push([c,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Bs),l.LFG(fk),l.LFG(ie,8),l.LFG(gk,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oT="cdk-high-contrast-black-on-white",aT="cdk-high-contrast-white-on-black",dA="cdk-high-contrast-active";let mk=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,c=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(dA),e.remove(oT),e.remove(aT),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(dA),e.add(oT)):2===i&&(e.add(dA),e.add(aT))}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bs),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lT{}const ou="*";function s0(n,t){return{type:7,name:n,definitions:t,options:{}}}function cv(n,t=null){return{type:4,styles:t,timings:n}}function cT(n,t=null){return{type:3,steps:n,options:t}}function uT(n,t=null){return{type:2,steps:n,options:t}}function ma(n){return{type:6,styles:n,offset:null}}function rm(n,t,e){return{type:0,name:n,styles:t,options:e}}function sm(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function hA(n=null){return{type:9,options:n}}function fA(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function dT(n){Promise.resolve(null).then(n)}class uv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hT{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const c=this.players.length;0==c?dT(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==c&&this._onFinish()}),d.onDestroy(()=>{++i==c&&this._onDestroy()}),d.onStart(()=>{++r==c&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const zt=!1;function fT(n){return new l.vHH(3e3,zt)}function Qk(){return"undefined"!=typeof window&&void 0!==window.document}function gA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function zd(n){switch(n.length){case 0:return new uv;case 1:return n[0];default:return new hT(n)}}function pT(n,t,e,i,r={},c={}){const d=[],p=[];let v=-1,D=null;if(i.forEach(T=>{const O=T.offset,B=O==v,K=B&&D||{};Object.keys(T).forEach(ne=>{let Ce=ne,Fe=T[ne];if("offset"!==ne)switch(Ce=t.normalizePropertyName(Ce,d),Fe){case"!":Fe=r[ne];break;case ou:Fe=c[ne];break;default:Fe=t.normalizeStyleValue(ne,Ce,Fe,d)}K[Ce]=Fe}),B||p.push(K),D=K,v=O}),d.length)throw function Uk(n){return new l.vHH(3502,zt)}();return p}function mA(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&_A(e,"start",n)));break;case"done":n.onDone(()=>i(e&&_A(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&_A(e,"destroy",n)))}}function _A(n,t,e){const i=e.totalTime,c=yA(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),d=n._data;return null!=d&&(c._data=d),c}function yA(n,t,e,i,r="",c=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:c,disabled:!!d}}function Ao(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function gT(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let vA=(n,t)=>!1,mT=(n,t,e)=>[],_T=null;function bA(n){const t=n.parentNode||n.host;return t===_T?null:t}(gA()||"undefined"!=typeof Element)&&(Qk()?(_T=(()=>document.documentElement)(),vA=(n,t)=>{for(;t;){if(t===n)return!0;t=bA(t)}return!1}):vA=(n,t)=>n.contains(t),mT=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let If=null,yT=!1;function vT(n){If||(If=function Jk(){return"undefined"!=typeof document?document.body:null}()||{},yT=!!If.style&&"WebkitAppearance"in If.style);let t=!0;return If.style&&!function Xk(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in If.style,!t&&yT&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in If.style)),t}const bT=vA,CT=mT;let wT=(()=>{class n{validateStyleProperty(e){return vT(e)}matchesElement(e,i){return!1}containsElement(e,i){return bT(e,i)}getParentElement(e){return bA(e)}query(e,i,r){return CT(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,c,d,p=[],v){return new uv(r,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),CA=(()=>{class n{}return n.NOOP=new wT,n})();const wA="ng-enter",a0="ng-leave",l0="ng-trigger",c0=".ng-trigger",DT="ng-animating",EA=".ng-animating";function Tf(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:DA(parseFloat(t[1]),t[2])}function DA(n,t){return"s"===t?1e3*n:n}function u0(n,t,e){return n.hasOwnProperty("duration")?n:function nF(n,t,e){let r,c=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(fT()),{duration:0,delay:0,easing:""};r=DA(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(c=DA(parseFloat(v),p[4]));const D=p[5];D&&(d=D)}else r=n;if(!e){let p=!1,v=t.length;r<0&&(t.push(function yk(){return new l.vHH(3100,zt)}()),p=!0),c<0&&(t.push(function vk(){return new l.vHH(3101,zt)}()),p=!0),p&&t.splice(v,0,fT())}return{duration:r,delay:c,easing:d}}(n,t,e)}function om(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Wd(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else om(n,e);return e}function AT(n,t,e){return e?t+":"+e+";":""}function ST(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=AT(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=AT(0,sF(e),n.style[e]));n.setAttribute("style",t)}function sc(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=AA(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),gA()&&ST(n))}function Mf(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=AA(e);n.style[i]=""}),gA()&&ST(n))}function dv(n){return Array.isArray(n)?1==n.length?n[0]:uT(n):n}const xA=new RegExp("{{\\s*(.+?)\\s*}}","g");function IT(n){let t=[];if("string"==typeof n){let e;for(;e=xA.exec(n);)t.push(e[1]);xA.lastIndex=0}return t}function d0(n,t,e){const i=n.toString(),r=i.replace(xA,(c,d)=>{let p=t[d];return t.hasOwnProperty(d)||(e.push(function Ck(n){return new l.vHH(3003,zt)}()),p=""),p.toString()});return r==i?n:r}function h0(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const rF=/-+([a-z0-9])/g;function AA(n){return n.replace(rF,(...t)=>t[1].toUpperCase())}function sF(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function So(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function wk(n){return new l.vHH(3004,zt)}()}}function TT(n,t){return window.getComputedStyle(n)[t]}function dF(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function hF(n,t,e){if(":"==n[0]){const v=function fF(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Nk(n){return new l.vHH(3016,zt)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Pk(n){return new l.vHH(3015,zt)}()),t;const r=i[1],c=i[2],d=i[3];t.push(MT(r,d));"<"==c[0]&&!("*"==r&&"*"==d)&&t.push(MT(d,r))}(i,e,t)):e.push(n),e}const m0=new Set(["true","1"]),_0=new Set(["false","0"]);function MT(n,t){const e=m0.has(n)||_0.has(n),i=m0.has(t)||_0.has(t);return(r,c)=>{let d="*"==n||n==r,p="*"==t||t==c;return!d&&e&&"boolean"==typeof r&&(d=r?m0.has(n):_0.has(n)),!p&&i&&"boolean"==typeof c&&(p=c?m0.has(t):_0.has(t)),d&&p}}const pF=new RegExp("s*:selfs*,?","g");function SA(n,t,e,i){return new gF(n).build(t,e,i)}class gF{constructor(t){this._driver=t}build(t,e,i){const r=new yF(e);this._resetContextStyleTimingState(r);const c=So(this,dv(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),c}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const c=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function Dk(){return new l.vHH(3006,zt)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const v=p,D=v.name;D.toString().split(/\s*,\s*/).forEach(T=>{v.name=T,c.push(this.visitState(v,e))}),v.name=D}else if(1==p.type){const v=this.visitTransition(p,e);i+=v.queryCount,r+=v.depCount,d.push(v)}else e.errors.push(function xk(){return new l.vHH(3007,zt)}())}),{type:7,name:t.name,states:c,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const c=new Set,d=r||{};i.styles.forEach(p=>{if(y0(p)){const v=p;Object.keys(v).forEach(D=>{IT(v[D]).forEach(T=>{d.hasOwnProperty(T)||c.add(T)})})}}),c.size&&(h0(c.values()),e.errors.push(function Ak(n,t){return new l.vHH(3008,zt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=So(this,dv(t.animation),e);return{type:1,matchers:dF(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Rf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>So(this,i,e)),options:Rf(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const c=t.steps.map(d=>{e.currentTime=i;const p=So(this,d,e);return r=Math.max(r,e.currentTime),p});return e.currentTime=r,{type:3,steps:c,options:Rf(t.options)}}visitAnimate(t,e){const i=function bF(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return IA(u0(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=IA(0,0,"");return c.dynamic=!0,c.strValue=e,c}const r=u0(e,t);return IA(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,c=t.styles?t.styles:ma({});if(5==c.type)r=this.visitKeyframes(c,e);else{let d=t.styles,p=!1;if(!d){p=!0;const D={};i.easing&&(D.easing=i.easing),d=ma(D)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(d,e);v.isEmptyStep=p,r=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(d=>{"string"==typeof d?d==ou?i.push(d):e.errors.push(function Sk(n){return new l.vHH(3002,zt)}()):i.push(d)}):i.push(t.styles);let r=!1,c=null;return i.forEach(d=>{if(y0(d)){const p=d,v=p.easing;if(v&&(c=v,delete p.easing),!r)for(let D in p)if(p[D].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,c=e.currentTime;i&&c>0&&(c-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete d[p],void e.unsupportedCSSPropertiesFound.add(p);const v=e.collectedStyles[e.currentQuerySelector],D=v[p];let T=!0;D&&(c!=r&&c>=D.startTime&&r<=D.endTime&&(e.errors.push(function Ik(n,t,e,i,r){return new l.vHH(3010,zt)}()),T=!1),c=D.startTime),T&&(v[p]={startTime:c,endTime:r}),e.options&&function iF(n,t,e){const i=t.params||{},r=IT(n);r.length&&r.forEach(c=>{i.hasOwnProperty(c)||e.push(function bk(n){return new l.vHH(3001,zt)}())})}(d[p],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Tk(){return new l.vHH(3011,zt)}()),i;let c=0;const d=[];let p=!1,v=!1,D=0;const T=t.steps.map(Je=>{const gt=this._makeStyleAst(Je,e);let Gt=null!=gt.offset?gt.offset:function vF(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(y0(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(y0(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(gt.styles),Tt=0;return null!=Gt&&(c++,Tt=gt.offset=Gt),v=v||Tt<0||Tt>1,p=p||Tt<D,D=Tt,d.push(Tt),gt});v&&e.errors.push(function Mk(){return new l.vHH(3012,zt)}()),p&&e.errors.push(function Rk(){return new l.vHH(3200,zt)}());const O=t.steps.length;let B=0;c>0&&c<O?e.errors.push(function Ok(){return new l.vHH(3202,zt)}()):0==c&&(B=1/(O-1));const K=O-1,ne=e.currentTime,Ce=e.currentAnimateTimings,Fe=Ce.duration;return T.forEach((Je,gt)=>{const Gt=B>0?gt==K?1:B*gt:d[gt],Tt=Gt*Fe;e.currentTime=ne+Ce.delay+Tt,Ce.duration=Tt,this._validateStyleAst(Je,e),Je.offset=Gt,i.styles.push(Je)}),i}visitReference(t,e){return{type:8,animation:So(this,dv(t.animation),e),options:Rf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Rf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Rf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[c,d]=function mF(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(pF,"")),n=n.replace(/@\*/g,c0).replace(/@\w+/g,e=>c0+"-"+e.substr(1)).replace(/:animating/g,EA),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+c:c,Ao(e.collectedStyles,e.currentQuerySelector,{});const p=So(this,dv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:c,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:p,originalSelector:t.selector,options:Rf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function kk(){return new l.vHH(3013,zt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:u0(t.timings,e.errors,!0);return{type:12,animation:So(this,dv(t.animation),e),timings:i,options:null}}}class yF{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function y0(n){return!Array.isArray(n)&&"object"==typeof n}function Rf(n){return n?(n=om(n)).params&&(n.params=function _F(n){return n?om(n):null}(n.params)):n={},n}function IA(n,t,e){return{duration:n,delay:t,easing:e}}function TA(n,t,e,i,r,c,d=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:c,totalTime:r+c,easing:d,subTimeline:p}}class v0{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const EF=new RegExp(":enter","g"),xF=new RegExp(":leave","g");function MA(n,t,e,i,r,c={},d={},p,v,D=[]){return(new AF).buildKeyframes(n,t,e,i,r,c,d,p,v,D)}class AF{buildKeyframes(t,e,i,r,c,d,p,v,D,T=[]){D=D||new v0;const O=new RA(t,e,D,r,c,T,[]);O.options=v,O.currentTimeline.setStyles([d],null,O.errors,v),So(this,i,O);const B=O.timelines.filter(K=>K.containsAnimation());if(Object.keys(p).length){let K;for(let ne=B.length-1;ne>=0;ne--){const Ce=B[ne];if(Ce.element===e){K=Ce;break}}K&&!K.allowOnlyTimelineStyles()&&K.setStyles([p],null,O.errors,v)}return B.length?B.map(K=>K.buildKeyframes()):[TA(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),c=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);c!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let c=e.currentTimeline.currentTime;const d=null!=i.duration?Tf(i.duration):null,p=null!=i.delay?Tf(i.delay):null;return 0!==d&&t.forEach(v=>{const D=e.appendInstructionToTimeline(v,d,p);c=Math.max(c,D.duration+D.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),So(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const c=t.options;if(c&&(c.params||c.delay)&&(r=e.createSubContext(c),r.transformIntoNewTimeline(),null!=c.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=b0);const d=Tf(c.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>So(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Tf(t.options.delay):0;t.steps.forEach(d=>{const p=e.createSubContext(t.options);c&&p.delayNextStep(c),So(this,d,p),r=Math.max(r,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return u0(e.params?d0(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(i.duration),this.visitStyle(c,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const c=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(c):i.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,c=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(v=>{p.forwardTime((v.offset||0)*c),p.setStyles(v.styles,v.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(r+c),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},c=r.delay?Tf(r.delay):0;c&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=b0);let d=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=p.length;let v=null;p.forEach((D,T)=>{e.currentQueryIndex=T;const O=e.createSubContext(t.options,D);c&&O.delayNextStep(c),D===e.element&&(v=O.currentTimeline),So(this,t.animation,O),O.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,O.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,c=t.timings,d=Math.abs(c.duration),p=d*(e.currentQueryTotal-1);let v=d*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":v=p-v;break;case"full":v=i.currentStaggerTime}const T=e.currentTimeline;v&&T.delayNextStep(v);const O=T.currentTime;So(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-O+(r.startTime-i.currentTimeline.startTime)}}const b0={};class RA{constructor(t,e,i,r,c,d,p,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=c,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=b0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new C0(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Tf(i.duration)),null!=i.delay&&(r.delay=Tf(i.delay));const c=i.params;if(c){let d=r.params;d||(d=this.options.params={}),Object.keys(c).forEach(p=>{(!e||!d.hasOwnProperty(p))&&(d[p]=d0(c[p],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,c=new RA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=b0,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},c=new SF(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(c),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,c,d){let p=[];if(r&&p.push(this.element),t.length>0){t=(t=t.replace(EF,"."+this._enterClassName)).replace(xF,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=i);0!==i&&(D=i<0?D.slice(D.length+i,D.length):D.slice(0,i)),p.push(...D)}return!c&&0==p.length&&d.push(function Fk(n){return new l.vHH(3014,zt)}()),p}}class C0{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new C0(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ou,this._currentKeyframe[e]=ou}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const c=r&&r.params||{},d=function IF(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(c=>{e[c]=ou})):Wd(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(d).forEach(p=>{const v=d0(d[p],c,i);this._pendingStyles[p]=v,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:ou),this._updateStyle(p,v)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,v)=>{const D=Wd(p,!0);Object.keys(D).forEach(T=>{const O=D[T];"!"==O?t.add(T):O==ou&&e.add(T)}),i||(D.offset=v/this.duration),r.push(D)});const c=t.size?h0(t.values()):[],d=e.size?h0(e.values()):[];if(i){const p=r[0],v=om(p);p.offset=0,v.offset=1,r=[p,v]}return TA(this.element,r,c,d,this.duration,this.startTime,this.easing,!1)}}class SF extends C0{constructor(t,e,i,r,c,d,p=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=c,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],d=i+e,p=e/d,v=Wd(t[0],!1);v.offset=0,c.push(v);const D=Wd(t[0],!1);D.offset=kT(p),c.push(D);const T=t.length-1;for(let O=1;O<=T;O++){let B=Wd(t[O],!1);B.offset=kT((e+B.offset*i)/d),c.push(B)}i=d,e=0,r="",t=c}return TA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function kT(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class OA{}class TF extends OA{normalizePropertyName(t,e){return AA(t)}normalizeStyleValue(t,e,i,r){let c="";const d=i.toString().trim();if(MF[e]&&0!==i&&"0"!==i)if("number"==typeof i)c="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function Ek(n,t){return new l.vHH(3005,zt)}())}return d+c}}const MF=(()=>function RF(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function FT(n,t,e,i,r,c,d,p,v,D,T,O,B){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:c,toState:i,toStyles:d,timelines:p,queriedElements:v,preStyleProps:D,postStyleProps:T,totalTime:O,errors:B}}const kA={};class PT{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function OF(n,t,e,i,r){return n.some(c=>c(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],c=this._stateStyles[t],d=r?r.buildStyles(e,i):{};return c?c.buildStyles(e,i):d}build(t,e,i,r,c,d,p,v,D,T){const O=[],B=this.ast.options&&this.ast.options.params||kA,ne=this.buildStyles(i,p&&p.params||kA,O),Ce=v&&v.params||kA,Fe=this.buildStyles(r,Ce,O),Je=new Set,gt=new Map,Gt=new Map,Tt="void"===r,zi={params:Object.assign(Object.assign({},B),Ce)},sr=T?[]:MA(t,e,this.ast.animation,c,d,ne,Fe,zi,D,O);let ls=0;if(sr.forEach(hu=>{ls=Math.max(hu.duration+hu.delay,ls)}),O.length)return FT(e,this._triggerName,i,r,Tt,ne,Fe,[],[],gt,Gt,ls,O);sr.forEach(hu=>{const fu=hu.element,dR=Ao(gt,fu,{});hu.preStyleProps.forEach(Ff=>dR[Ff]=!0);const bv=Ao(Gt,fu,{});hu.postStyleProps.forEach(Ff=>bv[Ff]=!0),fu!==e&&Je.add(fu)});const du=h0(Je.values());return FT(e,this._triggerName,i,r,Tt,ne,Fe,sr,du,gt,Gt,ls)}}class kF{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=om(this.defaultParams);return Object.keys(t).forEach(c=>{const d=t[c];null!=d&&(r[c]=d)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const d=c;Object.keys(d).forEach(p=>{let v=d[p];v.length>1&&(v=d0(v,r,e));const D=this.normalizer.normalizePropertyName(p,e);v=this.normalizer.normalizeStyleValue(p,D,v,e),i[D]=v})}}),i}}class PF{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new kF(r.style,r.options&&r.options.params||{},i)}),NT(this.states,"true","1"),NT(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new PT(t,r,this.states))}),this.fallbackTransition=function NF(n,t,e){return new PT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function NT(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const LF=new v0;class BF{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],c=SA(this._driver,e,i,[]);if(i.length)throw function Hk(n){return new l.vHH(3503,zt)}();this._animations[t]=c}_buildPlayer(t,e,i){const r=t.element,c=pT(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],c=this._animations[t];let d;const p=new Map;if(c?(d=MA(this._driver,e,c,wA,a0,{},{},i,LF,r),d.forEach(T=>{const O=Ao(p,T.element,{});T.postStyleProps.forEach(B=>O[B]=null)})):(r.push(function jk(){return new l.vHH(3300,zt)}()),d=[]),r.length)throw function Gk(n){return new l.vHH(3504,zt)}();p.forEach((T,O)=>{Object.keys(T).forEach(B=>{T[B]=this._driver.computeStyle(O,B,ou)})});const D=zd(d.map(T=>{const O=p.get(T.element);return this._buildPlayer(T,{},O)}));return this._playersById[t]=D,D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function $k(n){return new l.vHH(3301,zt)}();return e}listen(t,e,i,r){const c=yA(e,"","","");return mA(this._getPlayer(t),i,c,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const c=this._getPlayer(t);switch(i){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const LT="ng-animate-queued",FA="ng-animate-disabled",GF=[],BT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$F={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_a="__ng_removed";class PA{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function qF(n){return null!=n?n:null}(i?t.value:t),i){const c=om(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const hv="void",NA=new PA(hv);class zF{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ya(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function zk(n,t){return new l.vHH(3302,zt)}();if(null==i||0==i.length)throw function Wk(n){return new l.vHH(3303,zt)}();if(!function ZF(n){return"start"==n||"done"==n}(i))throw function Yk(n,t){return new l.vHH(3400,zt)}();const c=Ao(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};c.push(d);const p=Ao(this._engine.statesByElement,t,{});return p.hasOwnProperty(e)||(ya(t,l0),ya(t,l0+"-"+e),p[e]=NA),()=>{this._engine.afterFlush(()=>{const v=c.indexOf(d);v>=0&&c.splice(v,1),this._triggers[e]||delete p[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function qk(n){return new l.vHH(3401,zt)}();return e}trigger(t,e,i,r=!0){const c=this._getTrigger(e),d=new LA(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(ya(t,l0),ya(t,l0+"-"+e),this._engine.statesByElement.set(t,p={}));let v=p[e];const D=new PA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&D.absorbOptions(v.options),p[e]=D,v||(v=NA),D.value!==hv&&v.value===D.value){if(!function XF(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const c=e[r];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(v.params,D.params)){const Ce=[],Fe=c.matchStyles(v.value,v.params,Ce),Je=c.matchStyles(D.value,D.params,Ce);Ce.length?this._engine.reportError(Ce):this._engine.afterFlush(()=>{Mf(t,Fe),sc(t,Je)})}return}const B=Ao(this._engine.playersByElement,t,[]);B.forEach(Ce=>{Ce.namespaceId==this.id&&Ce.triggerName==e&&Ce.queued&&Ce.destroy()});let K=c.matchTransition(v.value,D.value,t,D.params),ne=!1;if(!K){if(!r)return;K=c.fallbackTransition,ne=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:K,fromState:v,toState:D,player:d,isFallbackTransition:ne}),ne||(ya(t,LT),d.onStart(()=>{am(t,LT)})),d.onDone(()=>{let Ce=this.players.indexOf(d);Ce>=0&&this.players.splice(Ce,1);const Fe=this._engine.playersByElement.get(t);if(Fe){let Je=Fe.indexOf(d);Je>=0&&Fe.splice(Je,1)}}),this.players.push(d),B.push(d),d}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,c0,!0);i.forEach(r=>{if(r[_a])return;const c=this._engine.fetchNamespacesByElement(r);c.size?c.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const c=this._engine.statesByElement.get(t),d=new Map;if(c){const p=[];if(Object.keys(c).forEach(v=>{if(d.set(v,c[v].value),this._triggers[v]){const D=this.trigger(t,v,hv,r);D&&p.push(D)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&zd(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(c=>{const d=c.name;if(r.has(d))return;r.add(d);const v=this._triggers[d].fallbackTransition,D=i[d]||NA,T=new PA(hv),O=new LA(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:v,fromState:D,toState:T,player:O,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const c=i.players.length?i.playersByQueriedElement.get(t):[];if(c&&c.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const c=t[_a];(!c||c===BT)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ya(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const c=i.element,d=this._elementListeners.get(c);d&&d.forEach(p=>{if(p.name==i.triggerName){const v=yA(c,i.triggerName,i.fromState.value,i.toState.value);v._data=t,mA(i.player,p.phase,v,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const c=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==c||0==d?c-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class WF{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new zF(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,c=i.length-1;if(c>=0){let d=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(e);for(;p;){const v=r.get(p);if(v){const D=i.indexOf(v);i.splice(D+1,0,t),d=!0;break}p=this.driver.getParentElement(p)}}else for(let p=c;p>=0;p--)if(this.driver.containsElement(i[p].hostElement,e)){i.splice(p+1,0,t),d=!0;break}d||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let c=0;c<r.length;c++){const d=i[r[c]].namespaceId;if(d){const p=this._fetchNamespace(d);p&&e.add(p)}}}return e}trigger(t,e,i,r){if(w0(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!w0(e))return;const c=e[_a];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ya(t,FA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),am(t,FA))}removeNode(t,e,i,r){if(w0(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,c){this.collectedLeaveElements.push(e),e[_a]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,i,r,c){return w0(e)?this._fetchNamespace(t).listen(e,i,r,c):()=>{}}_buildInstruction(t,e,i,r,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,c0,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,EA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return zd(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[_a];if(i&&i.setForRemoval){if(t[_a]=BT,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(FA))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ya(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?zd(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Zk(n){return new l.vHH(3402,zt)}()}_flushAnimations(t,e){const i=new v0,r=[],c=new Map,d=[],p=new Map,v=new Map,D=new Map,T=new Set;this.disabledNodes.forEach(it=>{T.add(it);const mt=this.driver.query(it,".ng-animate-queued",!0);for(let Dt=0;Dt<mt.length;Dt++)T.add(mt[Dt])});const O=this.bodyNode,B=Array.from(this.statesByElement.keys()),K=HT(B,this.collectedEnterElements),ne=new Map;let Ce=0;K.forEach((it,mt)=>{const Dt=wA+Ce++;ne.set(mt,Dt),it.forEach(en=>ya(en,Dt))});const Fe=[],Je=new Set,gt=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const mt=this.collectedLeaveElements[it],Dt=mt[_a];Dt&&Dt.setForRemoval&&(Fe.push(mt),Je.add(mt),Dt.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(en=>Je.add(en)):gt.add(mt))}const Gt=new Map,Tt=HT(B,Array.from(Je));Tt.forEach((it,mt)=>{const Dt=a0+Ce++;Gt.set(mt,Dt),it.forEach(en=>ya(en,Dt))}),t.push(()=>{K.forEach((it,mt)=>{const Dt=ne.get(mt);it.forEach(en=>am(en,Dt))}),Tt.forEach((it,mt)=>{const Dt=Gt.get(mt);it.forEach(en=>am(en,Dt))}),Fe.forEach(it=>{this.processLeaveNode(it)})});const zi=[],sr=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(e).forEach(Dt=>{const en=Dt.player,or=Dt.element;if(zi.push(en),this.collectedEnterElements.length){const cs=or[_a];if(cs&&cs.setForMove){if(cs.previousTriggersValues&&cs.previousTriggersValues.has(Dt.triggerName)){const Pf=cs.previousTriggersValues.get(Dt.triggerName),qd=this.statesByElement.get(Dt.element);qd&&qd[Dt.triggerName]&&(qd[Dt.triggerName].value=Pf)}return void en.destroy()}}const oc=!O||!this.driver.containsElement(O,or),Io=Gt.get(or),Yd=ne.get(or),Jn=this._buildInstruction(Dt,i,Yd,Io,oc);if(Jn.errors&&Jn.errors.length)return void sr.push(Jn);if(oc)return en.onStart(()=>Mf(or,Jn.fromStyles)),en.onDestroy(()=>sc(or,Jn.toStyles)),void r.push(en);if(Dt.isFallbackTransition)return en.onStart(()=>Mf(or,Jn.fromStyles)),en.onDestroy(()=>sc(or,Jn.toStyles)),void r.push(en);const pR=[];Jn.timelines.forEach(cs=>{cs.stretchStartingKeyframe=!0,this.disabledNodes.has(cs.element)||pR.push(cs)}),Jn.timelines=pR,i.append(or,Jn.timelines),d.push({instruction:Jn,player:en,element:or}),Jn.queriedElements.forEach(cs=>Ao(p,cs,[]).push(en)),Jn.preStyleProps.forEach((cs,Pf)=>{const qd=Object.keys(cs);if(qd.length){let Nf=v.get(Pf);Nf||v.set(Pf,Nf=new Set),qd.forEach(pS=>Nf.add(pS))}}),Jn.postStyleProps.forEach((cs,Pf)=>{const qd=Object.keys(cs);let Nf=D.get(Pf);Nf||D.set(Pf,Nf=new Set),qd.forEach(pS=>Nf.add(pS))})});if(sr.length){const it=[];sr.forEach(mt=>{it.push(function Kk(n,t){return new l.vHH(3505,zt)}())}),zi.forEach(mt=>mt.destroy()),this.reportError(it)}const ls=new Map,du=new Map;d.forEach(it=>{const mt=it.element;i.has(mt)&&(du.set(mt,mt),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,ls))}),r.forEach(it=>{const mt=it.element;this._getPreviousPlayers(mt,!1,it.namespaceId,it.triggerName,null).forEach(en=>{Ao(ls,mt,[]).push(en),en.destroy()})});const hu=Fe.filter(it=>GT(it,v,D)),fu=new Map;UT(fu,this.driver,gt,D,ou).forEach(it=>{GT(it,v,D)&&hu.push(it)});const bv=new Map;K.forEach((it,mt)=>{UT(bv,this.driver,new Set(it),v,"!")}),hu.forEach(it=>{const mt=fu.get(it),Dt=bv.get(it);fu.set(it,Object.assign(Object.assign({},mt),Dt))});const Ff=[],hR=[],fR={};d.forEach(it=>{const{element:mt,player:Dt,instruction:en}=it;if(i.has(mt)){if(T.has(mt))return Dt.onDestroy(()=>sc(mt,en.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(en.totalTime),void r.push(Dt);let or=fR;if(du.size>1){let Io=mt;const Yd=[];for(;Io=Io.parentNode;){const Jn=du.get(Io);if(Jn){or=Jn;break}Yd.push(Io)}Yd.forEach(Jn=>du.set(Jn,or))}const oc=this._buildAnimation(Dt.namespaceId,en,ls,c,bv,fu);if(Dt.setRealPlayer(oc),or===fR)Ff.push(Dt);else{const Io=this.playersByElement.get(or);Io&&Io.length&&(Dt.parentPlayer=zd(Io)),r.push(Dt)}}else Mf(mt,en.fromStyles),Dt.onDestroy(()=>sc(mt,en.toStyles)),hR.push(Dt),T.has(mt)&&r.push(Dt)}),hR.forEach(it=>{const mt=c.get(it.element);if(mt&&mt.length){const Dt=zd(mt);it.setRealPlayer(Dt)}}),r.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<Fe.length;it++){const mt=Fe[it],Dt=mt[_a];if(am(mt,a0),Dt&&Dt.hasAnimation)continue;let en=[];if(p.size){let oc=p.get(mt);oc&&oc.length&&en.push(...oc);let Io=this.driver.query(mt,EA,!0);for(let Yd=0;Yd<Io.length;Yd++){let Jn=p.get(Io[Yd]);Jn&&Jn.length&&en.push(...Jn)}}const or=en.filter(oc=>!oc.destroyed);or.length?KF(this,mt,or):this.processLeaveNode(mt)}return Fe.length=0,Ff.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const mt=this.players.indexOf(it);this.players.splice(mt,1)}),it.play()}),Ff}elementContainsData(t,e){let i=!1;const r=e[_a];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,c){let d=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(d=p)}else{const p=this.playersByElement.get(t);if(p){const v=!c||c==hv;p.forEach(D=>{D.queued||!v&&D.triggerName!=r||d.push(D)})}}return(i||r)&&(d=d.filter(p=>!(i&&i!=p.namespaceId||r&&r!=p.triggerName))),d}_beforeAnimationBuild(t,e,i){const c=e.element,d=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const D=v.element,T=D!==c,O=Ao(i,D,[]);this._getPreviousPlayers(D,T,d,p,e.toState).forEach(K=>{const ne=K.getRealPlayer();ne.beforeDestroy&&ne.beforeDestroy(),K.destroy(),O.push(K)})}Mf(c,e.fromStyles)}_buildAnimation(t,e,i,r,c,d){const p=e.triggerName,v=e.element,D=[],T=new Set,O=new Set,B=e.timelines.map(ne=>{const Ce=ne.element;T.add(Ce);const Fe=Ce[_a];if(Fe&&Fe.removedBeforeQueried)return new uv(ne.duration,ne.delay);const Je=Ce!==v,gt=function QF(n){const t=[];return jT(n,t),t}((i.get(Ce)||GF).map(ls=>ls.getRealPlayer())).filter(ls=>!!ls.element&&ls.element===Ce),Gt=c.get(Ce),Tt=d.get(Ce),zi=pT(0,this._normalizer,0,ne.keyframes,Gt,Tt),sr=this._buildPlayer(ne,zi,gt);if(ne.subTimeline&&r&&O.add(Ce),Je){const ls=new LA(t,p,Ce);ls.setRealPlayer(sr),D.push(ls)}return sr});D.forEach(ne=>{Ao(this.playersByQueriedElement,ne.element,[]).push(ne),ne.onDone(()=>function YF(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,ne.element,ne))}),T.forEach(ne=>ya(ne,DT));const K=zd(B);return K.onDestroy(()=>{T.forEach(ne=>am(ne,DT)),sc(v,e.toStyles)}),O.forEach(ne=>{Ao(r,ne,[]).push(K)}),K}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new uv(t.duration,t.delay)}}class LA{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new uv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>mA(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ao(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function w0(n){return n&&1===n.nodeType}function VT(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function UT(n,t,e,i,r){const c=[];e.forEach(v=>c.push(VT(v)));const d=[];i.forEach((v,D)=>{const T={};v.forEach(O=>{const B=T[O]=t.computeStyle(D,O,r);(!B||0==B.length)&&(D[_a]=$F,d.push(D))}),n.set(D,T)});let p=0;return e.forEach(v=>VT(v,c[p++])),d}function HT(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const r=new Set(t),c=new Map;function d(p){if(!p)return 1;let v=c.get(p);if(v)return v;const D=p.parentNode;return v=e.has(D)?D:r.has(D)?1:d(D),c.set(p,v),v}return t.forEach(p=>{const v=d(p);1!==v&&e.get(v).push(p)}),e}function ya(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function am(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function KF(n,t,e){zd(e).onDone(()=>n.processLeaveNode(t))}function jT(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof hT?jT(i.players,t):t.push(i)}}function GT(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(c=>r.add(c)):t.set(n,i),e.delete(n),!0}class E0{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,c)=>{},this._transitionEngine=new WF(t,e,i),this._timelineEngine=new BF(t,e,i),this._transitionEngine.onRemovalComplete=(r,c)=>this.onRemovalComplete(r,c)}registerTrigger(t,e,i,r,c){const d=t+"-"+r;let p=this._triggerCache[d];if(!p){const v=[],T=SA(this._driver,c,v,[]);if(v.length)throw function Vk(n,t){return new l.vHH(3404,zt)}();p=function FF(n,t,e){return new PF(n,t,e)}(r,T,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(e,r,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[c,d]=gT(i);this._timelineEngine.command(c,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,c){if("@"==i.charAt(0)){const[d,p]=gT(i);return this._timelineEngine.listen(d,e,p,c)}return this._transitionEngine.listen(t,e,i,r,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let eP=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&sc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sc(this._element,this._initialStyles),this._endStyles&&(sc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mf(this._element,this._endStyles),this._endStyles=null),sc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function BA(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];tP(r)&&(t=t||{},t[r]=n[r])}return t}function tP(n){return"display"===n||"position"===n}class $T{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:TT(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nP{validateStyleProperty(t){return vT(t)}matchesElement(t,e){return!1}containsElement(t,e){return bT(t,e)}getParentElement(t){return bA(t)}query(t,e,i){return CT(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,c,d=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};c&&(v.easing=c);const D={},T=d.filter(B=>B instanceof $T);(function oF(n,t){return 0===n||0===t})(i,r)&&T.forEach(B=>{let K=B.currentSnapshot;Object.keys(K).forEach(ne=>D[ne]=K[ne])}),e=function aF(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let c=t[0],d=[];if(i.forEach(p=>{c.hasOwnProperty(p)||d.push(p),c[p]=e[p]}),d.length)for(var r=1;r<t.length;r++){let p=t[r];d.forEach(function(v){p[v]=TT(n,v)})}}return t}(t,e=e.map(B=>Wd(B,!1)),D);const O=function JF(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=BA(t[0]),t.length>1&&(i=BA(t[t.length-1]))):t&&(e=BA(t)),e||i?new eP(n,e,i):null}(t,e);return new $T(t,e,v,O)}}let iP=(()=>{class n extends lT{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?uT(e):e;return zT(this._renderer,null,i,"register",[r]),new rP(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(ie))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class rP extends class _k{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new sP(this._id,t,e||{},this._renderer)}}class sP{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return zT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function zT(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const WT="@.disabled";let oP=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(c,d)=>{const p=null==d?void 0:d.parentNode(c);p&&d.removeChild(p,c)}}createRenderer(e,i){const c=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(c);return T||(T=new YT("",c,this.engine),this._rendererCache.set(c,T)),T}const d=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const v=T=>{Array.isArray(T)?T.forEach(v):this.engine.registerTrigger(d,p,e,T.name,T)};return i.data.animation.forEach(v),new aP(this,p,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[d,p]=c;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(E0),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class YT{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==WT?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class aP extends YT{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==WT?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function lP(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),d="";return"@"!=c.charAt(0)&&([c,d]=function cP(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,r,c,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}let uP=(()=>{class n extends E0{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ie),l.LFG(CA),l.LFG(OA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Of=new l.OlP("AnimationModuleType"),qT=[{provide:lT,useClass:iP},{provide:OA,useFactory:function dP(){return new TF}},{provide:E0,useClass:uP},{provide:l.FYo,useFactory:function hP(n,t,e){return new oP(n,t,e)},deps:[Ys,E0,l.R0b]}],ZT=[{provide:CA,useFactory:()=>new nP},{provide:Of,useValue:"BrowserAnimations"},...qT],fP=[{provide:CA,useClass:wT},{provide:Of,useValue:"NoopAnimations"},...qT];let pP=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?fP:ZT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:ZT,imports:[Lo]}),n})();const mP=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function gP(){return!0}});let Ni=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!nA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(mk),l.LFG(mP,8),l.LFG(ie))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[nm],nm]}),n})();function _P(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=_i(t)}}}function QT(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function yP(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=_i(t)}}}function vP(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new xt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}let XT=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class CP{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const JT={enterDuration:225,exitDuration:150},VA=t0({passive:!0}),eM=["mousedown","touchstart"],tM=["mouseup","mouseleave","touchend","touchcancel"];class EP{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=su(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},JT),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function xP(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),p=t-r.left,v=e-r.top,D=c.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=p-d+"px",T.style.top=v-d+"px",T.style.height=2*d+"px",T.style.width=2*d+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(T),function DP(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const O=new CP(this,T,i);return O.state=0,this._activeRipples.add(O),i.persistent||(this._mostRecentTransientRipple=O),this._runTimeoutOutsideZone(()=>{const B=O===this._mostRecentTransientRipple;O.state=1,!i.persistent&&(!B||!this._isPointerDown)&&O.fadeOut()},D),O}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},JT),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=su(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(eM))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(tM),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=nT(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!iT(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,VA)})})}_removeTriggerEvents(){this._triggerElement&&(eM.forEach(t=>{this._triggerElement.removeEventListener(t,this,VA)}),this._pointerUpEventsRegistered&&tM.forEach(t=>{this._triggerElement.removeEventListener(t,this,VA)}))}}const AP=new l.OlP("mat-ripple-global-options");let nM=(()=>{class n{constructor(e,i,r,c,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new EP(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Bs),l.Y36(AP,8),l.Y36(Of,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),iM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ni],Ni]}),n})(),SP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ni]]}),n})(),rM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[iM,_s,Ni,SP]]}),n})();function IP(n,t){}class UA{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const TP={dialogContainer:s0("dialogContainer",[rm("void, exit",ma({opacity:0,transform:"scale(0.7)"})),rm("enter",ma({transform:"none"})),sm("* => enter",cT([cv("150ms cubic-bezier(0, 0, 0.2, 1)",ma({transform:"none",opacity:1})),fA("@*",hA(),{optional:!0})])),sm("* => void, * => exit",cT([cv("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ma({opacity:0})),fA("@*",hA(),{optional:!0})]))])};let MP=(()=>{class n extends lA{constructor(e,i,r,c,d,p,v,D){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=d,this._interactivityChecker=p,this._ngZone=v,this._focusMonitor=D,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=tA())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=tA(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=tA();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(uk),l.Y36(l.sBO),l.Y36(ie,8),l.Y36(UA),l.Y36(JI),l.Y36(l.R0b),l.Y36(sT))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(BI,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),RP=(()=>{class n extends MP{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&l.WFA("@dialogContainer.start",function(c){return i._onAnimationStart(c)})("@dialogContainer.done",function(c){return i._onAnimationDone(c)}),2&e&&(l.Ikx("id",i._id),l.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,IP,0,0,"ng-template",0)},directives:[BI],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[TP.dialogContainer]}}),n})(),OP=0;class HA{constructor(t,e,i="mat-dialog-"+OP++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new xt.x,this._afterClosed=new xt.x,this._beforeClosed=new xt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(qt(r=>"opened"===r.state),Ai(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(qt(r=>"closed"===r.state),Ai(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(qt(r=>27===r.keyCode&&!this.disableClose&&!function ZO(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),sM(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():sM(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(qt(e=>"closing"===e.state),Ai(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function sM(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const kP=new l.OlP("MatDialogData"),FP=new l.OlP("mat-dialog-default-options"),oM=new l.OlP("mat-dialog-scroll-strategy"),NP={provide:oM,deps:[lv],useFactory:function PP(n){return()=>n.scrollStrategies.block()}};let LP=(()=>{class n{constructor(e,i,r,c,d,p,v,D,T,O){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=c,this._overlayContainer=d,this._dialogRefConstructor=v,this._dialogContainerType=D,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xt.x,this._afterOpenedAtThisLevel=new xt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=$o(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(gr(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function BP(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new UA),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),c=this._attachDialogContainer(r,i),d=this._attachDialogContent(e,c,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),c._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new GI({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const c=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:UA,useValue:i}]}),d=new aA(this._dialogContainerType,i.viewContainerRef,c,i.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,i,r,c){const d=new this._dialogRefConstructor(r,i,c.id);if(e instanceof l.Rgc)i.attachTemplatePortal(new LI(e,null,{$implicit:c.data,dialogRef:d}));else{const p=this._createInjector(c,d,i),v=i.attachComponentPortal(new aA(e,c.viewContainerRef,p,c.componentFactoryResolver));d.componentInstance=v.instance}return d.updateSize(c.width,c.height).updatePosition(c.position),d}_createInjector(e,i,r){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!c||!c.get(Af,null,l.XFs.Optional))&&d.push({provide:Af,useValue:{value:e.direction,change:Ke()}}),l.zs3.create({parent:c||this._injector,providers:d})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,c)=>{r?c.setAttribute("aria-hidden",r):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let c=i[r];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n}),n})(),aM=(()=>{class n extends LP{constructor(e,i,r,c,d,p,v,D){super(e,i,c,p,v,d,HA,RP,kP,D)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(lv),l.LFG(l.zs3),l.LFG(ge,8),l.LFG(FP,8),l.LFG(oM),l.LFG(n,12),l.LFG(uA),l.LFG(Of,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),VP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[aM,NP],imports:[[ZI,VI,Ni],Ni]}),n})(),lM=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HP=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=su(e);return new ln.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new xt.x,r=this._mutationObserverFactory.create(c=>i.next(c));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(lM))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jP=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=_i(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function WR(n,t=0){return II(n)?Number(n):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(function UP(n,t=xh.z){return(0,En.e)((e,i)=>{let r=null,c=null,d=null;const p=()=>{if(r){r.unsubscribe(),r=null;const D=c;c=null,i.next(D)}};function v(){const D=d+n,T=t.now();if(T<D)return r=this.schedule(void 0,D-T),void i.add(r);p()}e.subscribe((0,wn.x)(i,D=>{c=D,d=t.now(),r||(r=t.schedule(v,n),i.add(r))},()=>{p(),i.complete()},void 0,()=>{c=r=null}))})}(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(HP),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),GP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[lM]}),n})();const $P=["connectionContainer"],zP=["inputContainer"],WP=["label"];function YP(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function qP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function ZP(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function KP(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function QP(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function XP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.YNc(2,ZP,4,1,"ng-container",12),l.YNc(3,KP,1,0,"ng-content",12),l.YNc(4,QP,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function JP(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function eN(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function tN(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function nN(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function iN(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,nN,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const rN=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],sN=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let oN=0;const cM=new l.OlP("MatError");let aN=(()=>{class n{constructor(e,i){this.id="mat-error-"+oN++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("id",i.id)},inputs:{id:"id"},features:[l._Bn([{provide:cM,useExisting:n}])]}),n})();const lN={transitionMessages:s0("transitionMessages",[rm("enter",ma({opacity:1,transform:"translateY(0%)"})),sm("void => enter",[ma({opacity:0,transform:"translateY(-5px)"}),cv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let jA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const cN=new l.OlP("MatHint");let x0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),uN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const dN=new l.OlP("MatPrefix"),hN=new l.OlP("MatSuffix");let uM=0;const pN=QT(class{constructor(n){this._elementRef=n}},"primary"),gN=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),hM=new l.OlP("MatFormField");let fM=(()=>{class n extends pN{constructor(e,i,r,c,d,p,v){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=c,this._platform=d,this._ngZone=p,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new xt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+uM++,this._labelId="mat-form-field-label-"+uM++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=c&&c.appearance?c.appearance:"legacy",this._hideRequiredMarker=!(!c||null==c.hideRequiredMarker)&&c.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=_i(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(gr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Gr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,$a.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(gr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(gr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Gr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Xw(this._label.nativeElement,"transitionend").pipe(Ai(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,r=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",c=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const T=i.querySelectorAll(`${r}, ${c}`);for(let O=0;O<T.length;O++)T[O].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,p=0;const v=i.querySelectorAll(r),D=i.querySelectorAll(c);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const O=this._getStartEnd(T),B=e.children,K=this._getStartEnd(B[0].getBoundingClientRect());let ne=0;for(let Ce=0;Ce<B.length;Ce++)ne+=B[Ce].offsetWidth;d=Math.abs(K-O)-5,p=ne>0?.75*ne+10:0}for(let T=0;T<v.length;T++)v[T].style.width=`${d}px`;for(let T=0;T<D.length;T++)D[T].style.width=`${p}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Af,8),l.Y36(gN,8),l.Y36(Bs),l.Y36(l.R0b),l.Y36(Of,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,jA,5),l.Suo(r,jA,7),l.Suo(r,x0,5),l.Suo(r,x0,7),l.Suo(r,uN,5),l.Suo(r,cM,5),l.Suo(r,cN,5),l.Suo(r,dN,5),l.Suo(r,hN,5)),2&e){let c;l.iGM(c=l.CRH())&&(i._controlNonStatic=c.first),l.iGM(c=l.CRH())&&(i._controlStatic=c.first),l.iGM(c=l.CRH())&&(i._labelChildNonStatic=c.first),l.iGM(c=l.CRH())&&(i._labelChildStatic=c.first),l.iGM(c=l.CRH())&&(i._placeholderChild=c.first),l.iGM(c=l.CRH())&&(i._errorChildren=c),l.iGM(c=l.CRH())&&(i._hintChildren=c),l.iGM(c=l.CRH())&&(i._prefixChildren=c),l.iGM(c=l.CRH())&&(i._suffixChildren=c)}},viewQuery:function(e,i){if(1&e&&(l.Gf($P,7),l.Gf(zP,5),l.Gf(WP,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:hM,useExisting:n}]),l.qOj],ngContentSelectors:sN,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(l.F$t(rN),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(c){return i._control.onContainerClick&&i._control.onContainerClick(c)}),l.YNc(3,YP,9,0,"ng-container",3),l.YNc(4,qP,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,XP,5,16,"label",8),l.qZA()(),l.YNc(10,JP,2,0,"div",9),l.qZA(),l.YNc(11,eN,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,tN,2,1,"div",12),l.YNc(14,iN,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[In,jP,Ei,ur],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[lN.transitionMessages]},changeDetection:0}),n})(),GA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_s,Ni,GP],Ni]}),n})();const pM=t0({passive:!0});let mN=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Hi.E;const i=su(e),r=this._monitoredElements.get(i);if(r)return r.subject;const c=new xt.x,d="cdk-text-field-autofilled",p=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",p,pM),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:c,unlisten:()=>{i.removeEventListener("animationstart",p,pM)}}),c}stopMonitoring(e){const i=su(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bs),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const _N=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),yN=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let vN=0;const bN=vP(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let mM=(()=>{class n extends bN{constructor(e,i,r,c,d,p,v,D,T,O){super(p,c,d,r),this._elementRef=e,this._platform=i,this._autofillMonitor=D,this._formField=O,this._uid="mat-input-"+vN++,this.focused=!1,this.stateChanges=new xt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ne=>NI().has(ne)),this._iOSKeyupListener=ne=>{const Ce=ne.target;!Ce.value&&0===Ce.selectionStart&&0===Ce.selectionEnd&&(Ce.setSelectionRange(1,1),Ce.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,K=B.nodeName.toLowerCase();this._inputValueAccessor=v||B,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!O,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=_i(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,c;return null!==(c=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(as.required))&&void 0!==c&&c}set required(e){this._required=_i(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&NI().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=_i(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=r,r?c.setAttribute("placeholder",r):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){yN.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Bs),l.Y36(il,10),l.Y36(X,8),l.Y36(em,8),l.Y36(XT),l.Y36(_N,10),l.Y36(mN),l.Y36(l.R0b),l.Y36(hM,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:jA,useExisting:n}]),l.qOj,l.TTD]}),n})(),CN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[XT],imports:[[gM,GA,Ni],gM,GA]}),n})();const wN=["mat-button",""],EN=["*"],xN=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],AN=QT(_P(yP(class{constructor(n){this._elementRef=n}})));let pv=(()=>{class n extends AN{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of xN)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(sT),l.Y36(Of,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&l.Gf(nM,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:wN,ngContentSelectors:EN,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[nM],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),$A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[iM,Ni],Ni]}),n})();function SN(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Name already taken! "),l.qZA())}let IN=(()=>{class n{constructor(e,i,r,c){this.fb=e,this.db=i,this.router=r,this.dialogRef=c}ngOnInit(){this.lobbyForm=this.fb.group({userName:["",as.required],lobbyName:["",[as.required]],lobbyPassword:["",as.required]}),this.db.list("/lobbies").valueChanges().subscribe(i=>{this.allLobbies=i})}createLobby(){var e,i,r,c,d;if(!this.lobbyForm.valid)return;this.deleteOldLobbies();const D=this.db.list("/users").push(null===(e=this.getUserName())||void 0===e?void 0:e.value).key,T=this.db.list("/lobbies");if(this.checkIfNameIsTaken(),this.lobbyForm.controls.lobbyName.errors)return;const O={lobbyName:null===(i=this.getLobbyName())||void 0===i?void 0:i.value,lobbyPassword:null===(r=this.getLobbyPassword())||void 0===r?void 0:r.value,users:[{name:null===(c=this.getUserName())||void 0===c?void 0:c.value,userId:D,admin:!0}],timestamp:(new Date).getTime()},B=T.push(O);B.update(Object.assign(Object.assign({},O),{uniqueId:B.key})),sessionStorage.setItem("user",`{ "name": "${null===(d=this.getUserName())||void 0===d?void 0:d.value}", "userId": "${D}", "admin": true }`),this.router.navigate(["lobby",B.key]),this.dialogRef.close()}getUserName(){return this.lobbyForm.get("userName")}getLobbyPassword(){return this.lobbyForm.get("lobbyPassword")}getLobbyName(){return this.lobbyForm.get("lobbyName")}checkIfNameIsTaken(){this.allLobbies.some(i=>{var r;return i.lobbyName.toString()===(null===(r=this.getLobbyName())||void 0===r?void 0:r.value)})?this.lobbyForm.controls.lobbyName.setErrors({nameTaken:!0}):this.lobbyForm.controls.lobbyName.setErrors(null)}deleteOldLobbies(){const i=(new Date).getTime();this.allLobbies.filter(c=>i-c.timestamp>864e5).forEach(c=>{this.db.list("/lobbies").remove(c.uniqueId)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(SI),l.Y36(iu),l.Y36(pi),l.Y36(HA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-create-lobby"]],decls:23,vars:2,consts:[[3,"formGroup"],[1,"container-centered"],["appearance","outline"],["matInput","","placeholder","your name","type","text","formControlName","userName"],["matInput","","placeholder","lobby name","type","text","formControlName","lobbyName"],[4,"ngIf"],["matInput","","placeholder","password","type","password","formControlName","lobbyPassword"],["mat-raised-button","","color","primary","type","submit",1,"center-button",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"form",0)(1,"h2"),l._uU(2,"Create Your Lobby"),l.qZA(),l.TgZ(3,"div",1)(4,"p")(5,"mat-form-field",2)(6,"mat-label"),l._uU(7,"Your Name"),l.qZA(),l._UZ(8,"input",3),l.qZA()(),l.TgZ(9,"p")(10,"mat-form-field",2)(11,"mat-label"),l._uU(12,"Lobby Name"),l.qZA(),l._UZ(13,"input",4),l.YNc(14,SN,2,0,"mat-error",5),l.qZA()(),l.TgZ(15,"p")(16,"mat-form-field",2)(17,"mat-label"),l._uU(18,"Lobby Password"),l.qZA(),l._UZ(19,"input",6),l.qZA()(),l._UZ(20,"hr"),l.TgZ(21,"button",7),l.NdJ("click",function(){return i.createLobby()}),l._uU(22," Create Lobby "),l.qZA()()()),2&e&&(l.Q6J("formGroup",i.lobbyForm),l.xp6(14),l.Q6J("ngIf",null==i.lobbyForm.controls.lobbyName.errors?null:i.lobbyForm.controls.lobbyName.errors.nameTaken))},directives:[wf,Pw,em,fM,x0,mM,yf,Fw,Kw,In,aN,pv],styles:[".button-neu[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;color:#000;background:linear-gradient(145deg,#cacaca,#f0f0f0);box-shadow:12px 12px 20px #989898,-12px -12px 20px #fff}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto}.container-centered[_ngcontent-%COMP%]{text-align:center}"]}),n})();function TN(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"li",6),l.NdJ("click",function(){const c=l.CHM(e).$implicit,d=l.oxw(2);return d.showForm=!0,d.selectLobby(c)}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.lobbyName," ")}}function MN(n,t){if(1&n&&(l.TgZ(0,"ul",4),l.YNc(1,TN,2,1,"li",5),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngForOf",e.lobbies)}}function RN(n,t){if(1&n&&(l.TgZ(0,"h2"),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij("Join lobby ",e.selectedLobby.lobbyName,"")}}function ON(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"form",7),l._UZ(1,"h2"),l.TgZ(2,"mat-form-field",8)(3,"mat-label"),l._uU(4,"Your Name"),l.qZA(),l._UZ(5,"input",9),l.qZA(),l.TgZ(6,"mat-form-field",8)(7,"mat-label"),l._uU(8,"Lobby Password"),l.qZA(),l._UZ(9,"input",10),l.qZA(),l.TgZ(10,"button",11),l.NdJ("click",function(){return l.CHM(e),l.oxw().joinLobby()}),l._uU(11," Join "),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("formGroup",e.lobbyForm)}}let kN=(()=>{class n{constructor(e,i,r,c){this.fb=e,this.db=i,this.router=r,this.dialogRef=c,this.lobbies=[],this.selectedLobby=null,this.showForm=!1,this.db.list("/lobbies").valueChanges().subscribe(d=>{this.lobbies=d})}ngOnInit(){this.lobbyForm=this.fb.group({userName:["",as.required],lobbyName:["",as.required],lobbyPassword:["",as.required]})}selectLobby(e){var i,r;this.selectedLobby=e,null===(i=this.getLobbyName())||void 0===i||i.setValue(null===(r=this.selectedLobby)||void 0===r?void 0:r.lobbyName),this.showForm=!0}joinLobby(){var e,i,r,c;if(!this.lobbyForm.valid)return;const d=this.lobbies.findIndex(p=>{var v;return p.uniqueId===(null===(v=this.selectedLobby)||void 0===v?void 0:v.uniqueId)});if(d>-1){const p=this.lobbies[d];if((null===(e=this.getLobbyPassword())||void 0===e?void 0:e.value)!==p.lobbyPassword)return;{const O=this.db.list("/users").push(null===(i=this.getUserName())||void 0===i?void 0:i.value).key,B=this.db.object(`lobbies/${p.uniqueId}`);p.users.push({name:null===(r=this.getUserName())||void 0===r?void 0:r.value,userId:O,admin:!1}),B.update(p),sessionStorage.setItem("user",`{ "name": "${null===(c=this.getUserName())||void 0===c?void 0:c.value}", "userId": "${O}", "admin": false }`),this.router.navigate(["lobby",p.uniqueId]),this.dialogRef.close()}}}getUserName(){return this.lobbyForm.get("userName")}getLobbyPassword(){return this.lobbyForm.get("lobbyPassword")}getLobbyName(){return this.lobbyForm.get("lobbyName")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(SI),l.Y36(iu),l.Y36(pi),l.Y36(HA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-join-lobby"]],decls:6,vars:3,consts:[[1,"lobby-list"],["class","lobbies-list",4,"ngIf"],[4,"ngIf"],["class","lobby-form",3,"formGroup",4,"ngIf"],[1,"lobbies-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"lobby-form",3,"formGroup"],["appearance","outline"],["matInput","","placeholder","your name","type","text","formControlName","userName","required",""],["matInput","","placeholder","lobby password","type","password","formControlName","lobbyPassword","required",""],["mat-raised-button","","color","primary","type","submit",1,"center-button",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Available Lobbies"),l.qZA(),l.YNc(3,MN,2,1,"ul",1),l.qZA(),l.YNc(4,RN,2,1,"h2",2),l.YNc(5,ON,12,1,"form",3)),2&e&&(l.xp6(3),l.Q6J("ngIf",i.lobbies),l.xp6(1),l.Q6J("ngIf",i.selectedLobby),l.xp6(1),l.Q6J("ngIf",i.showForm))},directives:[In,Sn,wf,Pw,em,fM,x0,mM,yf,Fw,Kw,Qw,pv],styles:[".button-neu[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;color:#000;background:linear-gradient(145deg,#cacaca,#f0f0f0);box-shadow:12px 12px 20px #989898,-12px -12px 20px #fff}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:auto}.container-centered[_ngcontent-%COMP%]{text-align:center}.lobby-list[_ngcontent-%COMP%]{list-style:none;padding:0}.lobby-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;margin-bottom:5px;border-radius:5px;cursor:pointer;transition:all .3s ease}.lobby-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;box-shadow:0 2px 4px #0000001a}.lobby-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),FN=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=_i(e)}get inset(){return this._inset}set inset(e){this._inset=_i(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),PN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ni],Ni]}),n})();const NN=[{path:"",component:(()=>{class n{constructor(e,i){this.dialog=e,this.db=i,this.modal=!1}ngOnInit(){}openCreateLobbyDialog(){this.dialog.open(IN,{})}openJoinLobbyDialog(){this.dialog.open(kN,{})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(aM),l.Y36(iu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"home"],[1,"container-centered"],["mat-raised-button","",1,"button-neu",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return i.openCreateLobbyDialog()}),l._uU(3," Create Lobby "),l.qZA(),l._UZ(4,"mat-divider"),l.TgZ(5,"button",2),l.NdJ("click",function(){return i.openJoinLobbyDialog()}),l._uU(6," Join Lobby "),l.qZA()()())},directives:[pv,FN],styles:[".home[_ngcontent-%COMP%]{min-height:99vh;height:100vh}.container-centered[_ngcontent-%COMP%]{text-align:center;position:relative;margin:auto;top:50%;left:50%;transform:translate(-50%,-50%)}.button-neu[_ngcontent-%COMP%]{margin-top:15px;color:#000;margin-bottom:15px;background:linear-gradient(145deg,#cacaca,#f0f0f0);box-shadow:12px 12px 20px #989898,-12px -12px 20px #fff}.button-neu[_ngcontent-%COMP%]:hover{color:#0f1923}"]}),n})()}];let LN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ts.forChild(NN)],Ts]}),n})();const jN={provide:new l.OlP("mat-select-scroll-strategy"),deps:[lv],useFactory:function HN(n){return()=>n.scrollStrategies.reposition()}};let GN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[jN],imports:[[_s,ZI,rM,Ni],rA,GA,rM,Ni]}),n})();const YN={provide:l.tb,useFactory:function WN(n,t){return()=>{if(bn(t)){const e=Array.from(n.querySelectorAll(`[class*=${CM}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${CM}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[ie,l.Lbi],multi:!0},CM="flex-layout-";let WA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YN]}),n})();const YA={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},rl=new l.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>YA}),lm=new l.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),qA=new l.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});let UM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[WA]]}),n})(),$M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[WA,nm]]}),n})(),XM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[WA]]}),n})(),rV=(()=>{class n{constructor(e,i){dr(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:rl,useValue:Object.assign(Object.assign({},YA),e)},{provide:qA,useValue:i,multi:!0},{provide:lm,useValue:!0}]:[{provide:rl,useValue:Object.assign(Object.assign({},YA),e)},{provide:qA,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(lm),l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[$M,UM,XM],$M,UM,XM]}),n})(),sV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[],imports:[[_s,LN,AI,rV,Ni,PN,VP,CN,$A,GN]]}),n})();function XA(n){return n&&"function"==typeof n.connect}class JM{applyChanges(t,e,i,r,c){t.forEachOperation((d,p,v)=>{let D,T;if(null==d.previousIndex){const O=i(d,p,v);D=e.createEmbeddedView(O.templateRef,O.context,O.index),T=1}else null==v?(e.remove(p),T=3):(D=e.get(p),e.move(D,v),T=2);c&&c({context:null==D?void 0:D.context,operation:T,record:d})})}detach(){}}const _v=new l.OlP("_ViewRepeater"),lV=[[["caption"]],[["colgroup"],["col"]]],cV=["caption","colgroup, col"];function JA(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=_i(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const um=new l.OlP("CDK_TABLE");let dm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),hm=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),T0=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class fV{}const pV=JA(fV);let cu=(()=>{class n extends pV{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=_i(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(um,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,dm,5),l.Suo(r,hm,5),l.Suo(r,T0,5)),2&e){let c;l.iGM(c=l.CRH())&&(i.cell=c.first),l.iGM(c=l.CRH())&&(i.headerCell=c.first),l.iGM(c=l.CRH())&&(i.footerCell=c.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class eS{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let tS=(()=>{class n extends eS{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(cu),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),nS=(()=>{class n extends eS{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const c=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===c||"treegrid"===c?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(cu),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class nR{constructor(){this.tasks=[],this.endTasks=[]}}const iS=new l.OlP("_COALESCED_STYLE_SCHEDULER");let iR=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new xt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new nR,this._getScheduleObservable().pipe(Gr(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new nR;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Fn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ai(1))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),rS=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof yv?e.headerCell.template:this instanceof vv?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class gV extends rS{}const mV=JA(gV);let yv=(()=>{class n extends mV{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(um,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class _V extends rS{}const yV=JA(_V);let vv=(()=>{class n extends yV{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(um,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),M0=(()=>{class n extends rS{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(um,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),uu=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),sS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[uu],encapsulation:2}),n})(),aS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[uu],encapsulation:2}),n})(),R0=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const rR=["top","bottom","left","right"];class vV{constructor(t,e,i,r,c=!0,d=!0,p){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=c,this._needsPositionStickyOnElement=d,this._positionListener=p,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let c=0;c<r.children.length;c++)i.push(r.children[c])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(B=>B)&&!i.some(B=>B))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const c=t[0],d=c.children.length,p=this._getCellWidths(c,r),v=this._getStickyStartColumnPositions(p,e),D=this._getStickyEndColumnPositions(p,i),T=e.lastIndexOf(!0),O=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const B="rtl"===this.direction,K=B?"right":"left",ne=B?"left":"right";for(const Ce of t)for(let Fe=0;Fe<d;Fe++){const Je=Ce.children[Fe];e[Fe]&&this._addStickyStyle(Je,K,v[Fe],Fe===T),i[Fe]&&this._addStickyStyle(Je,ne,D[Fe],Fe===O)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:p.slice(0,T+1).map((Ce,Fe)=>e[Fe]?Ce:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===O?[]:p.slice(O).map((Ce,Fe)=>i[Fe+O]?Ce:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,c="bottom"===i?e.slice().reverse():e,d=[],p=[],v=[];for(let T=0,O=0;T<r.length;T++){if(!c[T])continue;d[T]=O;const B=r[T];v[T]=this._isNativeHtmlTable?Array.from(B.children):[B];const K=B.getBoundingClientRect().height;O+=K,p[T]=K}const D=c.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,O;for(let B=0;B<r.length;B++){if(!c[B])continue;const K=d[B],ne=B===D;for(const Ce of v[B])this._addStickyStyle(Ce,i,K,ne)}"top"===i?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:p,offsets:d,elements:v}):null===(O=this._positionListener)||void 0===O||O.stickyFooterRowsUpdated({sizes:p,offsets:d,elements:v})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);rR.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of rR)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let c=0;c<r.length;c++)i.push(r[c].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let c=0;c<t.length;c++)e[c]&&(i[c]=r,r+=t[c]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let c=t.length;c>0;c--)e[c]&&(i[c]=r,r+=t[c]);return i}}const lS=new l.OlP("CDK_SPL");let O0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),k0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),F0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),P0=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),N0=(()=>{class n{constructor(e,i,r,c,d,p,v,D,T,O,B,K){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=d,this._platform=v,this._viewRepeater=D,this._coalescedStyleScheduler=T,this._viewportRuler=O,this._stickyPositioningListener=B,this._ngZone=K,this._onDestroy=new xt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new Zn({start:0,end:Number.MAX_VALUE}),c||this._elementRef.nativeElement.setAttribute("role","table"),this._document=p,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=_i(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=_i(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Gr(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),XA(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,c,d)=>this._getEmbeddedViewArgs(r.item,d),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Ai(1),Gr(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const c=this._headerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,c,"top"),this._headerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const c=this._footerRowDefs.map(d=>d.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,c,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,c),this._footerRowDefs.forEach(d=>d.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((c,d)=>{this._addStickyColumnStyles([c],this._headerRowDefs[d])}),this._rowDefs.forEach(c=>{const d=[];for(let p=0;p<i.length;p++)this._renderRows[p].rowDef===c&&d.push(i[p]);this._addStickyColumnStyles(d,c)}),r.forEach((c,d)=>{this._addStickyColumnStyles([c],this._footerRowDefs[d])}),Array.from(this._columnDefsByName.values()).forEach(c=>c.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let c=this._data[r];const d=this._getRenderRowsForData(c,r,i.get(c));this._cachedRenderRowsMap.has(c)||this._cachedRenderRowsMap.set(c,new WeakMap);for(let p=0;p<d.length;p++){let v=d[p];const D=this._cachedRenderRowsMap.get(v.data);D.has(v.rowDef)?D.get(v.rowDef).push(v):D.set(v.rowDef,[v]),e.push(v)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(d=>{const p=r&&r.has(d)?r.get(d):[];if(p.length){const v=p.shift();return v.dataIndex=i,v}return{data:e,rowDef:d,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),L0(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=L0(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=L0(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=L0(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(d,p)=>d||!!p.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const c=this._footerRowDefs.reduce(e,!1);return c&&this._forceRenderFooterRows(),i||r||c}_switchDataSource(e){this._data=[],XA(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;XA(this.dataSource)?e=this.dataSource.connect(this):function aV(n){return!!n&&(n instanceof ln.y||(0,Kn.m)(n.lift)&&(0,Kn.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ke(this.dataSource)),this._renderChangeSubscription=e.pipe(Gr(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(p=>this._columnDefsByName.get(p)),c=r.map(p=>p.sticky),d=r.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(e,c,d,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const c=e.viewContainer.get(r);i.push(c.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(c=>!c.when||c.when(i,e));else{let c=this._rowDefs.find(d=>d.when&&d.when(i,e))||this._defaultRowDef;c&&r.push(c)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,c={}){const d=e.viewContainer.createEmbeddedView(i.template,c,r);return this._renderCellTemplateForItem(i,c),d}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))uu.mostRecentCellOutlet&&uu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const d=e.get(i).context;d.count=r,d.first=0===i,d.last=i===r-1,d.even=i%2==0,d.odd=!d.even,this.multiTemplateDataRows?(d.dataIndex=this._renderRows[i].dataIndex,d.renderIndex=i):d.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const c=this._document.createElement(r.tag);c.setAttribute("role","rowgroup");for(const d of r.outlets)c.appendChild(d.elementRef.nativeElement);e.appendChild(c)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new vV(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ke()).pipe(Gr(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const c=r.createEmbeddedView(e.templateRef),d=c.rootNodes[0];1===c.rootNodes.length&&(null==d?void 0:d.nodeType)===this._document.ELEMENT_NODE&&(d.setAttribute("role","row"),d.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(Af,8),l.Y36(ie),l.Y36(Bs),l.Y36(_v),l.Y36(iS),l.Y36(iA),l.Y36(lS,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,R0,5),l.Suo(r,cu,5),l.Suo(r,M0,5),l.Suo(r,yv,5),l.Suo(r,vv,5)),2&e){let c;l.iGM(c=l.CRH())&&(i._noDataRow=c.first),l.iGM(c=l.CRH())&&(i._contentColumnDefs=c),l.iGM(c=l.CRH())&&(i._contentRowDefs=c),l.iGM(c=l.CRH())&&(i._contentHeaderRowDefs=c),l.iGM(c=l.CRH())&&(i._contentFooterRowDefs=c)}},viewQuery:function(e,i){if(1&e&&(l.Gf(O0,7),l.Gf(k0,7),l.Gf(F0,7),l.Gf(P0,7)),2&e){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:um,useExisting:n},{provide:_v,useClass:JM},{provide:iS,useClass:iR},{provide:lS,useValue:null}])],ngContentSelectors:cV,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(lV),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},directives:[k0,O0,P0,F0],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function L0(n,t){return n.concat(Array.from(t))}let CV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[sA]]}),n})();const wV=[[["caption"]],[["colgroup"],["col"]]],EV=["caption","colgroup, col"];let oR=(()=>{class n extends N0{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:_v,useClass:JM},{provide:N0,useExisting:n},{provide:um,useExisting:n},{provide:iS,useClass:iR},{provide:lS,useValue:null}]),l.qOj],ngContentSelectors:EV,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(wV),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},directives:[k0,O0,P0,F0],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),cS=(()=>{class n extends dm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:dm,useExisting:n}]),l.qOj]}),n})(),uS=(()=>{class n extends hm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:hm,useExisting:n}]),l.qOj]}),n})(),dS=(()=>{class n extends cu{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:cu,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),hS=(()=>{class n extends tS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[l.qOj]}),n})(),fS=(()=>{class n extends nS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[l.qOj]}),n})(),aR=(()=>{class n extends yv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:yv,useExisting:n}]),l.qOj]}),n})(),lR=(()=>{class n extends M0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:M0,useExisting:n}]),l.qOj]}),n})(),cR=(()=>{class n extends sS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:sS,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[uu],encapsulation:2}),n})(),uR=(()=>{class n extends aS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[l._Bn([{provide:aS,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[uu],encapsulation:2}),n})(),kV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[CV,Ni],Ni]}),n})();class NV extends class PV extends class oV{}{constructor(t=[]){super(),this._renderData=new Zn([]),this._filter=new Zn(""),this._internalPageChanges=new xt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(II(r)){const c=Number(r);return c<9007199254740991?c:r}return r},this.sortData=(e,i)=>{const r=i.active,c=i.direction;return r&&""!=c?e.sort((d,p)=>{let v=this.sortingDataAccessor(d,r),D=this.sortingDataAccessor(p,r);const T=typeof v,O=typeof D;T!==O&&("number"===T&&(v+=""),"number"===O&&(D+=""));let B=0;return null!=v&&null!=D?v>D?B=1:v<D&&(B=-1):null!=v?B=1:null!=D&&(B=-1),B*("asc"==c?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((d,p)=>d+e[p]+"\u25ec","").toLowerCase(),c=i.trim().toLowerCase();return-1!=r.indexOf(c)},this._data=new Zn(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,$a.T)(this._sort.sortChange,this._sort.initialized):Ke(null),i=this._paginator?(0,$a.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ke(null),c=Js([this._data,this._filter]).pipe((0,wt.U)(([v])=>this._filterData(v))),d=Js([c,e]).pipe((0,wt.U)(([v])=>this._orderData(v))),p=Js([d,i]).pipe((0,wt.U)(([v])=>this._pageData(v)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=p.subscribe(v=>this._renderData.next(v))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}function LV(n,t){if(1&n&&(l.TgZ(0,"th",15),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.currentCategoryName)}}function BV(n,t){if(1&n&&(l.TgZ(0,"td",16),l._uU(1),l.qZA()),2&n){const e=t.index;l.xp6(1),l.Oqu(e+1)}}function VV(n,t){1&n&&(l.TgZ(0,"th",15),l._uU(1,"A"),l.qZA())}const B0=function(n){return{diagonal:n}};function UV(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit,i=t.index;l.Q6J("ngClass",l.VKq(2,B0,i%2==0||0===i)),l.xp6(1),l.hij("",e[0]," ")}}function HV(n,t){1&n&&(l.TgZ(0,"th",15),l._uU(1,"B"),l.qZA())}function jV(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit,i=t.index;l.Q6J("ngClass",l.VKq(2,B0,i%2==1&&0!==i)),l.xp6(1),l.Oqu(e[1])}}function GV(n,t){1&n&&(l.TgZ(0,"th",15),l._uU(1,"C"),l.qZA())}function $V(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit,i=t.index;l.Q6J("ngClass",l.VKq(2,B0,i%2==0||0===i)),l.xp6(1),l.Oqu(e[2])}}function zV(n,t){1&n&&(l.TgZ(0,"th",15),l._uU(1,"D"),l.qZA())}function WV(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit,i=t.index;l.Q6J("ngClass",l.VKq(2,B0,i%2==1&&0!==i)),l.xp6(1),l.Oqu(e[3])}}function YV(n,t){1&n&&l._UZ(0,"tr",18)}function qV(n,t){1&n&&l._UZ(0,"tr",19)}function ZV(n,t){if(1&n&&(l.TgZ(0,"table",4),l.ynx(1,5),l.YNc(2,LV,2,1,"th",6),l.YNc(3,BV,2,1,"td",7),l.BQk(),l.ynx(4,8),l.YNc(5,VV,2,0,"th",6),l.YNc(6,UV,2,4,"td",9),l.BQk(),l.ynx(7,10),l.YNc(8,HV,2,0,"th",6),l.YNc(9,jV,2,4,"td",9),l.BQk(),l.ynx(10,11),l.YNc(11,GV,2,0,"th",6),l.YNc(12,$V,2,4,"td",9),l.BQk(),l.ynx(13,12),l.YNc(14,zV,2,0,"th",6),l.YNc(15,WV,2,4,"td",9),l.BQk(),l.YNc(16,YV,1,0,"tr",13),l.YNc(17,qV,1,0,"tr",14),l.qZA()),2&n){const e=l.oxw();l.Q6J("dataSource",e.currentCategory),l.xp6(16),l.Q6J("matHeaderRowDef",e.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",e.displayedColumns)}}function KV(n,t){if(1&n&&(l.TgZ(0,"th",15),l._uU(1),l.qZA()),2&n){const e=l.oxw().index;l.xp6(1),l.Oqu("\u2022".repeat(e))}}const QV=function(n){return{"green-bg":n}},XV=function(){return{"background-color":"#69b86e",border:"3px solid darkblue"}},JV=function(){return{}};function e2(n,t){if(1&n&&(l.TgZ(0,"td",24),l._uU(1),l.qZA()),2&n){const e=t.$implicit,i=t.index,r=l.oxw().index,c=l.oxw(2);l.Q6J("ngClass",l.VKq(3,QV,r>0&&i%2==r%2&&e[r]!=c.chartColumns[r]))("ngStyle",c.randomRow===i&&r===c.randomColumn?l.DdM(5,XV):l.DdM(6,JV)),l.xp6(1),l.hij("",e[r]," ")}}function t2(n,t){1&n&&(l.ynx(0,22),l.YNc(1,KV,2,1,"th",6),l.YNc(2,e2,2,7,"td",23),l.BQk()),2&n&&l.Q6J("matColumnDef",t.$implicit)}function n2(n,t){1&n&&l._UZ(0,"tr",18)}function r2(n,t){1&n&&l._UZ(0,"tr",19)}function s2(n,t){if(1&n&&(l.TgZ(0,"table",20),l.YNc(1,t2,3,1,"ng-container",21),l.YNc(2,n2,1,0,"tr",13),l.YNc(3,r2,1,0,"tr",14),l.qZA()),2&n){const e=l.oxw();l.Q6J("dataSource",e.chartTable),l.xp6(1),l.Q6J("ngForOf",e.chartColumns),l.xp6(1),l.Q6J("matHeaderRowDef",e.chartColumns),l.xp6(1),l.Q6J("matRowDefColumns",e.chartColumns)}}function o2(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(){return l.CHM(e),l.oxw().nextRound()}),l._uU(1,"Next Round"),l.qZA()}}function a2(n,t){1&n&&(l.TgZ(0,"mat-header-cell",15),l._uU(1," Select Category "),l.qZA())}function l2(n,t){if(1&n&&(l.TgZ(0,"mat-cell",16),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.key," ")}}function c2(n,t){1&n&&l._UZ(0,"mat-header-row")}const u2=function(n){return{highlighted:n}};function d2(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-row",30),l.NdJ("click",function(){const c=l.CHM(e).$implicit;return l.oxw(2).selectCategory(c)}),l.qZA()}if(2&n){const e=t.$implicit,i=l.oxw(2);l.Q6J("ngClass",l.VKq(1,u2,e===i.selectedRow))}}function h2(n,t){if(1&n&&(l.TgZ(0,"mat-table",26),l.ynx(1,27),l.YNc(2,a2,2,0,"mat-header-cell",6),l.YNc(3,l2,2,1,"mat-cell",7),l.BQk(),l.YNc(4,c2,1,0,"mat-header-row",28),l.YNc(5,d2,1,3,"mat-row",29),l.qZA()),2&n){const e=l.oxw();l.Q6J("dataSource",e.categories),l.xp6(4),l.Q6J("matHeaderRowDef",e.category),l.xp6(1),l.Q6J("matRowDefColumns",e.category)}}const f2=[{path:"game/:id",component:(()=>{class n{constructor(e,i){this.db=e,this.route=i,this.currentCategory=[],this.displayedColumns=["category","a","b","c","d"],this.category=["key"],this.categories=[],this.chartTable=new NV,this.chartColumns=["col0","col1","col2","col3","col4","col5","col6"],this.tableData=[["1","a1","b2","c3","d4","a2","b1"],["2","c4","d3","a4","b3","c2","d1"],["3","a3","b4","c1","d2","a4","b3"],["4","c2","d1","a3","b4","c1","d2"],["5","a2","b1","c4","d3","a1","b2"],["6","c3","d4","a1","b2","c4","d3"],["7","a4","b3","c2","d1","a3","b4"],["8","c1","d2","a2","b1","c3","d4"]],this.chameleonTable=[["1","x","x","x","x","x","x"],["2","x","x","x","x","x","x"],["3","x","x","x","x","x","x"],["4","x","x","x","x","x","x"],["5","x","x","x","x","x","x"],["6","x","x","x","x","x","x"],["7","x","x","x","x","x","x"],["8","x","x","x","x","x","x"]],this.userData=sessionStorage.getItem("user"),this.userData&&(this.userData=JSON.parse(this.userData)),this.lobbyId=this.route.snapshot.paramMap.get("id")}ngOnInit(){this.chartTable.data=this.tableData,this.db.object("/cards").valueChanges().pipe((0,Pn.z)(i=>(this.allCategories=i,this.categories=Object.keys(this.allCategories).map(r=>({key:r})),this.db.list(`/lobbies/${this.lobbyId}`).snapshotChanges().pipe((0,wt.U)(r=>{var c,d,p,v,D,T,O,B,K,ne,Ce;this.lobbyInfo=this.getCurrentLobbyInfo(r),this.lobbyInfo.users=this.lobbyInfo.users.map(Fe=>(Fe.isChameleon=!1,Fe)),(null===(d=null===(c=this.lobbyInfo)||void 0===c?void 0:c.gameState)||void 0===d?void 0:d.gameStarted)&&!(null===(p=this.userData)||void 0===p?void 0:p.admin)&&(this.currentCategoryName=this.allCategories[this.lobbyInfo.gameState.category].slice(16),this.currentCategory=this.mapCategoryTable(this.allCategories)),this.chartTable.data=this.userData.userId===(null===(D=null===(v=this.lobbyInfo)||void 0===v?void 0:v.gameState)||void 0===D?void 0:D.chameleon)?this.chameleonTable:this.tableData,this.randomRow=null===(B=null===(O=null===(T=this.lobbyInfo)||void 0===T?void 0:T.gameState)||void 0===O?void 0:O.combination)||void 0===B?void 0:B.row,this.randomColumn=null===(Ce=null===(ne=null===(K=this.lobbyInfo)||void 0===K?void 0:K.gameState)||void 0===ne?void 0:ne.combination)||void 0===Ce?void 0:Ce.column}))))).subscribe()}getCurrentLobbyInfo(e){return e.reduce((i,r)=>(i[r.payload.key]=r.payload.val(),i),{})}mapCategoryTable(e){return e[this.lobbyInfo.gameState.category].slice(0,16).reduce((i,r,c)=>{const d=Math.floor(c/4);return i[d]||(i[d]=[]),i[d].push(r),i},[])}nextRound(){this.selectedRow=!1,this.lobbyInfo.gameState={gameStarted:!1,category:null},this.dataRef.update(this.lobbyInfo)}assingNewChameleon(e){this.dataRef=this.db.object(`/lobbies/${this.lobbyId}`);const i=this.lobbyInfo.users[Math.floor(Math.random()*this.lobbyInfo.users.length)];this.randomRow=Math.floor(Math.random()*this.chameleonTable.length),this.randomColumn=Math.floor(6*Math.random())+1,this.lobbyInfo.gameState={gameStarted:!0,category:e.key,chameleon:i.userId,combination:{row:this.randomRow,column:this.randomColumn}},this.dataRef.update(this.lobbyInfo)}selectCategory(e){this.assingNewChameleon(e),this.selectedRow=!0,this.currentCategoryName=this.allCategories[e.key].slice(16),this.currentCategory=this.mapTableData(e)}mapTableData(e){return this.allCategories[e.key].slice(0,16).reduce((i,r,c)=>{const d=Math.floor(c/4);return i[d]||(i[d]=[]),i[d].push(r),i},[])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iu),l.Y36(Ko))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-gameplay"]],decls:6,vars:4,consts:[["mat-table","","class","mat-elevation-z8 category-table",3,"dataSource",4,"ngIf"],["mat-table","","class","mat-elevation-z8 chart-table",3,"dataSource",4,"ngIf"],["class","button-neu container-centered","mat-raised-button","",3,"click",4,"ngIf"],["class","mat-elevation-z8",3,"dataSource",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","category-table",3,"dataSource"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","a"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","b"],["matColumnDef","c"],["matColumnDef","d"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass"],["mat-header-row",""],["mat-row",""],["mat-table","",1,"mat-elevation-z8","chart-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],[3,"matColumnDef"],["mat-cell","",3,"ngClass","ngStyle",4,"matCellDef"],["mat-cell","",3,"ngClass","ngStyle"],["mat-raised-button","",1,"button-neu","container-centered",3,"click"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","key"],[4,"matHeaderRowDef"],["matRipple","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["matRipple","",3,"ngClass","click"]],template:function(e,i){1&e&&(l.YNc(0,ZV,18,3,"table",0),l._UZ(1,"hr")(2,"hr"),l.YNc(3,s2,4,4,"table",1),l.YNc(4,o2,2,0,"button",2),l.YNc(5,h2,6,3,"mat-table",3)),2&e&&(l.Q6J("ngIf",i.selectedRow||!i.userData.admin),l.xp6(3),l.Q6J("ngIf",i.selectedRow||!i.userData.admin),l.xp6(1),l.Q6J("ngIf",i.selectedRow&&i.userData.admin),l.xp6(1),l.Q6J("ngIf",!i.selectedRow&&i.userData.admin))},directives:[In,oR,dS,uS,hS,cS,fS,cr,aR,cR,lR,uR,Sn,Mo,pv],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{width:calc(100% / 6);text-align:center;padding:8px}.chart-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .chart-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:calc(100% / 7);text-align:center;border:1px solid black;padding:8px}.category-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .chart-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:calc(100% / 7);text-align:center}.green-bg[_ngcontent-%COMP%], .diagonal[_ngcontent-%COMP%]{background-color:#e3f2e4}.button-neu[_ngcontent-%COMP%]{margin-top:15px;color:#000;margin-bottom:15px;background:linear-gradient(145deg,#cacaca,#f0f0f0);box-shadow:12px 12px 20px #989898,-12px -12px 20px #fff}.button-neu[_ngcontent-%COMP%]:hover{color:#eb930f;background:black}.container-centered[_ngcontent-%COMP%]{margin:20px auto 0;display:block}mat-header-cell[_ngcontent-%COMP%]{justify-content:center;font-size:17px;background-color:#e3f2e4}mat-cell[_ngcontent-%COMP%]{justify-content:center}"]}),n})()}];let p2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ts.forChild(f2)],Ts]}),n})(),g2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_s,p2,kV,$A]]}),n})();const m2=["*",[["mat-card-footer"]]],_2=["*","mat-card-footer"];let y2=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Of,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:_2,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(m2),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),v2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ni],Ni]}),n})();function b2(n,t){if(1&n&&(l.TgZ(0,"div")(1,"mat-card"),l._uU(2),l.qZA(),l._UZ(3,"hr"),l.qZA()),2&n){const e=t.$implicit;l.xp6(2),l.Oqu(e.name)}}function C2(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",2),l.NdJ("click",function(){return l.CHM(e),l.oxw().startGame()}),l._uU(1," Start Game\n"),l.qZA()}}const w2=[{path:"lobby/:id",component:(()=>{class n{constructor(e,i,r){this.db=e,this.activatedRoute=i,this.router=r,this.isAdmin=JSON.parse(sessionStorage.getItem("user")).admin}ngOnInit(){this.lobbyId=this.activatedRoute.snapshot.paramMap.get("id"),this.LobbySub=this.db.list(`/lobbies/${this.lobbyId}`).snapshotChanges().subscribe(e=>{this.lobbyName=e[0].payload;const i=e.findIndex(c=>"users"===c.key);this.currentUsers=e[i].payload.val(),e.findIndex(c=>"gameState"===c.key)>=0&&this.startGame()})}startGame(){this.router.navigate([`game/${this.lobbyId}`])}ngOnDestroy(){this.LobbySub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(iu),l.Y36(Ko),l.Y36(pi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-lobby"]],decls:5,vars:5,consts:[[4,"ngFor","ngForOf"],["class","button-neu","mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",1,"button-neu",3,"click"]],template:function(e,i){1&e&&(l.YNc(0,b2,4,1,"div",0),l.YNc(1,C2,2,0,"button",1),l.TgZ(2,"div"),l._uU(3),l.ALo(4,"json"),l.qZA()),2&e&&(l.Q6J("ngForOf",i.currentUsers),l.xp6(1),l.Q6J("ngIf",i.isAdmin),l.xp6(2),l.hij(" lobby name: ",l.lcZ(4,3,i.lobbyName),"\n"))},directives:[Sn,y2,In,pv],pipes:[bu],styles:[".button-neu[_ngcontent-%COMP%]{margin-top:15px;color:#000;margin-bottom:15px;background:linear-gradient(145deg,#cacaca,#f0f0f0);box-shadow:12px 12px 20px #989898,-12px -12px 20px #fff}.button-neu[_ngcontent-%COMP%]:hover{color:#eb930f;background:black}"]}),n})()}];let E2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Ts.forChild(w2)],Ts]}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_s,E2,$A,v2]]}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[Tx]}),n.\u0275inj=l.cJS({providers:[],imports:[[Lo,Y0,go.hO.initializeApp(Ng_firebase),oI,sV,g2,D2,pP]]}),n})();(0,l.G48)(),gl().bootstrapModule(x2).catch(n=>console.error(n))},8306:(Ye,ye,F)=>{F.d(ye,{y:()=>G});var l=F(930),J=F(727),P=F(8822),le=F(4671);var ie=F(2416),ce=F(576),de=F(2806);let G=(()=>{class xe{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const he=new xe;return he.source=this,he.operator=Le,he}subscribe(Le,he,we){const Ue=function Pe(xe){return xe&&xe instanceof l.Lv||function te(xe){return xe&&(0,ce.m)(xe.next)&&(0,ce.m)(xe.error)&&(0,ce.m)(xe.complete)}(xe)&&(0,J.Nn)(xe)}(Le)?Le:new l.Hp(Le,he,we);return(0,de.x)(()=>{const{operator:ze,source:Ie}=this;Ue.add(ze?ze.call(Ue,Ie):Ie?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(Le){try{return this._subscribe(Le)}catch(he){Le.error(he)}}forEach(Le,he){return new(he=$(he))((we,Ue)=>{const ze=new l.Hp({next:Ie=>{try{Le(Ie)}catch(ge){Ue(ge),ze.unsubscribe()}},error:Ue,complete:we});this.subscribe(ze)})}_subscribe(Le){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(Le)}[P.L](){return this}pipe(...Le){return function fe(xe){return 0===xe.length?le.y:1===xe.length?xe[0]:function(Le){return xe.reduce((he,we)=>we(he),Le)}}(Le)(this)}toPromise(Le){return new(Le=$(Le))((he,we)=>{let Ue;this.subscribe(ze=>Ue=ze,ze=>we(ze),()=>he(Ue))})}}return xe.create=Me=>new xe(Me),xe})();function $(xe){var Me;return null!==(Me=null!=xe?xe:ie.v.Promise)&&void 0!==Me?Me:Promise}},7579:(Ye,ye,F)=>{F.d(ye,{x:()=>ie});var l=F(8306),J=F(727);const le=(0,F(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=F(8737),fe=F(2806);let ie=(()=>{class de extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const te=new ce(this,this);return te.operator=$,te}_throwIfClosed(){if(this.closed)throw new le}next($){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next($)}})}error($){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:te}=this;for(;te.length;)te.shift().error($)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:te,isStopped:Pe,observers:xe}=this;return te||Pe?J.Lc:(this.currentObservers=null,xe.push($),new J.w0(()=>{this.currentObservers=null,(0,ae.P)(xe,$)}))}_checkFinalizedStatuses($){const{hasError:te,thrownError:Pe,isStopped:xe}=this;te?$.error(Pe):xe&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return de.create=(G,$)=>new ce(G,$),de})();class ce extends ie{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,te;null===(te=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===te||te.call($,G)}error(G){var $,te;null===(te=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===te||te.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,te;return null!==(te=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==te?te:J.Lc}}},930:(Ye,ye,F)=>{F.d(ye,{Hp:()=>Le,Lv:()=>te});var l=F(576),J=F(727),P=F(2416),le=F(7849),ae=F(5032);const fe=de("C",void 0,void 0);function de(Ie,ge,De){return{kind:Ie,value:ge,error:De}}var G=F(3410),$=F(2806);class te extends J.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,J.Nn)(ge)&&ge.add(this)):this.destination=ze}static create(ge,De,Ne){return new Le(ge,De,Ne)}next(ge){this.isStopped?Ue(function ce(Ie){return de("N",Ie,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?Ue(function ie(Ie){return de("E",void 0,Ie)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?Ue(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function xe(Ie,ge){return Pe.call(Ie,ge)}class Me{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:De}=this;if(De.next)try{De.next(ge)}catch(Ne){he(Ne)}}error(ge){const{partialObserver:De}=this;if(De.error)try{De.error(ge)}catch(Ne){he(Ne)}else he(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(De){he(De)}}}class Le extends te{constructor(ge,De,Ne){let Be;if(super(),(0,l.m)(ge)||!ge)Be={next:null!=ge?ge:void 0,error:null!=De?De:void 0,complete:null!=Ne?Ne:void 0};else{let z;this&&P.v.useDeprecatedNextContext?(z=Object.create(ge),z.unsubscribe=()=>this.unsubscribe(),Be={next:ge.next&&xe(ge.next,z),error:ge.error&&xe(ge.error,z),complete:ge.complete&&xe(ge.complete,z)}):Be=ge}this.destination=new Me(Be)}}function he(Ie){P.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ie):(0,le.h)(Ie)}function Ue(Ie,ge){const{onStoppedNotification:De}=P.v;De&&G.z.setTimeout(()=>De(Ie,ge))}const ze={closed:!0,next:ae.Z,error:function we(Ie){throw Ie},complete:ae.Z}},727:(Ye,ye,F)=>{F.d(ye,{Lc:()=>fe,w0:()=>ae,Nn:()=>ie});var l=F(576);const P=(0,F(3888).d)(de=>function($){de(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((te,Pe)=>`${Pe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var le=F(8737);class ae{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const xe of $)xe.remove(this);else $.remove(this);const{initialTeardown:te}=this;if((0,l.m)(te))try{te()}catch(xe){G=xe instanceof P?xe.errors:[xe]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const xe of Pe)try{ce(xe)}catch(Me){G=null!=G?G:[],Me instanceof P?G=[...G,...Me.errors]:G.push(Me)}}if(G)throw new P(G)}}add(G){var $;if(G&&G!==this)if(this.closed)ce(G);else{if(G instanceof ae){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,le.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,le.P)($,G),G instanceof ae&&G._removeParent(this)}}ae.EMPTY=(()=>{const de=new ae;return de.closed=!0,de})();const fe=ae.EMPTY;function ie(de){return de instanceof ae||de&&"closed"in de&&(0,l.m)(de.remove)&&(0,l.m)(de.add)&&(0,l.m)(de.unsubscribe)}function ce(de){(0,l.m)(de)?de():de.unsubscribe()}},2416:(Ye,ye,F)=>{F.d(ye,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ye,ye,F)=>{F.d(ye,{E:()=>J});const J=new(F(8306).y)(ae=>ae.complete())},8996:(Ye,ye,F)=>{F.d(ye,{D:()=>ge});var l=F(8421),J=F(5363),P=F(9468),fe=F(8306),ce=F(2202),de=F(576),G=F(9672);function te(De,Ne){if(!De)throw new Error("Iterable cannot be null");return new fe.y(Be=>{(0,G.f)(Be,Ne,()=>{const z=De[Symbol.asyncIterator]();(0,G.f)(Be,Ne,()=>{z.next().then(ve=>{ve.done?Be.complete():Be.next(ve.value)})},0,!0)})})}var Pe=F(3670),xe=F(8239),Me=F(1144),Le=F(6495),he=F(2206),we=F(4532),Ue=F(3260);function ge(De,Ne){return Ne?function Ie(De,Ne){if(null!=De){if((0,Pe.c)(De))return function le(De,Ne){return(0,l.Xf)(De).pipe((0,P.R)(Ne),(0,J.Q)(Ne))}(De,Ne);if((0,Me.z)(De))return function ie(De,Ne){return new fe.y(Be=>{let z=0;return Ne.schedule(function(){z===De.length?Be.complete():(Be.next(De[z++]),Be.closed||this.schedule())})})}(De,Ne);if((0,xe.t)(De))return function ae(De,Ne){return(0,l.Xf)(De).pipe((0,P.R)(Ne),(0,J.Q)(Ne))}(De,Ne);if((0,he.D)(De))return te(De,Ne);if((0,Le.T)(De))return function $(De,Ne){return new fe.y(Be=>{let z;return(0,G.f)(Be,Ne,()=>{z=De[ce.h](),(0,G.f)(Be,Ne,()=>{let ve,Y;try{({value:ve,done:Y}=z.next())}catch(se){return void Be.error(se)}Y?Be.complete():Be.next(ve)},0,!0)}),()=>(0,de.m)(null==z?void 0:z.return)&&z.return()})}(De,Ne);if((0,Ue.L)(De))return function ze(De,Ne){return te((0,Ue.Q)(De),Ne)}(De,Ne)}throw(0,we.z)(De)}(De,Ne):(0,l.Xf)(De)}},8421:(Ye,ye,F)=>{F.d(ye,{Xf:()=>Pe});var l=F(655),J=F(1144),P=F(8239),le=F(8306),ae=F(3670),fe=F(2206),ie=F(4532),ce=F(6495),de=F(3260),G=F(576),$=F(7849),te=F(8822);function Pe(Ie){if(Ie instanceof le.y)return Ie;if(null!=Ie){if((0,ae.c)(Ie))return function xe(Ie){return new le.y(ge=>{const De=Ie[te.L]();if((0,G.m)(De.subscribe))return De.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,J.z)(Ie))return function Me(Ie){return new le.y(ge=>{for(let De=0;De<Ie.length&&!ge.closed;De++)ge.next(Ie[De]);ge.complete()})}(Ie);if((0,P.t)(Ie))return function Le(Ie){return new le.y(ge=>{Ie.then(De=>{ge.closed||(ge.next(De),ge.complete())},De=>ge.error(De)).then(null,$.h)})}(Ie);if((0,fe.D)(Ie))return we(Ie);if((0,ce.T)(Ie))return function he(Ie){return new le.y(ge=>{for(const De of Ie)if(ge.next(De),ge.closed)return;ge.complete()})}(Ie);if((0,de.L)(Ie))return function Ue(Ie){return we((0,de.Q)(Ie))}(Ie)}throw(0,ie.z)(Ie)}function we(Ie){return new le.y(ge=>{(function ze(Ie,ge){var De,Ne,Be,z;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Ie);!(Ne=yield De.next()).done;)if(ge.next(Ne.value),ge.closed)return}catch(ve){Be={error:ve}}finally{try{Ne&&!Ne.done&&(z=De.return)&&(yield z.call(De))}finally{if(Be)throw Be.error}}ge.complete()})})(Ie,ge).catch(De=>ge.error(De))})}},6451:(Ye,ye,F)=>{F.d(ye,{T:()=>fe});var l=F(8189),J=F(8421),P=F(515),le=F(3269),ae=F(8996);function fe(...ie){const ce=(0,le.yG)(ie),de=(0,le._6)(ie,1/0),G=ie;return G.length?1===G.length?(0,J.Xf)(G[0]):(0,l.J)(de)((0,ae.D)(G,ce)):P.E}},5403:(Ye,ye,F)=>{F.d(ye,{x:()=>J});var l=F(930);function J(le,ae,fe,ie,ce){return new P(le,ae,fe,ie,ce)}class P extends l.Lv{constructor(ae,fe,ie,ce,de,G){super(ae),this.onFinalize=de,this.shouldUnsubscribe=G,this._next=fe?function($){try{fe($)}catch(te){ae.error(te)}}:super._next,this._error=ce?function($){try{ce($)}catch(te){ae.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch($){ae.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},4004:(Ye,ye,F)=>{F.d(ye,{U:()=>P});var l=F(4482),J=F(5403);function P(le,ae){return(0,l.e)((fe,ie)=>{let ce=0;fe.subscribe((0,J.x)(ie,de=>{ie.next(le.call(ae,de,ce++))}))})}},8189:(Ye,ye,F)=>{F.d(ye,{J:()=>P});var l=F(5577),J=F(4671);function P(le=1/0){return(0,l.z)(J.y,le)}},5577:(Ye,ye,F)=>{F.d(ye,{z:()=>ce});var l=F(4004),J=F(8421),P=F(4482),le=F(9672),ae=F(5403),ie=F(576);function ce(de,G,$=1/0){return(0,ie.m)(G)?ce((te,Pe)=>(0,l.U)((xe,Me)=>G(te,xe,Pe,Me))((0,J.Xf)(de(te,Pe))),$):("number"==typeof G&&($=G),(0,P.e)((te,Pe)=>function fe(de,G,$,te,Pe,xe,Me,Le){const he=[];let we=0,Ue=0,ze=!1;const Ie=()=>{ze&&!he.length&&!we&&G.complete()},ge=Ne=>we<te?De(Ne):he.push(Ne),De=Ne=>{xe&&G.next(Ne),we++;let Be=!1;(0,J.Xf)($(Ne,Ue++)).subscribe((0,ae.x)(G,z=>{null==Pe||Pe(z),xe?ge(z):G.next(z)},()=>{Be=!0},void 0,()=>{if(Be)try{for(we--;he.length&&we<te;){const z=he.shift();Me?(0,le.f)(G,Me,()=>De(z)):De(z)}Ie()}catch(z){G.error(z)}}))};return de.subscribe((0,ae.x)(G,ge,()=>{ze=!0,Ie()})),()=>{null==Le||Le()}}(te,Pe,de,$)))}},5363:(Ye,ye,F)=>{F.d(ye,{Q:()=>le});var l=F(9672),J=F(4482),P=F(5403);function le(ae,fe=0){return(0,J.e)((ie,ce)=>{ie.subscribe((0,P.x)(ce,de=>(0,l.f)(ce,ae,()=>ce.next(de),fe),()=>(0,l.f)(ce,ae,()=>ce.complete(),fe),de=>(0,l.f)(ce,ae,()=>ce.error(de),fe)))})}},3099:(Ye,ye,F)=>{F.d(ye,{B:()=>ae});var l=F(8421),J=F(7579),P=F(930),le=F(4482);function ae(ie={}){const{connector:ce=(()=>new J.x),resetOnError:de=!0,resetOnComplete:G=!0,resetOnRefCountZero:$=!0}=ie;return te=>{let Pe,xe,Me,Le=0,he=!1,we=!1;const Ue=()=>{null==xe||xe.unsubscribe(),xe=void 0},ze=()=>{Ue(),Pe=Me=void 0,he=we=!1},Ie=()=>{const ge=Pe;ze(),null==ge||ge.unsubscribe()};return(0,le.e)((ge,De)=>{Le++,!we&&!he&&Ue();const Ne=Me=null!=Me?Me:ce();De.add(()=>{Le--,0===Le&&!we&&!he&&(xe=fe(Ie,$))}),Ne.subscribe(De),!Pe&&Le>0&&(Pe=new P.Hp({next:Be=>Ne.next(Be),error:Be=>{we=!0,Ue(),xe=fe(ze,de,Be),Ne.error(Be)},complete:()=>{he=!0,Ue(),xe=fe(ze,G),Ne.complete()}}),(0,l.Xf)(ge).subscribe(Pe))})(te)}}function fe(ie,ce,...de){if(!0===ce)return void ie();if(!1===ce)return;const G=new P.Hp({next:()=>{G.unsubscribe(),ie()}});return ce(...de).subscribe(G)}},9468:(Ye,ye,F)=>{F.d(ye,{R:()=>J});var l=F(4482);function J(P,le=0){return(0,l.e)((ae,fe)=>{fe.add(P.schedule(()=>ae.subscribe(fe),le))})}},8505:(Ye,ye,F)=>{F.d(ye,{b:()=>ae});var l=F(576),J=F(4482),P=F(5403),le=F(4671);function ae(fe,ie,ce){const de=(0,l.m)(fe)||ie||ce?{next:fe,error:ie,complete:ce}:fe;return de?(0,J.e)((G,$)=>{var te;null===(te=de.subscribe)||void 0===te||te.call(de);let Pe=!0;G.subscribe((0,P.x)($,xe=>{var Me;null===(Me=de.next)||void 0===Me||Me.call(de,xe),$.next(xe)},()=>{var xe;Pe=!1,null===(xe=de.complete)||void 0===xe||xe.call(de),$.complete()},xe=>{var Me;Pe=!1,null===(Me=de.error)||void 0===Me||Me.call(de,xe),$.error(xe)},()=>{var xe,Me;Pe&&(null===(xe=de.unsubscribe)||void 0===xe||xe.call(de)),null===(Me=de.finalize)||void 0===Me||Me.call(de)}))}):le.y}},4408:(Ye,ye,F)=>{F.d(ye,{o:()=>ae});var l=F(727);class J extends l.w0{constructor(ie,ce){super()}schedule(ie,ce=0){return this}}const P={setInterval(fe,ie,...ce){const{delegate:de}=P;return(null==de?void 0:de.setInterval)?de.setInterval(fe,ie,...ce):setInterval(fe,ie,...ce)},clearInterval(fe){const{delegate:ie}=P;return((null==ie?void 0:ie.clearInterval)||clearInterval)(fe)},delegate:void 0};var le=F(8737);class ae extends J{constructor(ie,ce){super(ie,ce),this.scheduler=ie,this.work=ce,this.pending=!1}schedule(ie,ce=0){var de;if(this.closed)return this;this.state=ie;const G=this.id,$=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId($,G,ce)),this.pending=!0,this.delay=ce,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId($,this.id,ce),this}requestAsyncId(ie,ce,de=0){return P.setInterval(ie.flush.bind(ie,this),de)}recycleAsyncId(ie,ce,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ce;null!=ce&&P.clearInterval(ce)}execute(ie,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ie,ce);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ce){let G,de=!1;try{this.work(ie)}catch($){de=!0,G=$||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ce}=this,{actions:de}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(de,this),null!=ie&&(this.id=this.recycleAsyncId(ce,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ye,ye,F)=>{F.d(ye,{v:()=>P});var l=F(6063);class J{constructor(ae,fe=J.now){this.schedulerActionCtor=ae,this.now=fe}schedule(ae,fe=0,ie){return new this.schedulerActionCtor(this,ae).schedule(ie,fe)}}J.now=l.l.now;class P extends J{constructor(ae,fe=J.now){super(ae,fe),this.actions=[],this._active=!1}flush(ae){const{actions:fe}=this;if(this._active)return void fe.push(ae);let ie;this._active=!0;do{if(ie=ae.execute(ae.state,ae.delay))break}while(ae=fe.shift());if(this._active=!1,ie){for(;ae=fe.shift();)ae.unsubscribe();throw ie}}}},4986:(Ye,ye,F)=>{F.d(ye,{P:()=>le,z:()=>P});var l=F(4408);const P=new(F(7565).v)(l.o),le=P},6063:(Ye,ye,F)=>{F.d(ye,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(Ye,ye,F)=>{F.d(ye,{z:()=>l});const l={setTimeout(J,P,...le){const{delegate:ae}=l;return(null==ae?void 0:ae.setTimeout)?ae.setTimeout(J,P,...le):setTimeout(J,P,...le)},clearTimeout(J){const{delegate:P}=l;return((null==P?void 0:P.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(Ye,ye,F)=>{F.d(ye,{h:()=>J});const J=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ye,ye,F)=>{F.d(ye,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ye,ye,F)=>{F.d(ye,{_6:()=>fe,jO:()=>le,yG:()=>ae});var l=F(576),J=F(3532);function P(ie){return ie[ie.length-1]}function le(ie){return(0,l.m)(P(ie))?ie.pop():void 0}function ae(ie){return(0,J.K)(P(ie))?ie.pop():void 0}function fe(ie,ce){return"number"==typeof P(ie)?ie.pop():ce}},8737:(Ye,ye,F)=>{function l(J,P){if(J){const le=J.indexOf(P);0<=le&&J.splice(le,1)}}F.d(ye,{P:()=>l})},3888:(Ye,ye,F)=>{function l(J){const le=J(ae=>{Error.call(ae),ae.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}F.d(ye,{d:()=>l})},2806:(Ye,ye,F)=>{F.d(ye,{O:()=>le,x:()=>P});var l=F(2416);let J=null;function P(ae){if(l.v.useDeprecatedSynchronousErrorHandling){const fe=!J;if(fe&&(J={errorThrown:!1,error:null}),ae(),fe){const{errorThrown:ie,error:ce}=J;if(J=null,ie)throw ce}}else ae()}function le(ae){l.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ae)}},9672:(Ye,ye,F)=>{function l(J,P,le,ae=0,fe=!1){const ie=P.schedule(function(){le(),fe?J.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(J.add(ie),!fe)return ie}F.d(ye,{f:()=>l})},4671:(Ye,ye,F)=>{function l(J){return J}F.d(ye,{y:()=>l})},1144:(Ye,ye,F)=>{F.d(ye,{z:()=>l});const l=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(Ye,ye,F)=>{F.d(ye,{D:()=>J});var l=F(576);function J(P){return Symbol.asyncIterator&&(0,l.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(Ye,ye,F)=>{function l(J){return"function"==typeof J}F.d(ye,{m:()=>l})},3670:(Ye,ye,F)=>{F.d(ye,{c:()=>P});var l=F(8822),J=F(576);function P(le){return(0,J.m)(le[l.L])}},6495:(Ye,ye,F)=>{F.d(ye,{T:()=>P});var l=F(2202),J=F(576);function P(le){return(0,J.m)(null==le?void 0:le[l.h])}},8239:(Ye,ye,F)=>{F.d(ye,{t:()=>J});var l=F(576);function J(P){return(0,l.m)(null==P?void 0:P.then)}},3260:(Ye,ye,F)=>{F.d(ye,{L:()=>le,Q:()=>P});var l=F(655),J=F(576);function P(ae){return(0,l.FC)(this,arguments,function*(){const ie=ae.getReader();try{for(;;){const{value:ce,done:de}=yield(0,l.qq)(ie.read());if(de)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ce)}}finally{ie.releaseLock()}})}function le(ae){return(0,J.m)(null==ae?void 0:ae.getReader)}},3532:(Ye,ye,F)=>{F.d(ye,{K:()=>J});var l=F(576);function J(P){return P&&(0,l.m)(P.schedule)}},4482:(Ye,ye,F)=>{F.d(ye,{A:()=>J,e:()=>P});var l=F(576);function J(le){return(0,l.m)(null==le?void 0:le.lift)}function P(le){return ae=>{if(J(ae))return ae.lift(function(fe){try{return le(fe,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ye,ye,F)=>{function l(){}F.d(ye,{Z:()=>l})},7849:(Ye,ye,F)=>{F.d(ye,{h:()=>P});var l=F(2416),J=F(3410);function P(le){J.z.setTimeout(()=>{const{onUnhandledError:ae}=l.v;if(!ae)throw le;ae(le)})}},4532:(Ye,ye,F)=>{function l(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(ye,{z:()=>l})},655:(Ye,ye,F)=>{function le(Y,se){var ee={};for(var me in Y)Object.prototype.hasOwnProperty.call(Y,me)&&se.indexOf(me)<0&&(ee[me]=Y[me]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(me=Object.getOwnPropertySymbols(Y);ue<me.length;ue++)se.indexOf(me[ue])<0&&Object.prototype.propertyIsEnumerable.call(Y,me[ue])&&(ee[me[ue]]=Y[me[ue]])}return ee}function ce(Y,se,ee,me){return new(ee||(ee=Promise))(function(Re,nt){function Ht(Wt){try{Ge(me.next(Wt))}catch(an){nt(an)}}function St(Wt){try{Ge(me.throw(Wt))}catch(an){nt(an)}}function Ge(Wt){Wt.done?Re(Wt.value):function ue(Re){return Re instanceof ee?Re:new ee(function(nt){nt(Re)})}(Wt.value).then(Ht,St)}Ge((me=me.apply(Y,se||[])).next())})}function he(Y){return this instanceof he?(this.v=Y,this):new he(Y)}function we(Y,se,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,me=ee.apply(Y,se||[]),Re=[];return ue={},nt("next"),nt("throw"),nt("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function nt(Zt){me[Zt]&&(ue[Zt]=function($t){return new Promise(function(yi,Lt){Re.push([Zt,$t,yi,Lt])>1||Ht(Zt,$t)})})}function Ht(Zt,$t){try{!function St(Zt){Zt.value instanceof he?Promise.resolve(Zt.value.v).then(Ge,Wt):an(Re[0][2],Zt)}(me[Zt]($t))}catch(yi){an(Re[0][3],yi)}}function Ge(Zt){Ht("next",Zt)}function Wt(Zt){Ht("throw",Zt)}function an(Zt,$t){Zt($t),Re.shift(),Re.length&&Ht(Re[0][0],Re[0][1])}}function ze(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,se=Y[Symbol.asyncIterator];return se?se.call(Y):(Y=function te(Y){var se="function"==typeof Symbol&&Symbol.iterator,ee=se&&Y[se],me=0;if(ee)return ee.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&me>=Y.length&&(Y=void 0),{value:Y&&Y[me++],done:!Y}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ee={},me("next"),me("throw"),me("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function me(Re){ee[Re]=Y[Re]&&function(nt){return new Promise(function(Ht,St){!function ue(Re,nt,Ht,St){Promise.resolve(St).then(function(Ge){Re({value:Ge,done:Ht})},nt)}(Ht,St,(nt=Y[Re](nt)).done,nt.value)})}}}F.d(ye,{FC:()=>we,KL:()=>ze,_T:()=>le,mG:()=>ce,qq:()=>he})},5e3:(Ye,ye,F)=>{F.d(ye,{$8M:()=>gr,$Z:()=>eg,AFp:()=>bw,ALo:()=>Mg,AaK:()=>ce,BQk:()=>rg,CHM:()=>Ys,CRH:()=>ew,CZH:()=>nu,CqO:()=>S_,DdM:()=>HC,EJc:()=>xx,EiD:()=>Nc,EpF:()=>D_,F$t:()=>O_,F4k:()=>A_,FYo:()=>NC,FiY:()=>ot,G48:()=>Hg,Gf:()=>Ey,GfV:()=>LC,GkF:()=>E_,Gpc:()=>$,Hsn:()=>kb,Ikx:()=>Xh,JOm:()=>Is,JVY:()=>ji,L6k:()=>vh,LAX:()=>Mm,LFG:()=>M,LSH:()=>Dh,Lbi:()=>Cw,NdJ:()=>I_,OlP:()=>vn,Oqu:()=>hg,PXZ:()=>Iw,Q6J:()=>tg,QGY:()=>x_,Qsj:()=>OD,R0b:()=>Ns,RDi:()=>uc,Rgc:()=>uf,SBq:()=>$i,Sil:()=>Ix,Suo:()=>JC,TTD:()=>Ar,TgZ:()=>Ed,Udp:()=>xd,VKq:()=>sf,VLi:()=>ic,WFA:()=>sg,X6Q:()=>zy,XFs:()=>ut,Xpm:()=>yt,Y36:()=>Zl,YKP:()=>BD,YNc:()=>gn,Yjl:()=>Xt,Yz7:()=>$t,ZZ4:()=>Gw,_Bn:()=>OC,_UZ:()=>w_,_Vd:()=>Dg,_c5:()=>ev,_uU:()=>Wh,aQg:()=>$w,c2e:()=>Ex,cJS:()=>Lt,cg1:()=>_g,d8E:()=>Md,dDg:()=>nl,deG:()=>Vu,dqk:()=>Bt,eBb:()=>bh,eFA:()=>Uy,ekj:()=>$h,f3M:()=>Q,g9A:()=>Fy,h0i:()=>nf,hGG:()=>dI,hij:()=>fg,iGM:()=>tu,ifc:()=>Ut,ip1:()=>Ry,kL8:()=>rC,lG2:()=>bt,lcZ:()=>GC,mCW:()=>Fc,n5z:()=>Mn,oAB:()=>be,oxw:()=>Ob,pB0:()=>po,q3G:()=>On,q4F:()=>uy,qLn:()=>yp,qOj:()=>r_,qZA:()=>ng,qzn:()=>Bl,sBO:()=>il,sIi:()=>ha,s_b:()=>jd,soG:()=>Pg,tBr:()=>Et,tb:()=>Py,tp0:()=>hn,uIk:()=>Lh,vHH:()=>Me,vpe:()=>xo,wAp:()=>ft,xp6:()=>L,yhl:()=>yh,ynx:()=>ig,z2F:()=>vf,z3N:()=>fo,zSh:()=>Xm,zs3:()=>yo});var l=F(7579),J=F(727),P=F(8306),le=F(6451),ae=F(3099);function fe(s){for(let o in s)if(s[o]===fe)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=fe({__forward_ref__:fe});function $(s){return s.__forward_ref__=$,s.toString=function(){return ce(this())},s}function te(s){return Pe(s)?s():s}function Pe(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===$}class Me extends Error{constructor(o,a){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function he(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():he(s)}function ge(s,o){const a=o?` in ${o}`:"";throw new Me(-201,`No provider for ${we(s)} found${a}`)}function St(s,o){null==s&&function Ge(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function $t(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Lt(s){return{providers:s.providers||[],imports:s.imports||[]}}function kt(s){return Li(s,br)||Li(s,Bi)}function Li(s,o){return s.hasOwnProperty(o)?s[o]:null}function bi(s){return s&&(s.hasOwnProperty($r)||s.hasOwnProperty(ar))?s[$r]:null}const br=fe({\u0275prov:fe}),$r=fe({\u0275inj:fe}),Bi=fe({ngInjectableDef:fe}),ar=fe({ngInjectorDef:fe});var ut=(()=>((ut=ut||{})[ut.Default=0]="Default",ut[ut.Host=1]="Host",ut[ut.Self=2]="Self",ut[ut.SkipSelf=4]="SkipSelf",ut[ut.Optional=8]="Optional",ut))();let Ci;function Wn(s){const o=Ci;return Ci=s,o}function us(s,o,a){const u=kt(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&ut.Optional?null:void 0!==o?o:void ge(ce(s),"Injector")}function Un(s){return{toString:s}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),Ut=(()=>{return(s=Ut||(Ut={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ut;var s})();const tt="undefined"!=typeof globalThis&&globalThis,dt="undefined"!=typeof window&&window,oi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=tt||"undefined"!=typeof global&&global||dt||oi,ci={},st=[],Us=fe({\u0275cmp:fe}),Mt=fe({\u0275dir:fe}),zr=fe({\u0275pipe:fe}),We=fe({\u0275mod:fe}),Ee=fe({\u0275fac:fe}),He=fe({__NG_ELEMENT_ID__:fe});let vt=0;function yt(s){return Un(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||st,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ut.Emulated,id:"c",styles:s.styles||st,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,y=s.pipes;return u.id+=vt++,u.inputs=qe(s.inputs,a),u.outputs=qe(s.outputs),m&&m.forEach(C=>C(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(j):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(U):null,u})}function j(s){return jt(s)||function Kt(s){return s[Mt]||null}(s)}function U(s){return function Hn(s){return s[zr]||null}(s)}const q={};function be(s){return Un(()=>{const o={type:s.type,bootstrap:s.bootstrap||st,declarations:s.declarations||st,imports:s.imports||st,exports:s.exports||st,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(q[s.id]=s.type),o})}function qe(s,o){if(null==s)return ci;const a={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),a[h]=u,o&&(o[h]=m)}return a}const bt=yt;function Xt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[Us]||null}function pt(s,o){const a=s[We]||null;if(!a&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return a}function Ei(s){return Array.isArray(s)&&"object"==typeof s[1]}function ur(s){return Array.isArray(s)&&!0===s[1]}function al(s){return 0!=(8&s.flags)}function pu(s){return 2==(2&s.flags)}function Dr(s){return 1==(1&s.flags)}function xr(s){return null!==s.template}function Mo(s){return 0!=(512&s[2])}function di(s,o){return s.hasOwnProperty(Ee)?s[Ee]:null}class Gs{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ar(){return Oo}function Oo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Zd),Eu}function Eu(){const s=$s(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===ci)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Zd(s,o,a,u){const h=$s(s)||function ko(s,o){return s[_s]=o}(s,{previous:ci,current:null}),m=h.current||(h.current={}),y=h.previous,C=this.declaredInputs[a],E=y[C];m[C]=new Gs(E&&E.currentValue,o,y===ci),s[u]=o}Ar.ngInherit=!0;const _s="__ngSimpleChanges__";function $s(s){return s[_s]||null}let Fo;function uc(s){Fo=s}function nn(s){return!!s.listen}const Ea={createRenderer:(s,o)=>function Sr(){return void 0!==Fo?Fo:"undefined"!=typeof document?document:void 0}()};function Yt(s){for(;Array.isArray(s);)s=s[0];return s}function ys(s,o){return Yt(o[s])}function Yn(s,o){return Yt(o[s.index])}function yn(s,o){return s.data[o]}function ti(s,o){const a=o[s];return Ei(a)?a:a[0]}function Ws(s){return 4==(4&s[2])}function qr(s){return 128==(128&s[2])}function hr(s,o){return null==o?null:s[o]}function Tr(s){s[18]=0}function Po(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const ht={lFrame:Bo(null),bindingsEnabled:!0};function dl(){return ht.bindingsEnabled}function Ae(){return ht.lFrame.lView}function Pt(){return ht.lFrame.tView}function Ys(s){return ht.lFrame.contextLView=s,s[8]}function un(){let s=hl();for(;null!==s&&64===s.type;)s=s.parent;return s}function hl(){return ht.lFrame.currentTNode}function qi(s,o){const a=ht.lFrame;a.currentTNode=s,a.isParent=o}function gc(){return ht.lFrame.isParent}function mc(){ht.lFrame.isParent=!1}function hi(){const s=ht.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function bs(){return ht.lFrame.bindingIndex++}function gl(s,o){const a=ht.lFrame;a.bindingIndex=a.bindingRootIndex=s,Lo(o)}function Lo(s){ht.lFrame.currentDirectiveIndex=s}function ml(s){const o=ht.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function _l(){return ht.lFrame.currentQueryIndex}function Su(s){ht.lFrame.currentQueryIndex=s}function Iu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function yl(s,o,a){if(a&ut.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||a&ut.Host||(h=Iu(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const u=ht.lFrame=Tu();return u.currentTNode=o,u.lView=s,!0}function Zs(s){const o=Tu(),a=s[1];ht.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Tu(){const s=ht.lFrame,o=null===s?null:s.child;return null===o?Bo(s):o}function Bo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Mu(){const s=ht.lFrame;return ht.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const vl=Mu;function Ui(){const s=Mu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qn(){return ht.lFrame.selectedIndex}function Ks(s){ht.lFrame.selectedIndex=s}function Cn(){const s=ht.lFrame;return yn(s.tView,s.selectedIndex)}function Sa(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const m=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:R}=m;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),C&&((s.contentHooks||(s.contentHooks=[])).push(a,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,C)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),I&&((s.viewHooks||(s.viewHooks=[])).push(a,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,I)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(a,R)}}function Kr(s,o,a){ku(s,o,3,a)}function Qs(s,o,a,u){(3&s[2])===a&&ku(s,o,a,u)}function jn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function ku(s,o,a,u){const m=null!=u?u:-1,y=o.length-1;let C=0;for(let E=void 0!==u?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(C=o[E],null!=u&&C>=u)break}else o[E]<0&&(s[18]+=65536),(C<m||-1==m)&&(zf(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function zf(s,o,a,u){const h=a[u]<0,m=a[u+1],C=s[h?-a[u]:a[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Vo{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function xt(s,o,a){const u=nn(s);let h=0;for(;h<a.length;){const m=a[h];if("number"==typeof m){if(0!==m)break;h++;const y=a[h++],C=a[h++],E=a[h++];u?s.setAttribute(o,C,E,y):o.setAttributeNS(y,C,E)}else{const y=m,C=a[++h];ln(y)?u&&s.setProperty(o,y,C):u?s.setAttribute(o,y,C):o.setAttribute(y,C),h++}}return h}function Zn(s){return 3===s||4===s||6===s}function ln(s){return 64===s.charCodeAt(0)}function Ta(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?a=h:0===a||Pu(s,a,h,null,-1===a||2===a?o[++u]:null)}}return s}function Pu(s,o,a,u,h){let m=0,y=s.length;if(-1===o)y=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===o){y=-1;break}if(C>o){y=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===a){if(null===u)return void(null!==h&&(s[m+1]=h));if(u===s[m+1])return void(s[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==y&&(s.splice(y,0,o),m=y+1),s.splice(m++,0,a),null!==u&&s.splice(m++,0,u),null!==h&&s.splice(m++,0,h)}function Ho(s){return-1!==s}function Cs(s){return 32767&s}function ws(s,o){let a=function Tn(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let pr=!0;function wt(s){const o=pr;return pr=s,o}let Ma=0;function Rr(s,o){const a=Qr(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Js(u.data,s),Js(o,null),Js(u.blueprint,null));const h=Es(s,o),m=s.injectorIndex;if(Ho(h)){const y=Cs(h),C=ws(h,o),E=C[1].data;for(let I=0;I<8;I++)o[m+I]=C[y+I]|E[y+I]}return o[m+8]=h,m}function Js(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Qr(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Es(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,h=o;for(;null!==h;){const m=h[1],y=m.type;if(u=2===y?m.declTNode:1===y?h[6]:null,null===u)return-1;if(a++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Kn(s,o,a){!function wn(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(He)&&(u=a[He]),null==u&&(u=a[He]=Ma++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Ra(s,o,a){if(a&ut.Optional)return s;ge(o,"NodeInjector")}function eo(s,o,a,u){if(a&ut.Optional&&void 0===u&&(u=null),0==(a&(ut.Self|ut.Host))){const h=s[9],m=Wn(void 0);try{return h?h.get(o,u,a&ut.Optional):us(o,u,a&ut.Optional)}finally{Wn(m)}}return Ra(u,o,a)}function to(s,o,a,u=ut.Default,h){if(null!==s){const m=function Or(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(He)?s[He]:void 0;return"number"==typeof o?o>=0?255&o:Oa:o}(a);if("function"==typeof m){if(!yl(o,s,u))return u&ut.Host?Ra(h,a,u):eo(o,a,u,h);try{const y=m(u);if(null!=y||u&ut.Optional)return y;ge(a)}finally{vl()}}else if("number"==typeof m){let y=null,C=Qr(s,o),E=-1,I=u&ut.Host?o[16][6]:null;for((-1===C||u&ut.SkipSelf)&&(E=-1===C?Es(s,o):o[C+8],-1!==E&&Cc(u,!1)?(y=o[1],C=Cs(E),o=ws(E,o)):C=-1);-1!==C;){const R=o[1];if(En(m,C,R.data)){const N=Xr(C,o,a,y,u,I);if(N!==Go)return N}E=o[C+8],-1!==E&&Cc(u,o[1].data[C+8]===I)&&En(m,C,o)?(y=R,C=Cs(E),o=ws(E,o)):C=-1}}}return eo(o,a,u,h)}const Go={};function Oa(){return new xi(un(),Ae())}function Xr(s,o,a,u,h,m){const y=o[1],C=y.data[s+8],R=$o(C,y,a,null==u?pu(C)&&pr:u!=y&&0!=(3&C.type),h&ut.Host&&m===C);return null!==R?Hi(o,y,R,C):Go}function $o(s,o,a,u,h){const m=s.providerIndexes,y=o.data,C=1048575&m,E=s.directiveStart,R=m>>20,H=h?C+R:s.directiveEnd;for(let X=u?C:C+R;X<H;X++){const _e=y[X];if(X<E&&a===_e||X>=E&&_e.type===a)return X}if(h){const X=y[E];if(X&&xr(X)&&X.type===a)return E}return null}function Hi(s,o,a,u){let h=s[a];const m=o.data;if(function bl(s){return s instanceof Vo}(h)){const y=h;y.resolving&&function Ue(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Me(-200,`Circular dependency in DI detected for ${s}${a}`)}(we(m[a]));const C=wt(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Wn(y.injectImpl):null;yl(s,u,ut.Default);try{h=s[a]=y.factory(void 0,m,s,u),o.firstCreatePass&&a>=u.directiveStart&&function pm(s,o,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const y=Oo(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),m&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,m))}(a,m[a],o)}finally{null!==E&&Wn(E),wt(C),y.resolving=!1,vl()}}return h}function En(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Cc(s,o){return!(s&ut.Self||s&ut.Host&&o)}class xi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return to(this._tNode,this._lView,o,u,a)}}function Mn(s){return Un(()=>{const o=s.prototype.constructor,a=o[Ee]||Ai(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const m=h[Ee]||Ai(h);if(m&&m!==a)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ai(s){return Pe(s)?()=>{const o=Ai(te(s));return o&&o()}:di(s)}function gr(s){return function jo(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const m=a[h];if(Zn(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(m===o)return a[h+1];h+=2}}}return null}(un(),s)}const kr="__parameters__";function Fr(s,o,a){return Un(()=>{const u=function Pn(s){return function(...a){if(s){const u=s(...a);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const y=new h(...m);return C.annotation=y,C;function C(E,I,R){const N=E.hasOwnProperty(kr)?E[kr]:Object.defineProperty(E,kr,{value:[]})[kr];for(;N.length<=R;)N.push(null);return(N[R]=N[R]||[]).push(y),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class vn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=$t({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vu=new vn("AnalyzeForEntryComponents");function Ii(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Ii(u,o)):o!==s&&o.push(u)}return o}function Ti(s,o){s.forEach(a=>Array.isArray(a)?Ti(a,o):o(a))}function Pa(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ec(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function io(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function Gn(s,o,a){let u=As(s,o);return u>=0?s[1|u]=a:(u=~u,function wl(s,o,a,u){let h=s.length;if(h==o)s.push(a,u);else if(1===h)s.push(u,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function xs(s,o){const a=As(s,o);if(a>=0)return s[1|a]}function As(s,o){return function Yo(s,o,a){let u=0,h=s.length>>a;for(;h!==u;){const m=u+(h-u>>1),y=s[m<<a];if(o===y)return m<<a;y>o?h=m:u=m+1}return~(h<<a)}(s,o,1)}const Mi={},qo="__NG_DI_FLAG__",Qi="ngTempTokenPath",Wu=/\n/gm,Al="__source",Sl=fe({provide:String,useValue:fe});let Pr;function w(s){const o=Pr;return Pr=s,o}function x(s,o=ut.Default){if(void 0===Pr)throw new Me(203,"");return null===Pr?us(s,void 0,o):Pr.get(s,o&ut.Optional?null:void 0,o)}function M(s,o=ut.Default){return(function _n(){return Ci}()||x)(te(s),o)}const Q=M;function re(s){const o=[];for(let a=0;a<s.length;a++){const u=te(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Me(900,"");let h,m=ut.Default;for(let y=0;y<u.length;y++){const C=u[y],E=Ze(C);"number"==typeof E?-1===E?h=C.token:m|=E:h=C}o.push(M(h,m))}else o.push(M(u))}return o}function Se(s,o){return s[qo]=o,s.prototype[qo]=o,s}function Ze(s){return s[qo]}const Et=Se(Fr("Inject",s=>({token:s})),-1),ot=Se(Fr("Optional"),8),hn=Se(Fr("SkipSelf"),4);var Is=(()=>((Is=Is||{})[Is.Important=1]="Important",Is[Is.DashCase=2]="DashCase",Is))();const qu="__ngContext__";function ni(s,o){s[qu]=o}function La(s){const o=function Ol(s){return s[qu]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ah(s,o){return undefined(s,o)}function Pl(s){const o=s[3];return ur(o)?o[3]:o}function Tc(s){return Zu(s[13])}function ch(s){return Zu(s[4])}function Zu(s){for(;null!==s&&!ur(s);)s=s[4];return s}function Mc(s,o,a,u,h){if(null!=u){let m,y=!1;ur(u)?m=u:Ei(u)&&(y=!0,u=u[0]);const C=Yt(u);0===s&&null!==a?null==h?rp(o,a,C):co(o,a,C,h||null,!0):1===s&&null!==a?co(o,a,C,h||null,!0):2===s?function Ll(s,o,a){const u=Ua(s,o);u&&function Xi(s,o,a,u){nn(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,C,y):3===s&&o.destroyNode(C),null!=m&&function Am(s,o,a,u,h){const m=a[7];m!==Yt(a)&&Mc(o,s,u,m,h);for(let C=10;C<a.length;C++){const E=a[C];uo(E[1],E,s,o,u,m)}}(o,s,m,a,h)}}function Lr(s,o,a){if(nn(s))return s.createElement(o,a);{const u=null!==a?function cc(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function Nl(s,o){const a=s[9],u=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Po(h,-1)),a.splice(u,1)}function lo(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const h=u[17];null!==h&&h!==s&&Nl(h,u),o>0&&(s[a-1][4]=u[4]);const m=Ec(s,10+o);!function Cm(s,o){uo(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const y=m[19];null!==y&&y.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function ip(s,o){if(!(256&o[2])){const a=o[11];nn(a)&&a.destroyNode&&uo(s,o,a,3,null,null),function Em(s){let o=s[13];if(!o)return Va(s[1],s);for(;o;){let a=null;if(Ei(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)Ei(o)&&Va(o[1],o),o=o[3];null===o&&(o=s),Ei(o)&&Va(o[1],o),a=o&&o[4]}o=a}}(o)}}function Va(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function xm(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const h=o[a[u]];if(!(h instanceof Vo)){const m=a[u+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=h[m[y]],E=m[y+1];try{E.call(C)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function hh(s,o){const a=s.cleanup,u=o[7];let h=-1;if(null!==a)for(let m=0;m<a.length-1;m+=2)if("string"==typeof a[m]){const y=a[m+1],C="function"==typeof y?y(o):Yt(o[y]),E=u[h=a[m+2]],I=a[m+3];"boolean"==typeof I?C.removeEventListener(a[m],E,I):I>=0?u[h=I]():u[h=-I].unsubscribe(),m+=2}else{const y=u[h=a[m+1]];a[m].call(y)}if(null!==u){for(let m=h+1;m<u.length;m++)u[m]();o[7]=null}}(s,o),1===o[1].type&&nn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ur(o[3])){a!==o[3]&&Nl(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function fh(s,o,a){return function Ku(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===Ut.None||h===Ut.Emulated)return null}return Yn(u,a)}(s,o.parent,a)}function co(s,o,a,u,h){nn(s)?s.insertBefore(o,a,u,h):o.insertBefore(a,u,h)}function rp(s,o,a){nn(s)?s.appendChild(o,a):o.appendChild(a)}function Qu(s,o,a,u,h){null!==u?co(s,o,a,u,h):rp(s,o,a)}function Ua(s,o){return nn(s)?s.parentNode(o):o.parentNode}function Rc(s,o,a){return op(s,o,a)}let Jo,op=function Qo(s,o,a){return 40&s.type?Yn(s,a):null};function Oc(s,o,a,u){const h=fh(s,u,o),m=o[11],C=Rc(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)Qu(m,h,a[E],C,!1);else Qu(m,h,a,C,!1)}function Ha(s,o){if(null!==o){const a=o.type;if(3&a)return Yn(o,s);if(4&a)return Xu(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Ha(s,u);{const h=s[o.index];return ur(h)?Xu(-1,h):Yt(h)}}if(32&a)return ah(o,s)()||Yt(s[o.index]);{const u=gh(s,o);return null!==u?Array.isArray(u)?u[0]:Ha(Pl(s[16]),u):Ha(s,o.next)}}return null}function gh(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Xu(s,o){const a=10+s+1;if(a<o.length){const u=o[a],h=u[1].firstChild;if(null!==h)return Ha(u,h)}return o[7]}function Xo(s,o,a,u,h,m,y){for(;null!=a;){const C=u[a.index],E=a.type;if(y&&0===o&&(C&&ni(Yt(C),u),a.flags|=4),64!=(64&a.flags))if(8&E)Xo(s,o,a.child,u,h,m,!1),Mc(o,s,h,C,m);else if(32&E){const I=ah(a,u);let R;for(;R=I();)Mc(o,s,h,R,m);Mc(o,s,h,C,m)}else 16&E?lp(s,o,u,a,h,m):Mc(o,s,h,C,m);a=y?a.projectionNext:a.next}}function uo(s,o,a,u,h,m){Xo(a,u,s.firstChild,o,h,m,!1)}function lp(s,o,a,u,h,m){const y=a[16],E=y[6].projection[u.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Mc(o,s,h,E[I],m);else Xo(s,o,E,y[3],h,m,!0)}function cp(s,o,a){nn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Ju(s,o,a){nn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function ho(s){var o;return(null===(o=function kc(){if(void 0===Jo&&(Jo=null,Bt.trustedTypes))try{Jo=Bt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Jo}())||void 0===o?void 0:o.createHTML(s))||s}class ja{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dp extends ja{getTypeName(){return"HTML"}}class Im extends ja{getTypeName(){return"Style"}}class ia extends ja{getTypeName(){return"Script"}}class hp extends ja{getTypeName(){return"URL"}}class Tm extends ja{getTypeName(){return"ResourceURL"}}function fo(s){return s instanceof ja?s.changingThisBreaksApplicationSecurity:s}function Bl(s,o){const a=yh(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function yh(s){return s instanceof ja&&s.getTypeName()||null}function ji(s){return new dp(s)}function vh(s){return new Im(s)}function bh(s){return new ia(s)}function Mm(s){return new hp(s)}function po(s){return new Tm(s)}class Ch{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(ho(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Rm{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ho(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=ho(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const nd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,pp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fc(s){return(s=String(s)).match(nd)||s.match(pp)?s:"unsafe:"+s}function _(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function f(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const g=_("area,br,col,hr,img,wbr"),b=_("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),S=_("rp,rt"),Oe=f(g,f(b,_("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),f(S,_("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),f(S,b)),$e=_("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lt=_("srcset"),Br=f($e,lt,_("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pc=_("script,style,template");class mp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Oe.hasOwnProperty(a))return this.sanitizedSomething=!0,!Pc.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),y=m.name,C=y.toLowerCase();if(!Br.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;$e[C]&&(E=Fc(E)),lt[C]&&(s=E,E=(s=String(s)).split(",").map(o=>Fc(o.trim())).join(", ")),this.buf.push(" ",y,'="',Eh(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Oe.hasOwnProperty(a)&&!g.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Eh(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const wh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pi=/([^\#-~ |!])/g;function Eh(s){return s.replace(/&/g,"&amp;").replace(wh,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(pi,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ga;function Nc(s,o){let a=null;try{Ga=Ga||function Vl(s){const o=new Rm(s);return function fp(){try{return!!(new window.DOMParser).parseFromString(ho(""),"text/html")}catch(s){return!1}}()?new Ch(o):o}(s);let u=o?String(o):"";a=Ga.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=a.innerHTML,a=Ga.getInertBodyElement(u)}while(u!==m);return ho((new mp).sanitizeChildren(Ul(a)||a))}finally{if(a){const u=Ul(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Ul(s){return"content"in s&&function ra(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var On=(()=>((On=On||{})[On.NONE=0]="NONE",On[On.HTML=1]="HTML",On[On.STYLE=2]="STYLE",On[On.SCRIPT=3]="SCRIPT",On[On.URL=4]="URL",On[On.RESOURCE_URL=5]="RESOURCE_URL",On))();function Dh(s){const o=function Ts(){const s=Ae();return s&&s[12]}();return o?o.sanitize(On.URL,s)||"":Bl(s,"URL")?fo(s):Fc(he(s))}function _p(s){return s.ngOriginalError}function j0(s,...o){s.error(...o)}class yp{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function H0(s){return s&&s.ngErrorLogger||j0}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&_p(o);for(;a&&_p(a);)a=_p(a);return a||null}}const W0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function sa(s){return s instanceof Function?s():s}function Iv(s,o,a){let u=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||s.charCodeAt(h+m)<=32)return h}a=h+1}}const Tv="ng-template";function Z0(s,o,a){let u=0;for(;u<s.length;){let h=s[u++];if(a&&"class"===h){if(h=s[u],-1!==Iv(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function xh(s){return 4===s.type&&s.value!==Tv}function $a(s,o,a){return o===(4!==s.type||a?s.value:Tv)}function Mv(s,o,a){let u=4;const h=s.attrs||[],m=function X0(s){for(let o=0;o<s.length;o++)if(Zn(s[o]))return o;return s.length}(h);let y=!1;for(let C=0;C<o.length;C++){const E=o[C];if("number"!=typeof E){if(!y)if(4&u){if(u=2|1&u,""!==E&&!$a(s,E,a)||""===E&&1===o.length){if(Ms(u))return!1;y=!0}}else{const I=8&u?E:o[++C];if(8&u&&null!==s.attrs){if(!Z0(s.attrs,I,a)){if(Ms(u))return!1;y=!0}continue}const N=K0(8&u?"class":E,h,xh(s),a);if(-1===N){if(Ms(u))return!1;y=!0;continue}if(""!==I){let H;H=N>m?"":h[N+1].toLowerCase();const X=8&u?H:null;if(X&&-1!==Iv(X,I,0)||2&u&&I!==H){if(Ms(u))return!1;y=!0}}}}else{if(!y&&!Ms(u)&&!Ms(E))return!1;if(y&&Ms(E))continue;y=!1,u=E|1&u}}return Ms(u)||y}function Ms(s){return 0==(1&s)}function K0(s,o,a,u){if(null===o)return-1;let h=0;if(u||!a){let m=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function Rs(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function Bm(s,o,a=!1){for(let u=0;u<o.length;u++)if(Mv(s,o[u],a))return!0;return!1}function go(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function J0(s,o){return s?":not("+o.trim()+")":o}function eE(s){let o=s[0],a=1,u=2,h="",m=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&u){const C=s[++a];h+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!Ms(y)&&(o+=J0(m,h),h=""),u=y,m=m||!Ms(u);a++}return""!==h&&(o+=J0(m,h)),o}const _t={};function L(s){Ah(Pt(),Ae(),qn()+s,!1)}function Ah(s,o,a,u){if(!u)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Kr(o,m,a)}else{const m=s.preOrderHooks;null!==m&&Qs(o,m,0,a)}Ks(a)}function Sh(s,o){return s<<17|o<<2}function is(s){return s>>17&32767}function Hm(s){return 2|s}function oa(s){return(131068&s)>>2}function za(s,o){return-131069&s|o<<2}function Hl(s){return 1|s}function Sp(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const h=a[u],m=a[u+1];if(-1!==m){const y=s.data[m];Su(h),y.contentQueries(2,o[m],m)}}}function $c(s,o,a,u,h,m,y,C,E,I){const R=o.blueprint.slice();return R[0]=h,R[2]=140|u,Tr(R),R[3]=R[15]=s,R[8]=a,R[10]=y||s&&s[10],R[11]=C||s&&s[11],R[12]=E||s&&s[12]||null,R[9]=I||s&&s[9]||null,R[6]=m,R[16]=2==o.type?s[16]:R,R}function ad(s,o,a,u,h){let m=s.data[o];if(null===m)m=function Ip(s,o,a,u,h){const m=hl(),y=gc(),E=s.data[o]=function lE(s,o,a,u,h,m){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,a,o,u,h);return null===s.firstChild&&(s.firstChild=E),null!==m&&(y?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(s,o,a,u,h),function yc(){return ht.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=a,m.value=u,m.attrs=h;const y=function qs(){const s=ht.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return qi(m,!0),m}function ld(s,o,a,u){if(0===a)return-1;const h=o.length;for(let m=0;m<a;m++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function zc(s,o,a){Zs(o);try{const u=s.viewQuery;null!==u&&Ot(1,u,a);const h=s.template;null!==h&&Uv(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Sp(s,o),s.staticViewQueries&&Ot(2,s.viewQuery,a);const m=s.components;null!==m&&function Vv(s,o){for(let a=0;a<o.length;a++)rn(s,o[a])}(o,m)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Ui()}}function Gl(s,o,a,u){const h=o[2];if(256!=(256&h)){Zs(o);try{Tr(o),function fl(s){return ht.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Uv(s,o,a,2,u);const y=3==(3&h);if(y){const I=s.preOrderCheckHooks;null!==I&&Kr(o,I,null)}else{const I=s.preOrderHooks;null!==I&&Qs(o,I,0,null),jn(o,0)}if(function Fp(s){for(let o=Tc(s);null!==o;o=ch(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const h=a[u],m=h[3];0==(1024&h[2])&&Po(m,1),h[2]|=1024}}}(o),function eb(s){for(let o=Tc(s);null!==o;o=ch(o))for(let a=10;a<o.length;a++){const u=o[a],h=u[1];qr(u)&&Gl(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&Sp(s,o),y){const I=s.contentCheckHooks;null!==I&&Kr(o,I)}else{const I=s.contentHooks;null!==I&&Qs(o,I,1),jn(o,1)}!function Lv(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)Ks(~h);else{const m=h,y=a[++u],C=a[++u];gl(y,m),C(2,o[m])}}}finally{Ks(-1)}}(s,o);const C=s.components;null!==C&&function Bv(s,o){for(let a=0;a<o.length;a++)tb(s,o[a])}(o,C);const E=s.viewQuery;if(null!==E&&Ot(2,E,u),y){const I=s.viewCheckHooks;null!==I&&Kr(o,I)}else{const I=s.viewHooks;null!==I&&Qs(o,I,2),jn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,Po(o[3],-1))}finally{Ui()}}}function zm(s,o,a,u){const h=o[10],y=Ws(o);try{!y&&h.begin&&h.begin(),y&&zc(s,o,u),Gl(s,o,a,u)}finally{!y&&h.end&&h.end()}}function Uv(s,o,a,u,h){const m=qn(),y=2&u;try{Ks(-1),y&&o.length>20&&Ah(s,o,20,!1),a(u,h)}finally{Ks(m)}}function Hv(s,o,a){if(al(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,a[m],m)}}}function Tp(s,o,a){!dl()||(function fE(s,o,a,u){const h=a.directiveStart,m=a.directiveEnd;s.firstCreatePass||Rr(a,o),ni(u,o);const y=a.initialInputs;for(let C=h;C<m;C++){const E=s.data[C],I=xr(E);I&&Xv(o,a,E);const R=Hi(o,s,C,a);ni(R,o),null!==y&&Jv(0,C-h,R,E,0,y),I&&(ti(a.index,o)[8]=R)}}(s,o,a,Yn(a,o)),128==(128&a.flags)&&function pE(s,o,a){const u=a.directiveStart,h=a.directiveEnd,y=a.index,C=function vc(){return ht.lFrame.currentDirectiveIndex}();try{Ks(y);for(let E=u;E<h;E++){const I=s.data[E],R=o[E];Lo(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Zv(I,R)}}finally{Ks(-1),Lo(C)}}(s,o,a))}function Wm(s,o,a=Yn){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const y=u[m+1],C=-1===y?a(o,s):s[y];s[h++]=C}}}function jv(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Mp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Mp(s,o,a,u,h,m,y,C,E,I){const R=20+u,N=R+h,H=function Gv(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:_t);return a}(R,N),X="function"==typeof I?I():I;return H[1]={type:s,blueprint:H,template:a,queries:null,viewQuery:C,declTNode:o,data:H.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function zv(s,o,a,u){const h=Np(o);null===a?h.push(u):(h.push(a),s.firstCreatePass&&rs(s).push(u,h.length-1))}function Wv(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,h):a[u]=[o,h]}return a}function Vr(s,o,a,u,h,m,y,C){const E=Yn(o,a);let R,I=o.inputs;!C&&null!=I&&(R=I[u])?(rb(s,a,R,u,h),pu(o)&&function uE(s,o){const a=ti(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function Yv(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=y?y(h,o.value||"",u):h,nn(m)?m.setProperty(E,u,h):ln(u)||(E.setProperty?E.setProperty(u,h):E[u]=h))}function cd(s,o,a,u){let h=!1;if(dl()){const m=function gE(s,o,a){const u=s.directiveRegistry;let h=null;if(u)for(let m=0;m<u.length;m++){const y=u[m];Bm(a,y.selectors,!1)&&(h||(h=[]),Kn(Rr(a,o),s,y.type),xr(y)?(Op(s,a),h.unshift(y)):h.push(y))}return h}(s,o,a),y=null===u?null:{"":-1};if(null!==m){h=!0,qm(a,s.data.length,m.length);for(let R=0;R<m.length;R++){const N=m[R];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,I=ld(s,o,m.length,null);for(let R=0;R<m.length;R++){const N=m[R];a.mergedAttrs=Ta(a.mergedAttrs,N.hostAttrs),Qv(s,a,o,I,N),mE(I,N,y),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const H=N.type.prototype;!C&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),C=!0),!E&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),I++}!function cE(s,o){const u=o.directiveEnd,h=s.data,m=o.attrs,y=[];let C=null,E=null;for(let I=o.directiveStart;I<u;I++){const R=h[I],N=R.inputs,H=null===m||xh(o)?null:_E(N,m);y.push(H),C=Wv(N,I,C),E=Wv(R.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=C,o.outputs=E}(s,a)}y&&function Kv(s,o,a){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=a[o[h+1]];if(null==m)throw new Me(-301,!1);u.push(o[h],m)}}}(a,u,y)}return a.mergedAttrs=Ta(a.mergedAttrs,a.attrs),h}function Yc(s,o,a,u,h,m){const y=m.hostBindings;if(y){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const E=~o.index;(function qv(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(C)!=E&&C.push(E),C.push(u,h,y)}}function Zv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Op(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function mE(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;xr(o)&&(a[""]=s)}}function qm(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Qv(s,o,a,u,h){s.data[u]=h;const m=h.factory||(h.factory=di(h.type)),y=new Vo(m,xr(h),null);s.blueprint[u]=y,a[u]=y,Yc(s,o,0,u,ld(s,a,h.hostVars,_t),h)}function Xv(s,o,a){const u=Yn(o,s),h=jv(a),m=s[10],y=It(s,$c(s,h,null,a.onPush?64:16,u,o,m,m.createRenderer(u,a),null,null));s[o.index]=y}function mo(s,o,a,u,h,m){const y=Yn(s,o);!function kp(s,o,a,u,h,m,y){if(null==m)nn(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const C=null==y?he(m):y(m,u||"",h);nn(s)?s.setAttribute(o,h,C,a):a?o.setAttributeNS(a,h,C):o.setAttribute(h,C)}}(o[11],y,m,s.value,a,u,h)}function Jv(s,o,a,u,h,m){const y=m[o];if(null!==y){const C=u.setInput;for(let E=0;E<y.length;){const I=y[E++],R=y[E++],N=y[E++];null!==C?u.setInput(a,N,I,R):a[R]=N}}}function _E(s,o){let a=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return a}function Zm(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function tb(s,o){const a=ti(o,s);if(qr(a)){const u=a[1];80&a[2]?Gl(u,a,u.template,a[8]):a[5]>0&&Pp(a)}}function Pp(s){for(let u=Tc(s);null!==u;u=ch(u))for(let h=10;h<u.length;h++){const m=u[h];if(1024&m[2]){const y=m[1];Gl(y,m,y.template,m[8])}else m[5]>0&&Pp(m)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const h=ti(a[u],s);qr(h)&&h[5]>0&&Pp(h)}}function rn(s,o){const a=ti(o,s),u=a[1];(function Qt(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),zc(u,a,a[8])}function It(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function ca(s){for(;s;){s[2]|=64;const o=Pl(s);if(Mo(s)&&!o)return s;s=o}return null}function ud(s){!function Rh(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=La(a),h=u[1];zm(h,u,h.template,a)}}(s[8])}function Ot(s,o,a){Su(0),o(s,a)}const bE=(()=>Promise.resolve(null))();function Np(s){return s[7]||(s[7]=[])}function rs(s){return s.cleanup||(s.cleanup=[])}function nb(s,o,a){return(null===s||xr(s))&&(a=function Da(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}function ib(s,o){const a=s[9],u=a?a.get(yp,null):null;u&&u.handleError(o)}function rb(s,o,a,u,h){for(let m=0;m<a.length;){const y=a[m++],C=a[m++],E=o[y],I=s.data[y];null!==I.setInput?I.setInput(E,h,u,C):E[C]=h}}function ua(s,o,a){const u=ys(o,s);!function np(s,o,a){nn(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function da(s,o,a){let u=a?s.styles:null,h=a?s.classes:null,m=0;if(null!==o)for(let y=0;y<o.length;y++){const C=o[y];"number"==typeof C?m=C:1==m?h=de(h,C):2==m&&(u=de(u,C+": "+o[++y]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=h:s.classesWithoutHost=h}const Lp=new vn("INJECTOR",-1);class sb{get(o,a=Mi){if(a===Mi){const u=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw u.name="NullInjectorError",u}return a}}const Xm=new vn("Set Injector scope."),kh={},ob={};let qa;function Nt(){return void 0===qa&&(qa=new sb),qa}function Fh(s,o=null,a=null,u){const h=Ph(s,o,a,u);return h._resolveInjectorDefTypes(),h}function Ph(s,o=null,a=null,u){return new ab(s,a,o||Nt(),u)}class ab{constructor(o,a,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];a&&Ti(a,C=>this.processProvider(C,o,a)),Ti([o],C=>this.processInjectorType(C,[],m)),this.records.set(Lp,gi(void 0,this));const y=this.records.get(Xm);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Mi,u=ut.Default){this.assertNotDestroyed();const h=w(this),m=Wn(void 0);try{if(!(u&ut.SkipSelf)){let C=this.records.get(o);if(void 0===C){const E=function hd(s){return"function"==typeof s||"object"==typeof s&&s instanceof vn}(o)&&kt(o);C=E&&this.injectableDefInScope(E)?gi(Os(o),kh):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(u&ut.Self?Nt():this.parent).get(o,a=u&ut.Optional&&a===Mi?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Qi]=y[Qi]||[]).unshift(ce(o)),h)throw y;return function Qe(s,o,a,u){const h=s[Qi];throw o[Al]&&h.unshift(o[Al]),s.message=function et(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let m=[];for(let y in o)if(o.hasOwnProperty(y)){let C=o[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):ce(C)))}h=`{${m.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${s.replace(Wu,"\n  ")}`}("\n"+s.message,h,a,u),s.ngTokenPath=h,s[Qi]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Wn(m),w(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processInjectorType(o,a,u){if(!(o=te(o)))return!1;let h=bi(o);const m=null==h&&o.ngModule||void 0,y=void 0===m?o:m,C=-1!==u.indexOf(y);if(void 0!==m&&(h=bi(m)),null==h)return!1;if(null!=h.imports&&!C){let R;u.push(y);try{Ti(h.imports,N=>{this.processInjectorType(N,a,u)&&(void 0===R&&(R=[]),R.push(N))})}finally{}if(void 0!==R)for(let N=0;N<R.length;N++){const{ngModule:H,providers:X}=R[N];Ti(X,_e=>this.processProvider(_e,H,X||st))}}this.injectorDefTypes.add(y);const E=di(y)||(()=>new y);this.records.set(y,gi(E,kh));const I=h.providers;if(null!=I&&!C){const R=o;Ti(I,N=>this.processProvider(N,R,I))}return void 0!==m&&void 0!==o.providers}processProvider(o,a,u){let h=dd(o=te(o))?o:te(o&&o.provide);const m=function _o(s,o,a){return cb(s)?gi(void 0,s.useValue):gi(lb(s),kh)}(o);if(dd(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=gi(void 0,kh,!0),y.factory=()=>re(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,m)}hydrate(o,a){return a.value===kh&&(a.value=ob,a.value=a.factory()),"object"==typeof a.value&&a.value&&function hb(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Os(s){const o=kt(s),a=null!==o?o.factory:di(s);if(null!==a)return a;if(s instanceof vn)throw new Me(204,!1);if(s instanceof Function)return function Bp(s){const o=s.length;if(o>0)throw io(o,"?"),new Me(204,!1);const a=function vr(s){const o=s&&(s[br]||s[Bi]);if(o){const a=function vi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Me(204,!1)}function lb(s,o,a){let u;if(dd(s)){const h=te(s);return di(h)||Os(h)}if(cb(s))u=()=>te(s.useValue);else if(function e_(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...re(s.deps||[]));else if(function Jm(s){return!(!s||!s.useExisting)}(s))u=()=>M(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function db(s){return!!s.deps}(s))return di(h)||Os(h);u=()=>new h(...re(s.deps))}return u}function gi(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function cb(s){return null!==s&&"object"==typeof s&&Sl in s}function dd(s){return"function"==typeof s}let yo=(()=>{class s{static create(a,u){var h;if(Array.isArray(a))return Fh({name:""},u,a,"");{const m=null!==(h=a.name)&&void 0!==h?h:"";return Fh({name:m},a.parent,a.providers,m)}}}return s.THROW_IF_NOT_FOUND=Mi,s.NULL=new sb,s.\u0275prov=$t({token:s,providedIn:"any",factory:()=>M(Lp)}),s.__NG_ELEMENT_ID__=-1,s})();function xE(s,o){Sa(La(s)[1],un())}function r_(s){let o=function yb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let h;if(xr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Me(903,"");h=o.\u0275dir}if(h){if(a){u.push(h);const y=s;y.inputs=Nh(s.inputs),y.declaredInputs=Nh(s.declaredInputs),y.outputs=Nh(s.outputs);const C=h.hostBindings;C&&IE(s,C);const E=h.viewQuery,I=h.contentQueries;if(E&&SE(s,E),I&&s_(s,I),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),xr(h)&&h.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(s),C===r_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function AE(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Ta(h.hostAttrs,a=Ta(a,h.hostAttrs))}}(u)}function Nh(s){return s===ci?{}:s===st?[]:s}function SE(s,o){const a=s.viewQuery;s.viewQuery=a?(u,h)=>{o(u,h),a(u,h)}:o}function s_(s,o){const a=s.contentQueries;s.contentQueries=a?(u,h,m)=>{o(u,h,m),a(u,h,m)}:o}function IE(s,o){const a=s.hostBindings;s.hostBindings=a?(u,h)=>{o(u,h),a(u,h)}:o}let Zc=null;function gd(){if(!Zc){const s=Bt.Symbol;if(s&&s.iterator)Zc=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Zc=u)}}}return Zc}function ha(s){return!!l_(s)&&(Array.isArray(s)||!(s instanceof Map)&&gd()in s)}function l_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function fa(s,o,a){return s[o]=a}function tr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Lh(s,o,a,u){const h=Ae();return tr(h,bs(),o)&&(Pt(),mo(Cn(),h,s,o,a,u)),Lh}function gn(s,o,a,u,h,m,y,C){const E=Ae(),I=Pt(),R=s+20,N=I.firstCreatePass?function TE(s,o,a,u,h,m,y,C,E){const I=o.consts,R=ad(o,s,4,y||null,hr(I,C));cd(o,a,R,hr(I,E)),Sa(o,R);const N=R.tViews=Mp(2,R,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,R),N.queries=o.queries.embeddedTView(R)),R}(R,I,E,o,a,u,h,m,y):I.data[R];qi(N,!1);const H=E[11].createComment("");Oc(I,E,H,N),ni(H,E),It(E,E[R]=Zm(H,E,H,N)),Dr(N)&&Tp(I,E,N),null!=y&&Wm(E,N,C)}function Zl(s,o=ut.Default){const a=Ae();return null===a?M(s,o):to(un(),a,te(s),o)}function eg(){throw new Error("invalid")}function tg(s,o,a){const u=Ae();return tr(u,bs(),o)&&Vr(Pt(),Cn(),u,s,o,u[11],a,!1),tg}function C_(s,o,a,u,h){const y=h?"class":"style";rb(s,a,o.inputs[y],y,u)}function Ed(s,o,a,u){const h=Ae(),m=Pt(),y=20+s,C=h[11],E=h[y]=Lr(C,o,function $f(){return ht.lFrame.currentNamespace}()),I=m.firstCreatePass?function Mb(s,o,a,u,h,m,y){const C=o.consts,I=ad(o,s,2,h,hr(C,m));return cd(o,a,I,hr(C,y)),null!==I.attrs&&da(I,I.attrs,!1),null!==I.mergedAttrs&&da(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,m,h,0,o,a,u):m.data[y];qi(I,!0);const R=I.mergedAttrs;null!==R&&xt(C,E,R);const N=I.classes;null!==N&&Ju(C,E,N);const H=I.styles;return null!==H&&cp(C,E,H),64!=(64&I.flags)&&Oc(m,h,E,I),0===function Aa(){return ht.lFrame.elementDepthCount}()&&ni(E,h),function fc(){ht.lFrame.elementDepthCount++}(),Dr(I)&&(Tp(m,h,I),Hv(m,I,h)),null!==u&&Wm(h,I),Ed}function ng(){let s=un();gc()?mc():(s=s.parent,qi(s,!1));const o=s;!function ul(){ht.lFrame.elementDepthCount--}();const a=Pt();return a.firstCreatePass&&(Sa(a,s),al(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Wf(s){return 0!=(16&s.flags)}(o)&&C_(a,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Fn(s){return 0!=(32&s.flags)}(o)&&C_(a,o,Ae(),o.stylesWithoutHost,!1),ng}function w_(s,o,a,u){return Ed(s,o,a,u),ng(),w_}function ig(s,o,a){const u=Ae(),h=Pt(),m=s+20,y=h.firstCreatePass?function HE(s,o,a,u,h){const m=o.consts,y=hr(m,u),C=ad(o,s,8,"ng-container",y);return null!==y&&da(C,y,!0),cd(o,a,C,hr(m,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,h,u,o,a):h.data[m];qi(y,!0);const C=u[m]=u[11].createComment("");return Oc(h,u,C,y),ni(C,u),Dr(y)&&(Tp(h,u,y),Hv(h,y,u)),null!=a&&Wm(u,y),ig}function rg(){let s=un();const o=Pt();return gc()?mc():(s=s.parent,qi(s,!1)),o.firstCreatePass&&(Sa(o,s),al(s)&&o.queries.elementEnd(s)),rg}function E_(s,o,a){return ig(s,o,a),rg(),E_}function D_(){return Ae()}function x_(s){return!!s&&"function"==typeof s.then}function A_(s){return!!s&&"function"==typeof s.subscribe}const S_=A_;function I_(s,o,a,u){const h=Ae(),m=Pt(),y=un();return T_(m,h,h[11],y,s,o,!!a,u),I_}function sg(s,o){const a=un(),u=Ae(),h=Pt();return T_(h,u,nb(ml(h.data),a,u),a,s,o,!1),sg}function T_(s,o,a,u,h,m,y,C){const E=Dr(u),R=s.firstCreatePass&&rs(s),N=o[8],H=Np(o);let X=!0;if(3&u.type||C){const Ve=Yn(u,o),Xe=C?C(Ve):Ve,Te=H.length,ct=C?Vt=>C(Yt(Vt[u.index])):u.index;if(nn(a)){let Vt=null;if(!C&&E&&(Vt=function og(s,o,a,u){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===a&&h[m+1]===u){const C=o[7],E=h[m+2];return C.length>E?C[E]:null}"string"==typeof y&&(m+=2)}return null}(s,o,h,u.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=m,Vt.__ngLastListenerFn__=m,X=!1;else{m=M_(u,o,N,m,!1);const sn=a.listen(Xe,h,m);H.push(m,sn),R&&R.push(h,ct,Te,Te+1)}}else m=M_(u,o,N,m,!0),Xe.addEventListener(h,m,y),H.push(m),R&&R.push(h,ct,Te,y)}else m=M_(u,o,N,m,!1);const _e=u.outputs;let ke;if(X&&null!==_e&&(ke=_e[h])){const Ve=ke.length;if(Ve)for(let Xe=0;Xe<Ve;Xe+=2){const jr=o[ke[Xe]][ke[Xe+1]].subscribe(m),rc=H.length;H.push(m,jr),R&&R.push(h,u.index,rc,-(rc+1))}}}function Rb(s,o,a,u){try{return!1!==a(u)}catch(h){return ib(s,h),!1}}function M_(s,o,a,u,h){return function m(y){if(y===Function)return u;const C=2&s.flags?ti(s.index,o):o;0==(32&o[2])&&ca(C);let E=Rb(o,0,u,y),I=m.__ngNextListenerFn__;for(;I;)E=Rb(o,0,I,y)&&E,I=I.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Ob(s=1){return function Qd(s){return(ht.lFrame.contextLView=function bc(s,o){for(;s>0;)o=o[15],s--;return o}(s,ht.lFrame.contextLView))[8]}(s)}function R_(s,o){let a=null;const u=function Q0(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?Bm(s,m,!0):go(u,m))return h}else a=h}return a}function O_(s){const o=Ae()[16][6];if(!o.projection){const u=o.projection=io(s?s.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const y=s?R_(m,s):0;null!==y&&(h[y]?h[y].projectionNext=m:u[y]=m,h[y]=m),m=m.next}}}function kb(s,o=0,a){const u=Ae(),h=Pt(),m=ad(h,20+s,16,null,a||null);null===m.projection&&(m.projection=o),mc(),64!=(64&m.flags)&&function mh(s,o,a){lp(o[11],0,o,a,fh(s,a,o),Rc(a.parent||o[6],a,o))}(h,u,m)}function Bb(s,o,a,u,h){const m=s[a+1],y=null===o;let C=u?is(m):oa(m),E=!1;for(;0!==C&&(!1===E||y);){const R=s[C+1];Kl(s[C],o)&&(E=!0,s[C+1]=u?Hl(R):Hm(R)),C=u?is(R):oa(R)}E&&(s[a+1]=u?Hm(m):Hl(m))}function Kl(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&As(s,o)>=0}function xd(s,o,a){return Co(s,o,a,!1),xd}function $h(s,o){return Co(s,o,null,!0),$h}function Co(s,o,a,u){const h=Ae(),m=Pt(),y=function fr(s){const o=ht.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);m.firstUpdatePass&&function ug(s,o,a,u){const h=s.data;if(null===h[a+1]){const m=h[qn()],y=function Gb(s,o){return o>=s.expandoStartIndex}(s,a);(function Wb(s,o){return 0!=(s.flags&(o?16:32))})(m,u)&&null===o&&!y&&(o=!1),o=function V_(s,o,a,u){const h=ml(s);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(a=Ad(a=U_(null,s,o,a,u),o.attrs,u),m=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=U_(h,s,o,a,u),null===m){let E=function WE(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==oa(u))return s[is(u)]}(s,o,u);void 0!==E&&Array.isArray(E)&&(E=U_(null,s,o,E[1],u),E=Ad(E,o.attrs,u),function $b(s,o,a,u){s[is(a?o.classBindings:o.styleBindings)]=u}(s,o,u,E))}else m=function YE(s,o,a){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=Ad(u,s[m].hostAttrs,a);return Ad(u,o.attrs,a)}(s,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),a}(h,m,o,u),function Lb(s,o,a,u,h,m){let y=m?o.classBindings:o.styleBindings,C=is(y),E=oa(y);s[u]=a;let R,I=!1;if(Array.isArray(a)){const N=a;R=N[1],(null===R||As(N,R)>0)&&(I=!0)}else R=a;if(h)if(0!==E){const H=is(s[C+1]);s[u+1]=Sh(H,C),0!==H&&(s[H+1]=za(s[H+1],u)),s[C+1]=function tE(s,o){return 131071&s|o<<17}(s[C+1],u)}else s[u+1]=Sh(C,0),0!==C&&(s[C+1]=za(s[C+1],u)),C=u;else s[u+1]=Sh(E,0),0===C?C=u:s[E+1]=za(s[E+1],u),E=u;I&&(s[u+1]=Hm(s[u+1])),Bb(s,R,u,!0),Bb(s,R,u,!1),function P_(s,o,a,u,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&As(m,o)>=0&&(a[u+1]=Hl(a[u+1]))}(o,R,s,u,m),y=Sh(C,E),m?o.classBindings=y:o.styleBindings=y}(h,m,o,a,y,u)}}(m,s,y,u),o!==_t&&tr(h,y,o)&&function zh(s,o,a,u,h,m,y,C){if(!(3&o.type))return;const E=s.data,I=E[C+1];Sd(function bp(s){return 1==(1&s)}(I)?Ql(E,o,a,h,oa(I),y):void 0)||(Sd(m)||function Um(s){return 2==(2&s)}(I)&&(m=Ql(E,null,a,h,C,y)),function Sm(s,o,a,u,h){const m=nn(s);if(o)h?m?s.addClass(a,u):a.classList.add(u):m?s.removeClass(a,u):a.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:Is.DashCase;if(null==h)m?s.removeStyle(a,u,y):a.style.removeProperty(u);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),y|=Is.Important),m?s.setStyle(a,u,h,y):a.style.setProperty(u,h,C?"important":"")}}}(u,y,ys(qn(),a),h,m))}(m,m.data[qn()],h,h[11],s,h[y+1]=function zb(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(fo(s)))),s}(o,a),u,y)}function U_(s,o,a,u,h){let m=null;const y=a.directiveEnd;let C=a.directiveStylingLast;for(-1===C?C=a.directiveStart:C++;C<y&&(m=o[C],u=Ad(u,m.hostAttrs,h),m!==s);)C++;return null!==s&&(a.directiveStylingLast=C),u}function Ad(s,o,a){const u=a?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const y=o[m];"number"==typeof y?h=y:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Gn(s,y,!!a||o[++m]))}return void 0===s?null:s}function Ql(s,o,a,u,h,m){const y=null===o;let C;for(;h>0;){const E=s[h],I=Array.isArray(E),R=I?E[1]:E,N=null===R;let H=a[h+1];H===_t&&(H=N?st:void 0);let X=N?xs(H,u):R===u?H:void 0;if(I&&!Sd(X)&&(X=xs(E,u)),Sd(X)&&(C=X,y))return C;const _e=s[h+1];h=y?is(_e):oa(_e)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(C=xs(E,u))}return C}function Sd(s){return void 0!==s}function Wh(s,o=""){const a=Ae(),u=Pt(),h=s+20,m=u.firstCreatePass?ad(u,h,1,o,null):u.data[h],y=a[h]=function oo(s,o){return nn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);Oc(u,a,y,m),qi(m,!1)}function hg(s){return fg("",s,""),hg}function fg(s,o,a){const u=Ae(),h=function Wl(s,o,a,u){return tr(s,bs(),a)?o+he(a)+u:_t}(u,s,o,a);return h!==_t&&ua(u,qn(),h),fg}function Xh(s,o,a){const u=Ae();return tr(u,bs(),o)&&Vr(Pt(),Cn(),u,s,o,u[11],a,!0),Xh}function Md(s,o,a){const u=Ae();if(tr(u,bs(),o)){const m=Pt(),y=Cn();Vr(m,y,u,s,o,nb(ml(m.data),y,u),a,!0)}return Md}const Xc=void 0;var JE=["en",[["a","p"],["AM","PM"],Xc],[["AM","PM"],Xc,Xc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xc,"{1} 'at' {0}",Xc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Z_(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Rd={};function _g(s){const o=function eD(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=sC(o);if(a)return a;const u=o.split("-")[0];if(a=sC(u),a)return a;if("en"===u)return JE;throw new Error(`Missing locale data for the locale "${s}".`)}function rC(s){return _g(s)[ft.PluralCase]}function sC(s){return s in Rd||(Rd[s]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[s]),Rd[s]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const yg="en-US";let Q_=yg;function ay(s,o,a,u,h){if(s=te(s),Array.isArray(s))for(let m=0;m<s.length;m++)ay(s[m],o,a,u,h);else{const m=Pt(),y=Ae();let C=dd(s)?s:te(s.provide),E=lb(s);const I=un(),R=1048575&I.providerIndexes,N=I.directiveStart,H=I.providerIndexes>>20;if(dd(s)||!s.multi){const X=new Vo(E,h,Zl),_e=cy(C,o,h?R:R+H,N);-1===_e?(Kn(Rr(I,y),m,C),ly(m,s,o.length),o.push(C),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(X),y.push(X)):(a[_e]=X,y[_e]=X)}else{const X=cy(C,o,R+H,N),_e=cy(C,o,R,R+H),ke=X>=0&&a[X],Ve=_e>=0&&a[_e];if(h&&!Ve||!h&&!ke){Kn(Rr(I,y),m,C);const Xe=function $S(s,o,a,u,h){const m=new Vo(s,a,Zl);return m.multi=[],m.index=o,m.componentProviders=0,MC(m,h,u&&!a),m}(h?TD:ID,a.length,h,u,E);!h&&Ve&&(a[_e].providerFactory=Xe),ly(m,s,o.length,0),o.push(C),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),a.push(Xe),y.push(Xe)}else ly(m,s,X>-1?X:_e,MC(a[h?_e:X],E,!h&&u));!h&&u&&Ve&&a[_e].componentProviders++}}}function ly(s,o,a,u){const h=dd(o),m=function ub(s){return!!s.useClass}(o);if(h||m){const E=(m?te(o.useClass):o).prototype.ngOnDestroy;if(E){const I=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const R=I.indexOf(a);-1===R?I.push(a,[u,E]):I[R+1].push(u,E)}else I.push(a,E)}}}function MC(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function cy(s,o,a,u){for(let h=a;h<u;h++)if(o[h]===s)return h;return-1}function ID(s,o,a,u){return RC(this.multi,[])}function TD(s,o,a,u){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=Hi(a,a[1],this.providerFactory.index,u);m=C.slice(0,y),RC(h,m);for(let E=y;E<C.length;E++)m.push(C[E])}else m=[],RC(h,m);return m}function RC(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function OC(s,o=[]){return a=>{a.providersResolver=(u,h)=>function SD(s,o,a){const u=Pt();if(u.firstCreatePass){const h=xr(s);ay(a,u.data,u.blueprint,h,!0),ay(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class kC{}class RD{resolveComponentFactory(o){throw function FC(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Dg=(()=>{class s{}return s.NULL=new RD,s})();function nc(){return $n(un(),Ae())}function $n(s,o){return new $i(Yn(s,o))}let $i=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=nc,s})();function tf(s){return s instanceof $i?s.nativeElement:s}class NC{}let OD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function xg(){const s=Ae(),a=ti(un().index,s);return function kD(s){return s[11]}(Ei(a)?a:s)}(),s})(),FD=(()=>{class s{}return s.\u0275prov=$t({token:s,providedIn:"root",factory:()=>null}),s})();class LC{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const uy=new LC("13.3.12"),Ag={};function Vd(s,o,a,u,h=!1){for(;null!==a;){const m=o[a.index];if(null!==m&&u.push(Yt(m)),ur(m))for(let C=10;C<m.length;C++){const E=m[C],I=E[1].firstChild;null!==I&&Vd(E[1],E,I,u)}const y=a.type;if(8&y)Vd(s,o,a.child,u);else if(32&y){const C=ah(a,o);let E;for(;E=C();)u.push(E)}else if(16&y){const C=gh(o,a);if(Array.isArray(C))u.push(...C);else{const E=Pl(o[16]);Vd(E[1],E,C,u,!0)}}a=h?a.projectionNext:a.next}return u}class Ud{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Vd(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ur(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(lo(o,u),Ec(a,u))}this._attachedToViewContainer=!1}ip(this._lView[1],this._lView)}onDestroy(o){zv(this._lView[1],this._lView,null,o)}markForCheck(){ca(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Km(s,o,a){const u=o[10];u.begin&&u.begin();try{Gl(s,o,s.template,a)}catch(h){throw ib(o,h),h}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wm(s,o){uo(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Me(902,"");this._appRef=o}}class Sg extends Ud{constructor(o){super(o),this._view=o}detectChanges(){ud(this._view)}checkNoChanges(){}get context(){return null}}class BC extends Dg{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=jt(o);return new VC(a,this.ngModule)}}function PD(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class VC extends kC{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Bc(s){return s.map(eE).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return PD(this.componentDef.inputs)}get outputs(){return PD(this.componentDef.outputs)}create(o,a,u,h){const m=(h=h||this.ngModule)?function dy(s,o){return{get:(a,u,h)=>{const m=s.get(a,Ag,h);return m!==Ag||u===Ag?m:o.get(a,u,h)}}}(o,h.injector):o,y=m.get(NC,Ea),C=m.get(FD,null),E=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",R=u?function $v(s,o,a){if(nn(s))return s.selectRootElement(o,a===Ut.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(E,u,this.componentDef.encapsulation):Lr(y.createRenderer(null,this.componentDef),I,function ND(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(I)),N=this.componentDef.onPush?576:528,H=function pd(s,o){return{components:[],scheduler:s||W0,clean:bE,playerHandler:o||null,flags:0}}(),X=Mp(0,null,null,1,0,null,null,null,null,null),_e=$c(null,X,H,N,null,null,y,E,C,m);let ke,Ve;Zs(_e);try{const Xe=function _b(s,o,a,u,h,m){const y=a[1];a[20]=s;const E=ad(y,20,2,"#host",null),I=E.mergedAttrs=o.hostAttrs;null!==I&&(da(E,I,!0),null!==s&&(xt(h,s,I),null!==E.classes&&Ju(h,s,E.classes),null!==E.styles&&cp(h,s,E.styles)));const R=u.createRenderer(s,o),N=$c(a,jv(o),null,o.onPush?64:16,a[20],E,u,R,m||null,null);return y.firstCreatePass&&(Kn(Rr(E,a),y,o.type),Op(y,E),qm(E,a.length,1)),It(a,N),a[20]=N}(R,this.componentDef,_e,y,E);if(R)if(u)xt(E,R,["ng-version",uy.full]);else{const{attrs:Te,classes:ct}=function Vc(s){const o=[],a=[];let u=1,h=2;for(;u<s.length;){let m=s[u];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++u]):8===h&&a.push(m);else{if(!Ms(h))break;h=m}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Te&&xt(E,R,Te),ct&&ct.length>0&&Ju(E,R,ct.join(" "))}if(Ve=yn(X,20),void 0!==a){const Te=Ve.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const Vt=a[ct];Te.push(null!=Vt?Array.from(Vt):null)}}ke=function zp(s,o,a,u,h){const m=a[1],y=function hE(s,o,a){const u=un();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Qv(s,u,o,ld(s,o,1,null),a));const h=Hi(o,s,u.directiveStart,u);ni(h,o);const m=Yn(u,o);return m&&ni(m,o),h}(m,a,o);if(u.components.push(y),s[8]=y,h&&h.forEach(E=>E(y,o)),o.contentQueries){const E=un();o.contentQueries(1,y,E.directiveStart)}const C=un();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ks(C.index),Yc(a[1],C,0,C.directiveStart,C.directiveEnd,o),Zv(o,y)),y}(Xe,this.componentDef,_e,H,[xE]),zc(X,_e,null)}finally{Ui()}return new LD(this.componentType,ke,$n(Ve,_e),_e,Ve)}}class LD extends class MD{}{constructor(o,a,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.instance=a,this.hostView=this.changeDetectorRef=new Sg(h),this.componentType=o}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class nf{}class BD{}const rf=new Map;class UC extends nf{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new BC(this);const u=pt(o);this._bootstrapComponents=sa(u.bootstrap),this._r3Injector=Ph(o,a,[{provide:nf,useValue:this},{provide:Dg,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=yo.THROW_IF_NOT_FOUND,u=ut.Default){return o===yo||o===nf||o===Lp?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class mi extends BD{constructor(o){super(),this.moduleType=o,null!==pt(o)&&function KS(s){const o=new Set;!function a(u){const h=pt(u,!0),m=h.id;null!==m&&(function VD(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(m,rf.get(m),u),rf.set(m,u));const y=sa(h.imports);for(const C of y)o.has(C)||(o.add(C),a(C))}(s)}(o)}create(o){return new UC(this.moduleType,o)}}function HC(s,o,a){const u=hi()+s,h=Ae();return h[u]===_t?fa(h,u,a?o.call(a):o()):function md(s,o){return s[o]}(h,u)}function sf(s,o,a,u){return ir(Ae(),hi(),s,o,a,u)}function ir(s,o,a,u,h,m){const y=o+a;return tr(s,y,h)?fa(s,y+1,m?u.call(m,h):u(h)):function af(s,o){const a=s[o];return a===_t?void 0:a}(s,y+1)}function Mg(s,o){const a=Pt();let u;const h=s+20;a.firstCreatePass?(u=function py(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,u.onDestroy)):u=a.data[h];const m=u.factory||(u.factory=di(u.type)),y=Wn(Zl);try{const C=wt(!1),E=m();return wt(C),function bo(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,Ae(),h,E),E}finally{Wn(y)}}function GC(s,o,a){const u=s+20,h=Ae(),m=function Ir(s,o){return s[o]}(h,u);return function el(s,o){return s[1].data[o].pure}(h,u)?ir(h,hi(),o,m.transform,a,m):m.transform(a)}function Hd(s){return o=>{setTimeout(s,void 0,o)}}const xo=class $C extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var h,m,y;let C=o,E=a||(()=>null),I=u;if(o&&"object"==typeof o){const N=o;C=null===(h=N.next)||void 0===h?void 0:h.bind(N),E=null===(m=N.error)||void 0===m?void 0:m.bind(N),I=null===(y=N.complete)||void 0===y?void 0:y.bind(N)}this.__isAsync&&(E=Hd(E),C&&(C=Hd(C)),I&&(I=Hd(I)));const R=super.subscribe({next:C,error:E,complete:I});return o instanceof J.w0&&o.add(R),R}};function QD(){return this._results[gd()]()}class gy{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=gd(),u=gy.prototype;u[a]||(u[a]=QD)}get changes(){return this._changes||(this._changes=new xo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const h=Ii(o);(this._changesDetected=!function Jd(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],m=o[u];if(a&&(h=a(h),m=a(m)),m!==h)return!1}return!0}(u._results,h,a))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let uf=(()=>{class s{}return s.__NG_ELEMENT_ID__=my,s})();const XD=uf,zC=class extends XD{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=$c(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(u[19]=m.createEmbeddedView(a)),zc(a,u,o),new Ud(u)}};function my(){return df(un(),Ae())}function df(s,o){return 4&s.type?new zC(o,s,$n(s,o)):null}let jd=(()=>{class s{}return s.__NG_ELEMENT_ID__=WC,s})();function WC(){return qC(un(),Ae())}const hf=jd,YC=class extends hf{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return $n(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){const o=Es(this._hostTNode,this._hostLView);if(Ho(o)){const a=ws(o,this._hostLView),u=Cs(o);return new xi(a[1].data[u+8],a)}return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Rg(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const h=o.createEmbeddedView(a||{});return this.insert(h,u),h}createComponent(o,a,u,h,m){const y=o&&!function Fa(s){return"function"==typeof s}(o);let C;if(y)C=a;else{const N=a||{};C=N.index,u=N.injector,h=N.projectableNodes,m=N.ngModuleRef}const E=y?o:new VC(jt(o)),I=u||this.parentInjector;if(!m&&null==E.ngModule){const H=(y?I:this.parentInjector).get(nf,null);H&&(m=H)}const R=E.create(I,h,void 0,m);return this.insert(R.hostView,C),R}insert(o,a){const u=o._lView,h=u[1];if(function xa(s){return ur(s[3])}(u)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const N=u[3],H=new YC(N,N[6],N[3]);H.detach(H.indexOf(o))}}const m=this._adjustIndex(a),y=this._lContainer;!function dh(s,o,a,u){const h=10+u,m=a.length;u>0&&(a[h-1][4]=o),u<m-10?(o[4]=a[h],Pa(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function Dm(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(h,u,y,m);const C=Xu(m,y),E=u[11],I=Ua(E,y[7]);return null!==I&&function ao(s,o,a,u,h,m){u[0]=h,u[6]=o,uo(s,u,a,1,h,m)}(h,y[6],E,u,I,C),o.attachToViewContainerRef(),Pa(ff(y),m,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Rg(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=lo(this._lContainer,a);u&&(Ec(ff(this._lContainer),a),ip(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=lo(this._lContainer,a);return u&&null!=Ec(ff(this._lContainer),a)?new Ud(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Rg(s){return s[8]}function ff(s){return s[8]||(s[8]=[])}function qC(s,o){let a;const u=o[s.index];if(ur(u))a=u;else{let h;if(8&s.type)h=Yt(u);else{const m=o[11];h=m.createComment("");const y=Yn(s,o);co(m,Ua(m,y),h,function sp(s,o){return nn(s)?s.nextSibling(o):o.nextSibling}(m,y),!1)}o[s.index]=a=Zm(u,o,h,s),It(o,a)}return new YC(a,s,o)}class pf{constructor(o){this.queryList=o,this.matches=null}clone(){return new pf(this.queryList)}setDirty(){this.queryList.setDirty()}}class yy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let m=0;m<u;m++){const y=a.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new yy(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==iw(o,a).matches&&this.queries[a].setDirty()}}class KC{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class vy{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==a?a.push(m):a=[m])}return null!==a?new vy(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Gd{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Gd(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,a,by(a,m)),this.matchTNodeWithReadOption(o,a,$o(a,o,m,!1,!1))}else u===uf?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,$o(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===$i||h===jd||h===uf&&4&a.type)this.addMatch(a.index,-2);else{const m=$o(a,o,h,!1,!1);null!==m&&this.addMatch(a.index,m)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function by(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function wy(s,o,a,u){return-1===a?function Cy(s,o){return 11&s.type?$n(s,o):4&s.type?df(s,o):null}(o,s):-2===a?function QC(s,o,a){return a===$i?$n(o,s):a===uf?df(o,s):a===jd?qC(o,s):void 0}(s,o,u):Hi(s,s[1],a,o)}function XC(s,o,a,u){const h=o[19].queries[u];if(null===h.matches){const m=s.data,y=a.matches,C=[];for(let E=0;E<y.length;E+=2){const I=y[E];C.push(I<0?null:wy(o,m[I],y[E+1],a.metadata.read))}h.matches=C}return h.matches}function Og(s,o,a,u){const h=s.queries.getByIndex(a),m=h.matches;if(null!==m){const y=XC(s,o,h,a);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)u.push(y[C/2]);else{const I=m[C+1],R=o[-E];for(let N=10;N<R.length;N++){const H=R[N];H[17]===H[3]&&Og(H[1],H,I,u)}if(null!==R[9]){const N=R[9];for(let H=0;H<N.length;H++){const X=N[H];Og(X[1],X,I,u)}}}}}return u}function tu(s){const o=Ae(),a=Pt(),u=_l();Su(u+1);const h=iw(a,u);if(s.dirty&&Ws(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Og(a,o,u,[]):XC(a,o,h,u);s.reset(m,tf),s.notifyOnChanges()}return!0}return!1}function Ey(s,o,a){const u=Pt();u.firstCreatePass&&(nw(u,new KC(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),tw(u,Ae(),o)}function JC(s,o,a,u){const h=Pt();if(h.firstCreatePass){const m=un();nw(h,new KC(o,a,u),m.index),function tx(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}tw(h,Ae(),a)}function ew(){return function ex(s,o){return s[19].queries[o].queryList}(Ae(),_l())}function tw(s,o,a){const u=new gy(4==(4&a));zv(s,o,u,u.destroy),null===o[19]&&(o[19]=new yy),o[19].queries.push(new pf(u))}function nw(s,o,a){null===s.queries&&(s.queries=new vy),s.queries.track(new Gd(o,a))}function iw(s,o){return s.queries.getByIndex(o)}function _f(...s){}const Ry=new vn("Application Initializer");let nu=(()=>{class s{constructor(a){this.appInits=a,this.resolve=_f,this.reject=_f,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(x_(m))a.push(m);else if(S_(m)){const y=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});a.push(y)}}Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(M(Ry,8))},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bw=new vn("AppId",{providedIn:"root",factory:function Oy(){return`${ky()}${ky()}${ky()}`}});function ky(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fy=new vn("Platform Initializer"),Cw=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Py=new vn("appBootstrapListener");let Ex=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Pg=new vn("LocaleId",{providedIn:"root",factory:()=>Q(Pg,ut.Optional|ut.SkipSelf)||function Dx(){return"undefined"!=typeof $localize&&$localize.locale||yg}()}),xx=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Sx{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Ix=(()=>{class s{compileModuleSync(a){return new mi(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),m=sa(pt(a).declarations).reduce((y,C)=>{const E=jt(C);return E&&y.push(new VC(E)),y},[]);return new Sx(u,m)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Tx=(()=>Promise.resolve(0))();function Ng(s){"undefined"==typeof Zone?Tx.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ns{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xo(!1),this.onMicrotaskEmpty=new xo(!1),this.onStable=new xo(!1),this.onError=new xo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Mx(){let s=Bt.requestAnimationFrame,o=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ww(s){const o=()=>{!function Rx(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Bt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ny(s),s.isCheckStableRunning=!0,Ls(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ny(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,m,y,C)=>{try{return Ew(s),a.invokeTask(h,m,y,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),Dw(s)}},onInvoke:(a,u,h,m,y,C,E)=>{try{return Ew(s),a.invoke(h,m,y,C,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),Dw(s)}},onHasTask:(a,u,h,m)=>{a.hasTask(h,m),u===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Ny(s),Ls(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(a,u,h,m)=>(a.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ns.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ns.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,o,ru,_f,_f);try{return m.runTask(y,a,u)}finally{m.cancelTask(y)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const ru={};function Ls(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ny(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Ew(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Dw(s){s._nesting--,Ls(s)}class yf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xo,this.onMicrotaskEmpty=new xo,this.onStable=new xo,this.onError=new xo}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,h){return o.apply(a,u)}}let nl=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ns.assertNotInAngularZone(),Ng(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ng(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:m,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(M(Ns))},s.\u0275prov=$t({token:s,factory:s.\u0275fac}),s})(),xw=(()=>{class s{constructor(){this._applications=new Map,Ly.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Ly.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class rr{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function ic(s){Ly=s}let Ly=new rr,as=null;const By=new vn("AllowMultipleToken"),Vy=new vn("PlatformOnDestroy");class Iw{constructor(o,a){this.name=o,this.token=a}}function Uy(s,o,a=[]){const u=`Platform: ${o}`,h=new vn(u);return(m=[])=>{let y=Bg();if(!y||y.injector.get(By,!1)){const C=[...a,...m,{provide:h,useValue:!0}];s?s(C):function Tw(s){if(as&&!as.get(By,!1))throw new Me(400,"");as=s;const o=s.get(Hy),a=s.get(Fy,null);a&&a.forEach(u=>u())}(function Mw(s=[],o){return yo.create({name:o,providers:[{provide:Xm,useValue:"platform"},{provide:Vy,useValue:()=>as=null},...s]})}(C,u))}return function Lg(s){const o=Bg();if(!o)throw new Me(401,"");return o}()}}function Bg(){var s;return null!==(s=null==as?void 0:as.get(Hy))&&void 0!==s?s:null}let Hy=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const C=function Fx(s,o){let a;return a="noop"===s?new yf:("zone.js"===s?void 0:s)||new Ns({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:Ns,useValue:C}];return C.run(()=>{const I=yo.create({providers:E,parent:this.injector,name:a.moduleType.name}),R=a.create(I),N=R.injector.get(yp,null);if(!N)throw new Me(402,"");return C.runOutsideAngular(()=>{const H=C.onError.subscribe({next:X=>{N.handleError(X)}});R.onDestroy(()=>{Vg(this._modules,R),H.unsubscribe()})}),function Rw(s,o,a){try{const u=a();return x_(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(N,C,()=>{const H=R.injector.get(nu);return H.runInitializers(),H.donePromise.then(()=>(function aC(s){St(s,"Expected localeId to be defined"),"string"==typeof s&&(Q_=s.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Pg,yg)||yg),this._moduleDoBootstrap(R),R))})})}bootstrapModule(a,u=[]){const h=jy({},u);return function Aw(s,o,a){const u=new mi(a);return Promise.resolve(u)}(0,0,a).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(a){const u=a.injector.get(vf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Me(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Vy,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(M(yo))},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function jy(s,o){return Array.isArray(o)?o.reduce(jy,s):Object.assign(Object.assign({},s),o)}let vf=(()=>{class s{constructor(a,u,h,m){this._zone=a,this._injector=u,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),C=new P.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Ns.assertNotInAngularZone(),Ng(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),R.unsubscribe()}});this.isStable=(0,le.T)(y,C.pipe((0,ae.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Me(405,"");let h;h=a instanceof kC?a:this._injector.get(Dg).resolveComponentFactory(a),this.componentTypes.push(h.componentType);const m=function Sw(s){return s.isBoundToModule}(h)?void 0:this._injector.get(nf),C=h.create(yo.NULL,[],u||h.selector,m),E=C.location.nativeElement,I=C.injector.get(nl,null),R=I&&C.injector.get(xw);return I&&R&&R.registerApplication(E,I),C.onDestroy(()=>{this.detachView(C.hostView),Vg(this.components,C),R&&R.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Me(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Vg(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Py,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(M(Ns),M(yo),M(yp),M(nu))},s.\u0275prov=$t({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Vg(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Gy=!0,$y=!1;function zy(){return $y=!0,Gy}function Hg(){if($y)throw new Error("Cannot enable prod mode after platform setup.");Gy=!1}let il=(()=>{class s{}return s.__NG_ELEMENT_ID__=yr,s})();function yr(s){return function kw(s,o,a){if(pu(s)&&!a){const u=ti(s.index,o);return new Ud(u,u)}return 47&s.type?new Ud(o[16],o):null}(un(),Ae(),16==(16&s))}class bf{constructor(){}supports(o){return ha(o)}create(o){return new Ux(o)}}const Yg=(s,o)=>o;class Ux{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Yg}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,h=0,m=null;for(;a||u;){const y=!u||a&&a.currentIndex<Uw(u,h,m)?a:u,C=Uw(y,h,m),E=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{m||(m=[]);const I=C-h,R=E-h;if(I!=R){for(let H=0;H<I;H++){const X=H<m.length?m[H]:m[H]=0,_e=X+H;R<=_e&&_e<I&&(m[H]=X+1)}m[y.previousIndex]=R-I}}C!==E&&o(y,C,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!ha(o))throw new Me(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,y,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],y=this._trackByFn(C,m),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,m,y,C)),Object.is(a.item,m)||this._addIdentityChange(a,m)):(a=this._mismatch(a,m,y,C),u=!0),a=a._next}else h=0,function a_(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[gd()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,C=>{y=this._trackByFn(h,C),null!==a&&Object.is(a.trackById,y)?(u&&(a=this._verifyReinsertion(a,C,y,h)),Object.is(a.item,C)||this._addIdentityChange(a,C)):(a=this._mismatch(a,C,y,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,m,h)):o=this._addAfter(new Ky(a,u),m,h),o}_verifyReinsertion(o,a,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new Vw),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Ky{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qg{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Vw{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new qg,this.map.set(a,u)),u.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Uw(s,o,a){const u=s.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+o+h}class Qy{constructor(){}supports(o){return o instanceof Map||l_(o)}create(){return new Hx}}class Hx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||l_(o)))throw new Me(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const m=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,m)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const u=new Hw(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class Hw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jw(){return new Gw([new bf])}let Gw=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||jw()),deps:[[s,new hn,new ot]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Me(901,"")}}return s.\u0275prov=$t({token:s,providedIn:"root",factory:jw}),s})();function Xy(){return new $w([new Qy])}let $w=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||Xy()),deps:[[s,new hn,new ot]]}}find(a){const u=this.factories.find(m=>m.supports(a));if(u)return u;throw new Me(901,"")}}return s.\u0275prov=$t({token:s,providedIn:"root",factory:Xy}),s})();const ev=Uy(null,"core",[]);let dI=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(M(vf))},s.\u0275mod=be({type:s}),s.\u0275inj=Lt({}),s})()},3942:(Ye,ye,F)=>{F.d(ye,{Z:()=>Me});var l=F(2090),J=F(4859),P=F(9681),le=F(1877);class ae{constructor(he,we){this._delegate=he,this.firebase=we,(0,P._addComponent)(he,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(he,we=P._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const ze=this._delegate.container.getProvider(he);return!ze.isInitialized()&&"EXPLICIT"===(null===(Ue=ze.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&ze.initialize(),ze.getImmediate({identifier:we})}_removeServiceInstance(he,we=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(we)}_addComponent(he){(0,P._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,P._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function de(){const Le=function ce(Le){const he={},we={__esModule:!0,initializeApp:function Ie(Be,z={}){const ve=P.initializeApp(Be,z);if((0,l.r3)(he,ve.name))return he[ve.name];const Y=new Le(ve,we);return he[ve.name]=Y,Y},app:ze,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(Be){const z=Be.name,ve=z.replace("-compat","");if(P._registerComponent(Be)&&"PUBLIC"===Be.type){const Y=(se=ze())=>{if("function"!=typeof se[ve])throw ie.create("invalid-app-argument",{appName:z});return se[ve]()};void 0!==Be.serviceProps&&(0,l.ZB)(Y,Be.serviceProps),we[ve]=Y,Le.prototype[ve]=function(...se){return this._getService.bind(this,z).apply(this,Be.multipleInstances?se:[])}}return"PUBLIC"===Be.type?we[ve]:null},removeApp:function Ue(Be){delete he[Be]},useAsService:function Ne(Be,z){return"serverAuth"===z?null:z},modularAPIs:P}};function ze(Be){if(!(0,l.r3)(he,Be=Be||P._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Be});return he[Be]}return we.default=we,Object.defineProperty(we,"apps",{get:function ge(){return Object.keys(he).map(Be=>he[Be])}}),ze.App=Le,we}(ae);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function he(we){(0,l.ZB)(Le,we)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Le}(),$=new le.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=G;!function xe(Le){(0,P.registerVersion)("@firebase/app-compat","0.2.0",Le)}()},9681:(Ye,ye,F)=>{F.r(ye),F.d(ye,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>br,_DEFAULT_ENTRY_NAME:()=>St,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>$t,_apps:()=>Wt,_clearComponents:()=>Li,_components:()=>an,_getProvider:()=>Lt,_registerComponent:()=>yi,_removeServiceInstance:()=>kt,deleteApp:()=>ut,getApp:()=>Bi,getApps:()=>ar,initializeApp:()=>$r,onLog:()=>Wn,registerVersion:()=>_n,setLogLevel:()=>us});var l=F(5861),J=F(4859),P=F(1877),le=F(2090),ae=F(8766);class fe{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function ie(We){const Ee=We.getComponent();return"VERSION"===(null==Ee?void 0:Ee.type)}(He)){const vt=He.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(He=>He).join(" ")}}const ce="@firebase/app",G=new P.Yd("@firebase/app"),St="[DEFAULT]",Ge={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wt=new Map,an=new Map;function Zt(We,Ee){try{We.container.addComponent(Ee)}catch(He){G.debug(`Component ${Ee.name} failed to register with FirebaseApp ${We.name}`,He)}}function $t(We,Ee){We.container.addOrOverwriteComponent(Ee)}function yi(We){const Ee=We.name;if(an.has(Ee))return G.debug(`There were multiple attempts to register component ${Ee}.`),!1;an.set(Ee,We);for(const He of Wt.values())Zt(He,We);return!0}function Lt(We,Ee){const He=We.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),We.container.getProvider(Ee)}function kt(We,Ee,He=St){Lt(We,Ee).clearInstance(He)}function Li(){an.clear()}const vi=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bi{constructor(Ee,He,vt){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}const br="9.15.0";function $r(We,Ee={}){let He=We;"object"!=typeof Ee&&(Ee={name:Ee});const vt=Object.assign({name:St,automaticDataCollectionEnabled:!1},Ee),yt=vt.name;if("string"!=typeof yt||!yt)throw vi.create("bad-app-name",{appName:String(yt)});if(He||(He=(0,le.aH)()),!He)throw vi.create("no-options");const Ft=Wt.get(yt);if(Ft){if((0,le.vZ)(He,Ft.options)&&(0,le.vZ)(vt,Ft.config))return Ft;throw vi.create("duplicate-app",{appName:yt})}const j=new J.H0(yt);for(const q of an.values())j.addComponent(q);const U=new bi(He,vt,j);return Wt.set(yt,U),U}function Bi(We=St){const Ee=Wt.get(We);if(!Ee&&We===St)return $r();if(!Ee)throw vi.create("no-app",{appName:We});return Ee}function ar(){return Array.from(Wt.values())}function ut(We){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(We){const Ee=We.name;Wt.has(Ee)&&(Wt.delete(Ee),yield Promise.all(We.container.getProviders().map(He=>He.delete())),We.isDeleted=!0)})).apply(this,arguments)}function _n(We,Ee,He){var vt;let yt=null!==(vt=Ge[We])&&void 0!==vt?vt:We;He&&(yt+=`-${He}`);const Ft=yt.match(/\s|\//),j=Ee.match(/\s|\//);if(Ft||j){const U=[`Unable to register library "${yt}" with version "${Ee}":`];return Ft&&U.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),Ft&&j&&U.push("and"),j&&U.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void G.warn(U.join(" "))}yi(new J.wA(`${yt}-version`,()=>({library:yt,version:Ee}),"VERSION"))}function Wn(We,Ee){if(null!==We&&"function"!=typeof We)throw vi.create("invalid-log-argument");(0,P.Am)(We,Ee)}function us(We){(0,P.Ub)(We)}const xn="firebase-heartbeat-store";let Wi=null;function Vs(){return Wi||(Wi=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(We,Ee)=>{0===Ee&&We.createObjectStore(xn)}}).catch(We=>{throw vi.create("idb-open",{originalErrorMessage:We.message})})),Wi}function tt(){return(tt=(0,l.Z)(function*(We){try{return(yield Vs()).transaction(xn).objectStore(xn).get(ai(We))}catch(Ee){if(Ee instanceof le.ZR)G.warn(Ee.message);else{const He=vi.create("idb-get",{originalErrorMessage:null==Ee?void 0:Ee.message});G.warn(He.message)}}})).apply(this,arguments)}function dt(We,Ee){return oi.apply(this,arguments)}function oi(){return(oi=(0,l.Z)(function*(We,Ee){try{const vt=(yield Vs()).transaction(xn,"readwrite");return yield vt.objectStore(xn).put(Ee,ai(We)),vt.done}catch(He){if(He instanceof le.ZR)G.warn(He.message);else{const vt=vi.create("idb-set",{originalErrorMessage:null==He?void 0:He.message});G.warn(vt.message)}}})).apply(this,arguments)}function ai(We){return`${We.name}!${We.options.appId}`}class li{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new Us(He),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Ee=this;return(0,l.Z)(function*(){const vt=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=ci();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==yt&&!Ee._heartbeatsCache.heartbeats.some(Ft=>Ft.date===yt))return Ee._heartbeatsCache.heartbeats.push({date:yt,agent:vt}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(Ft=>{const j=new Date(Ft.date).valueOf();return Date.now()-j<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,l.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const He=ci(),{heartbeatsToSend:vt,unsentEntries:yt}=function st(We,Ee=1024){const He=[];let vt=We.slice();for(const yt of We){const Ft=He.find(j=>j.agent===yt.agent);if(Ft){if(Ft.dates.push(yt.date),Mt(He)>Ee){Ft.dates.pop();break}}else if(He.push({agent:yt.agent,dates:[yt.date]}),Mt(He)>Ee){He.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:He,unsentEntries:vt}}(Ee._heartbeatsCache.heartbeats),Ft=(0,le.L)(JSON.stringify({version:2,heartbeats:vt}));return Ee._heartbeatsCache.lastSentHeartbeatDate=He,yt.length>0?(Ee._heartbeatsCache.heartbeats=yt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),Ft})()}}function ci(){return(new Date).toISOString().substring(0,10)}class Us{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,l.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function Ut(We){return tt.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var He=this;return(0,l.Z)(function*(){var vt;if(yield He._canUseIndexedDBPromise){const Ft=yield He.read();return dt(He.app,{lastSentHeartbeatDate:null!==(vt=Ee.lastSentHeartbeatDate)&&void 0!==vt?vt:Ft.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var He=this;return(0,l.Z)(function*(){var vt;if(yield He._canUseIndexedDBPromise){const Ft=yield He.read();return dt(He.app,{lastSentHeartbeatDate:null!==(vt=Ee.lastSentHeartbeatDate)&&void 0!==vt?vt:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...Ee.heartbeats]})}})()}}function Mt(We){return(0,le.L)(JSON.stringify({version:2,heartbeats:We})).length}!function zr(We){yi(new J.wA("platform-logger",Ee=>new fe(Ee),"PRIVATE")),yi(new J.wA("heartbeat",Ee=>new li(Ee),"PRIVATE")),_n(ce,"0.9.0",We),_n(ce,"0.9.0","esm2017"),_n("fire-js","")}("")},4859:(Ye,ye,F)=>{F.d(ye,{H0:()=>ce,wA:()=>P,zt:()=>ae});var l=F(5861),J=F(2090);class P{constructor(G,$,te){this.name=G,this.instanceFactory=$,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const le="[DEFAULT]";class ae{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const te=new J.BH;if(this.instancesDeferred.set($,te),this.isInitialized($)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:$});Pe&&te.resolve(Pe)}catch(Pe){}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const te=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Pe=null!==($=null==G?void 0:G.optional)&&void 0!==$&&$;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(xe){if(Pe)return null;throw xe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ie(de){return"EAGER"===de.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:le})}catch($){}for(const[$,te]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier($);try{const xe=this.getOrInitializeService({instanceIdentifier:Pe});te.resolve(xe)}catch(xe){}}}}clearInstance(G=le){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...$.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=le){return this.instances.has(G)}getOptions(G=le){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,te=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:te,options:$});for(const[xe,Me]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(xe)&&Me.resolve(Pe);return Pe}onInit(G,$){var te;const Pe=this.normalizeInstanceIdentifier($),xe=null!==(te=this.onInitCallbacks.get(Pe))&&void 0!==te?te:new Set;xe.add(G),this.onInitCallbacks.set(Pe,xe);const Me=this.instances.get(Pe);return Me&&G(Me,Pe),()=>{xe.delete(G)}}invokeOnInitCallbacks(G,$){const te=this.onInitCallbacks.get($);if(te)for(const Pe of te)try{Pe(G,$)}catch(xe){}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let te=this.instances.get(G);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(de=G,de===le?void 0:de),options:$}),this.instances.set(G,te),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(te,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,te)}catch(Pe){}var de;return te||null}normalizeInstanceIdentifier(G=le){return this.component?this.component.multipleInstances?G:le:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new ae(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(Ye,ye,F)=>{F.d(ye,{Am:()=>de,Ub:()=>ce,Yd:()=>ie,in:()=>J});const l=[];var J=(()=>{return(G=J||(J={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",J;var G})();const P={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},le=J.INFO,ae={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},fe=(G,$,...te)=>{if($<G.logLevel)return;const Pe=(new Date).toISOString(),xe=ae[$];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[xe](`[${Pe}]  ${G.name}:`,...te)};class ie{constructor($){this.name=$,this._logLevel=le,this._logHandler=fe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in J))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?P[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...$),this._logHandler(this,J.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...$),this._logHandler(this,J.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,J.INFO,...$),this._logHandler(this,J.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,J.WARN,...$),this._logHandler(this,J.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...$),this._logHandler(this,J.ERROR,...$)}}function ce(G){l.forEach($=>{$.setLogLevel(G)})}function de(G,$){for(const te of l){let Pe=null;$&&$.level&&(Pe=P[$.level]),te.userLogHandler=null===G?null:(xe,Me,...Le)=>{const he=Le.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Ue){return null}}).filter(we=>we).join(" ");Me>=(null!=Pe?Pe:xe.logLevel)&&G({level:J[Me].toLowerCase(),message:he,args:Le,type:xe.name})}}}},259:(Ye,ye,F)=>{F.d(ye,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.15.0","app")},9260:(Ye,ye,F)=>{F.d(ye,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(Ye,ye,F)=>{F.r(ye);var l=F(5861),J=F(3942),P=F(2090),le=F(9681),ae=F(1877),fe=F(655),ie=F(4859);const Me=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new ae.Yd("@firebase/auth");function ze(_,...f){Ue.logLevel<=ae.in.ERROR&&Ue.error(`Auth (${le.SDK_VERSION}): ${_}`,...f)}function Ie(_,...f){throw Be(_,...f)}function ge(_,...f){return Be(_,...f)}function De(_,f,g){const b=Object.assign(Object.assign({},Le()),{[f]:g});return new P.LL("auth","Firebase",b).create(f,{appName:_.name})}function Ne(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ie(_,"argument-error"),De(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return he.create(_,...f)}function z(_,f,...g){if(!_)throw Be(f,...g)}function ve(_){const f="INTERNAL ASSERTION FAILED: "+_;throw ze(f),new Error(f)}function Y(_,f){_||ve(f)}const se=new Map;function ee(_){Y(_ instanceof Function,"Expected a class definition");let f=se.get(_);return f?(Y(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,se.set(_,f),f)}function Re(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function nt(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Wt{constructor(f,g){this.shortDelay=f,this.longDelay=g,Y(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function St(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(nt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function an(_,f){Y(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Zt{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $t={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yi=new Wt(3e4,6e4);function Lt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function kt(_,f,g,b){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(_,f,g,b,S={}){return vr(_,S,(0,l.Z)(function*(){let k={},W={};b&&("GET"===f?W=b:k={body:JSON.stringify(b)});const pe=(0,P.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Oe=yield _._getAdditionalHeaders();return Oe["Content-Type"]="application/json",_.languageCode&&(Oe["X-Firebase-Locale"]=_.languageCode),Zt.fetch()($r(_,_.config.apiHost,g,pe),Object.assign({method:f,headers:Oe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function vr(_,f,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},$t),f);try{const S=new Bi(_),k=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const W=yield k.json();if("needConfirmation"in W)throw ar(_,"account-exists-with-different-credential",W);if(k.ok&&!("errorMessage"in W))return W;{const pe=k.ok?W.errorMessage:W.error.message,[Oe,$e]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw ar(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Oe)throw ar(_,"email-already-in-use",W);if("USER_DISABLED"===Oe)throw ar(_,"user-disabled",W);const lt=b[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw De(_,lt,$e);Ie(_,lt)}}catch(S){if(S instanceof P.ZR)throw S;Ie(_,"network-request-failed")}})).apply(this,arguments)}function bi(_,f,g,b){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(_,f,g,b,S={}){const k=yield kt(_,f,g,b,S);return"mfaPendingCredential"in k&&Ie(_,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function $r(_,f,g,b){const S=`${f}${g}?${b}`;return _.config.emulator?an(_.config,S):`${_.config.apiScheme}://${S}`}class Bi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ge(this.auth,"network-request-failed")),yi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ar(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const S=ge(_,f,b);return S.customData._tokenResponse=g,S}function Ci(){return(Ci=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function _n(_,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function us(_,f){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Un(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Vs(){return(Vs=(0,l.Z)(function*(_,f=!1){const g=(0,P.m9)(_),b=yield g.getIdToken(f),S=tt(b);z(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,W=null==k?void 0:k.sign_in_provider;return{claims:S,token:b,authTime:Un(Ut(S.auth_time)),issuedAtTime:Un(Ut(S.iat)),expirationTime:Un(Ut(S.exp)),signInProvider:W||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function Ut(_){return 1e3*Number(_)}function tt(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return ze("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,P.tV)(g);return S?JSON.parse(S):(ze("Failed to decode base64 JWT payload"),null)}catch(S){return ze("Caught error parsing JWT payload as JSON",null==S?void 0:S.toString()),null}}function oi(_,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof P.ZR&&Bt(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Bt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class ds{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class li{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Un(this.lastLoginAt),this.creationTime=Un(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ci(_){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),S=yield oi(_,us(g,{idToken:b}));z(null==S?void 0:S.users.length,g,"internal-error");const k=S.users[0];_._notifyReloadListener(k);const W=(null===(f=k.providerUserInfo)||void 0===f?void 0:f.length)?We(k.providerUserInfo):[],pe=zr(_.providerData,W),lt=!!_.isAnonymous&&!(_.email&&k.passwordHash||(null==pe?void 0:pe.length)),at={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:pe,metadata:new li(k.createdAt,k.lastLoginAt),isAnonymous:lt};Object.assign(_,at)})).apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(_){const f=(0,P.m9)(_);yield ci(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function zr(_,f){return[..._.filter(b=>!f.some(S=>S.providerId===b.providerId)),...f]}function We(_){return _.map(f=>{var{providerId:g}=f,b=(0,fe._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function He(){return(He=(0,l.Z)(function*(_,f){const g=yield vr(_,{},(0,l.Z)(function*(){const b=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:k}=_.config,W=$r(_,S,"/v1/token",`key=${k}`),pe=yield _._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(W,{method:"POST",headers:pe,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){z(f.idToken,"internal-error"),z(void 0!==f.idToken,"internal-error"),z(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function dt(_){const f=tt(_);return z(f,"internal-error"),z(void 0!==f.exp,"internal-error"),z(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,l.Z)(function*(){return z(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:W}=yield function Ee(_,f){return He.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(S,k,Number(W))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:S,expirationTime:k}=g,W=new vt;return b&&(z("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),S&&(z("string"==typeof S,"internal-error",{appName:f}),W.accessToken=S),k&&(z("number"==typeof k,"internal-error",{appName:f}),W.expirationTime=k),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new vt,this.toJSON())}_performRefresh(){return ve("not implemented")}}function yt(_,f){z("string"==typeof _||void 0===_,"internal-error",{appName:f})}class Ft{constructor(f){var{uid:g,auth:b,stsTokenManager:S}=f,k=(0,fe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ds(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new li(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,l.Z)(function*(){const b=yield oi(g,g.stsTokenManager.getToken(g.auth,f));return z(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function Wi(_){return Vs.apply(this,arguments)}(this,f)}reload(){return function Us(_){return Mt.apply(this,arguments)}(this)}_assign(f){this!==f&&(z(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ft(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,l.Z)(function*(){let S=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield ci(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,l.Z)(function*(){const g=yield f.getIdToken();return yield oi(f,function ut(_,f){return Ci.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,S,k,W,pe,Oe,$e,lt;const at=null!==(b=g.displayName)&&void 0!==b?b:void 0,ii=null!==(S=g.email)&&void 0!==S?S:void 0,Br=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Pc=null!==(W=g.photoURL)&&void 0!==W?W:void 0,mp=null!==(pe=g.tenantId)&&void 0!==pe?pe:void 0,wh=null!==(Oe=g._redirectEventId)&&void 0!==Oe?Oe:void 0,pi=null!==($e=g.createdAt)&&void 0!==$e?$e:void 0,Eh=null!==(lt=g.lastLoginAt)&&void 0!==lt?lt:void 0,{uid:Ga,emailVerified:Nc,isAnonymous:Ul,providerData:ra,stsTokenManager:On}=g;z(Ga&&On,f,"internal-error");const km=vt.fromJSON(this.name,On);z("string"==typeof Ga,f,"internal-error"),yt(at,f.name),yt(ii,f.name),z("boolean"==typeof Nc,f,"internal-error"),z("boolean"==typeof Ul,f,"internal-error"),yt(Br,f.name),yt(Pc,f.name),yt(mp,f.name),yt(wh,f.name),yt(pi,f.name),yt(Eh,f.name);const id=new Ft({uid:Ga,auth:f,email:ii,emailVerified:Nc,displayName:at,isAnonymous:Ul,photoURL:Pc,phoneNumber:Br,tenantId:mp,stsTokenManager:km,createdAt:pi,lastLoginAt:Eh});return ra&&Array.isArray(ra)&&(id.providerData=ra.map(Dh=>Object.assign({},Dh))),wh&&(id._redirectEventId=wh),id}static _fromIdTokenResponse(f,g,b=!1){return(0,l.Z)(function*(){const S=new vt;S.updateFromServerResponse(g);const k=new Ft({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:b});return yield ci(k),k})()}}const U=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,b){var S=this;return(0,l.Z)(function*(){S.storage[g]=b})()}_get(g){var b=this;return(0,l.Z)(function*(){const S=b.storage[g];return void 0===S?null:S})()}_remove(g){var b=this;return(0,l.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function q(_,f,g){return`firebase:${_}:${f}:${g}`}class be{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:S,name:k}=this.auth;this.fullUserKey=q(this.userKey,S.apiKey,k),this.fullPersistenceKey=q("persistence",S.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Ft._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,l.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,l.Z)(function*(){if(!g.length)return new be(ee(U),f,b);const S=(yield Promise.all(g.map(function(){var $e=(0,l.Z)(function*(lt){if(yield lt._isAvailable())return lt});return function(lt){return $e.apply(this,arguments)}}()))).filter($e=>$e);let k=S[0]||ee(U);const W=q(b,f.config.apiKey,f.name);let pe=null;for(const $e of g)try{const lt=yield $e._get(W);if(lt){const at=Ft._fromJSON(f,lt);$e!==k&&(pe=at),k=$e;break}}catch(lt){}const Oe=S.filter($e=>$e._shouldAllowMigration);return k._shouldAllowMigration&&Oe.length?(k=Oe[0],pe&&(yield k._set(W,pe.toJSON())),yield Promise.all(g.map(function(){var $e=(0,l.Z)(function*(lt){if(lt!==k)try{yield lt._remove(W)}catch(at){}});return function(lt){return $e.apply(this,arguments)}}())),new be(k,f,b)):new be(k,f,b)})()}}function oe(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(jt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(qe(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Hn(f))return"Blackberry";if(pt(f))return"Webos";if(bt(f))return"Safari";if((f.includes("chrome/")||Xt(f))&&!f.includes("edge/"))return"Chrome";if(Kt(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function qe(_=(0,P.z$)()){return/firefox\//i.test(_)}function bt(_=(0,P.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Xt(_=(0,P.z$)()){return/crios\//i.test(_)}function jt(_=(0,P.z$)()){return/iemobile/i.test(_)}function Kt(_=(0,P.z$)()){return/android/i.test(_)}function Hn(_=(0,P.z$)()){return/blackberry/i.test(_)}function pt(_=(0,P.z$)()){return/webos/i.test(_)}function cn(_=(0,P.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function hs(_=(0,P.z$)()){return cn(_)||Kt(_)||pt(_)||Hn(_)||/windows phone/i.test(_)||jt(_)}function To(_,f=[]){let g;switch(_){case"Browser":g=oe((0,P.z$)());break;case"Worker":g=`${oe((0,P.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${b}`}class Vi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const b=k=>new Promise((W,pe)=>{try{W(f(k))}catch(Oe){pe(Oe)}});b.onAbort=g,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,l.Z)(function*(){if(g.auth.currentUser===f)return;const b=[];try{for(const S of g.queue)yield S(f),S.onAbort&&b.push(S.onAbort)}catch(S){b.reverse();for(const k of b)try{k()}catch(W){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==S?void 0:S.message})}})()}}class je{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jt(this),this.idTokenSubscription=new Jt(this),this.beforeStateQueue=new Vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=ee(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,k;if(!b._deleted&&(b.persistenceManager=yield be.create(b,f),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,l.Z)(function*(){var b;const S=yield g.assertedPersistence.getCurrentUser();let k=S,W=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const pe=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Oe=null==k?void 0:k._redirectEventId,$e=yield g.tryRedirectSignIn(f);(!pe||pe===Oe)&&(null==$e?void 0:$e.user)&&(k=$e.user,W=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(W)try{yield g.beforeStateQueue.runMiddleware(k)}catch(pe){k=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(pe))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return z(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(f){var g=this;return(0,l.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,l.Z)(function*(){try{yield ci(f)}catch(b){if("auth/network-request-failed"!==(null==b?void 0:b.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ge(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,l.Z)(function*(){const b=f?(0,P.m9)(f):null;return b&&z(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f,g=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return f&&z(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,l.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&ee(f)||g._popupRedirectResolver;z(b,g,"argument-error"),g.redirectPersistenceManager=yield be.create(g,[ee(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,l.Z)(function*(){var b,S;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,l.Z)(function*(){if(f===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,S){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return z(W,this,"internal-error"),W.then(()=>k(this.currentUser)),"function"==typeof g?f.addObserver(g,b,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=To(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function rt(_){return(0,P.m9)(_)}class Jt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(g=>this.observer=g)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wr(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Er(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class lr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,g){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function An(_,f){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:resetPassword",Lt(_,f))})).apply(this,arguments)}function ba(_,f){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function sl(_,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:update",Lt(_,f))})).apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(_,f){return bi(_,"POST","/v1/accounts:signInWithPassword",Lt(_,f))})).apply(this,arguments)}function ps(_,f){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:sendOobCode",Lt(_,f))})).apply(this,arguments)}function tn(_,f){return ol.apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(_,f){return ps(_,f)})).apply(this,arguments)}function Ca(_,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(_,f){return ps(_,f)})).apply(this,arguments)}function ur(_,f){return al.apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(_,f){return ps(_,f)})).apply(this,arguments)}function pu(_,f){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(_,f){return ps(_,f)})).apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(_,f){return bi(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,f))})).apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(_,f){return bi(_,"POST","/v1/accounts:signInWithEmailLink",Lt(_,f))})).apply(this,arguments)}class ui extends lr{constructor(f,g,b,S=null){super("password",b),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new ui(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new ui(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function Sn(_,f){return js.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function xr(_,f){return Mo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ie(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return ba(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Lf(_,f){return gu.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Ie(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function gs(_,f){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(_,f){return bi(_,"POST","/v1/accounts:signInWithIdp",Lt(_,f))})).apply(this,arguments)}class Yr extends lr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Yr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S}=g,k=(0,fe._T)(g,["providerId","signInMethod"]);if(!b||!S)return null;const W=new Yr(b,S);return W.idToken=k.idToken||void 0,W.accessToken=k.accessToken||void 0,W.secret=k.secret,W.nonce=k.nonce,W.pendingToken=k.pendingToken||null,W}_getIdTokenResponse(f){return gs(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,gs(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,gs(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,P.xO)(g)}return f}}function Vf(_,f){return _u.apply(this,arguments)}function _u(){return(_u=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:sendVerificationCode",Lt(_,f))})).apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(_,f){return bi(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,f))})).apply(this,arguments)}function yu(){return(yu=(0,l.Z)(function*(_,f){const g=yield bi(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,f));if(g.temporaryProof)throw ar(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Hf={USER_NOT_FOUND:"user-not-found"};function vu(){return(vu=(0,l.Z)(function*(_,f){return bi(_,"POST","/v1/accounts:signInWithPhoneNumber",Lt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Hf)})).apply(this,arguments)}class Ro extends lr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Ro({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Ro({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function ac(_,f){return ms.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Uf(_,f){return yu.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function jf(_,f){return vu.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:k}=f;return b||g||S||k?new Ro({verificationId:g,verificationCode:b,phoneNumber:S,temporaryProof:k}):null}}class ll{constructor(f){var g,b,S,k,W,pe;const Oe=(0,P.zd)((0,P.pd)(f)),$e=null!==(g=Oe.apiKey)&&void 0!==g?g:null,lt=null!==(b=Oe.oobCode)&&void 0!==b?b:null,at=function bu(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Oe.mode)&&void 0!==S?S:null);z($e&&lt&&at,"argument-error"),this.apiKey=$e,this.operation=at,this.code=lt,this.continueUrl=null!==(k=Oe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(W=Oe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(pe=Oe.tenantId)&&void 0!==pe?pe:null}static parseLink(f){const g=function wa(_){const f=(0,P.zd)((0,P.pd)(_)).link,g=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,b=(0,P.zd)((0,P.pd)(_)).deep_link_id;return(b?(0,P.zd)((0,P.pd)(b)).link:null)||b||g||f||_}(f);try{return new ll(g)}catch(b){return null}}}let wu=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return ui._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const S=ll.parseLink(b);return z(S,"argument-error"),ui._fromEmailAndCode(g,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class di{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Gs extends di{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ar extends Gs{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return z("providerId"in g&&"signInMethod"in g,"argument-error"),Yr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return z(f.idToken||f.accessToken,"argument-error"),Yr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ar.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ar.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:k,nonce:W,providerId:pe}=f;if(!b&&!S&&!g&&!k||!pe)return null;try{return new Ar(pe)._credential({idToken:g,accessToken:b,nonce:W,pendingToken:k})}catch(Oe){return null}}}let Oo=(()=>{class _ extends Gs{constructor(){super("facebook.com")}static credential(g){return Yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Eu=(()=>{class _ extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return Yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:S}=g;if(!b&&!S)return null;try{return _.credential(b,S)}catch(k){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Zd=(()=>{class _ extends Gs{constructor(){super("github.com")}static credential(g){return Yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class $s extends lr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return gs(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,gs(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,gs(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:S,pendingToken:k}=g;return b&&S&&k&&b===S?new $s(b,k):null}static _create(f,g){return new $s(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Di extends di{constructor(f){z(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Di.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Di.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=$s.fromJSON(f);return z(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return $s._create(b,g)}catch(S){return null}}}let Du=(()=>{class _ extends Gs{constructor(){super("twitter.com")}static credential(g,b){return Yr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=g;if(!b||!S)return null;try{return _.credential(b,S)}catch(k){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function bn(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(_,f){return bi(_,"POST","/v1/accounts:signUp",Lt(_,f))})).apply(this,arguments)}class Yi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,S=!1){return(0,l.Z)(function*(){const k=yield Ft._fromIdTokenResponse(f,b,S),W=lc(b);return new Yi({user:k,providerId:W,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const S=lc(b);return new Yi({user:f,providerId:S,_tokenResponse:b,operationType:g})})()}}function lc(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function cc(){return(cc=(0,l.Z)(function*(_){var f;const g=rt(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Yi({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield bn(g,{returnSecureToken:!0}),S=yield Yi._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class Fo extends P.ZR{constructor(f,g,b,S){var k;super(g.code,g.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Fo.prototype),this.customData={appName:f.name,tenantId:null!==(k=f.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,S){return new Fo(f,g,b,S)}}function uc(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Fo._fromErrorAndOperation(_,k,f,b):k})}function Sr(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function nn(){return(nn=(0,l.Z)(function*(_,f){const g=(0,P.m9)(_);yield Yt(!0,g,f);const{providerUserInfo:b}=yield _n(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=Sr(b||[]);return g.providerData=g.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ea(_,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(_,f,g=!1){const b=yield oi(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Yi._forOperation(_,"link",b)})).apply(this,arguments)}function Yt(_,f,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(_,f,g){yield ci(f);const S=!1===_?"provider-already-linked":"no-such-provider";z(Sr(f.providerData).has(g)===_,f.auth,S)})).apply(this,arguments)}function cl(_,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(_,f,g=!1){const{auth:b}=_,S="reauthenticate";try{const k=yield oi(_,uc(b,S,f,_),g);z(k.idToken,b,"internal-error");const W=tt(k.idToken);z(W,b,"internal-error");const{sub:pe}=W;return z(_.uid===pe,b,"user-mismatch"),Yi._forOperation(_,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Ie(b,"user-mismatch"),k}})).apply(this,arguments)}function Yn(_,f){return dc.apply(this,arguments)}function dc(){return(dc=(0,l.Z)(function*(_,f,g=!1){const b="signIn",S=yield uc(_,b,f),k=yield Yi._fromIdTokenResponse(_,b,S);return g||(yield _._updateCurrentUser(k.user)),k})).apply(this,arguments)}function yn(_,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(_,f){return Yn(rt(_),f)})).apply(this,arguments)}function ti(_,f){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(_,f){const g=(0,P.m9)(_);return yield Yt(!1,g,f.providerId),Ea(g,f)})).apply(this,arguments)}function qr(_,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(_,f){return cl((0,P.m9)(_),f)})).apply(this,arguments)}function hr(_,f){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(_,f){return bi(_,"POST","/v1/accounts:signInWithCustomToken",Lt(_,f))})).apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(_,f){const g=rt(_),b=yield hr(g,{token:f,returnSecureToken:!0}),S=yield Yi._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class vs{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?hc._fromServerResponse(f,g):Ie(f,"internal-error")}}class hc extends vs{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new hc(g)}}function Aa(_,f,g){var b;z((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),z(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(z(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(z(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ul(){return(ul=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_),S={requestType:"PASSWORD_RESET",email:f};g&&Aa(b,S,g),yield Ca(b,S)})).apply(this,arguments)}function pc(){return(pc=(0,l.Z)(function*(_,f,g){yield An((0,P.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ae(){return(Ae=(0,l.Z)(function*(_,f){yield sl((0,P.m9)(_),{oobCode:f})})).apply(this,arguments)}function Pt(_,f){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(_,f){const g=(0,P.m9)(_),b=yield An(g,{oobCode:f}),S=b.requestType;switch(z(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(b.mfaInfo,g,"internal-error");default:z(b.email,g,"internal-error")}let k=null;return b.mfaInfo&&(k=vs._fromServerResponse(rt(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function hl(){return(hl=(0,l.Z)(function*(_,f){const{data:g}=yield Pt((0,P.m9)(_),f);return g.email})).apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(_,f,g){const b=rt(_),S=yield bn(b,{returnSecureToken:!0,email:f,password:g}),k=yield Yi._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_),S={requestType:"EMAIL_SIGNIN",email:f};z(g.handleCodeInApp,b,"argument-error"),g&&Aa(b,S,g),yield ur(b,S)})).apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_),S=wu.credentialWithLink(f,g||Re());return z(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),yn(b,S)})).apply(this,arguments)}function hi(_,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:createAuthUri",Lt(_,f))})).apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(_,f){const b={identifier:f,continueUri:nt()?Re():"http://localhost"},{signinMethods:S}=yield hi((0,P.m9)(_),b);return S||[]})).apply(this,arguments)}function yc(){return(yc=(0,l.Z)(function*(_,f){const g=(0,P.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Aa(g.auth,S,f);const{email:k}=yield tn(g.auth,S);k!==_.email&&(yield _.reload())})).apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Aa(b.auth,k,g);const{email:W}=yield pu(b.auth,k);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function vc(_,f){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(_,f){return kt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _l(){return(_l=(0,l.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,P.m9)(_),k={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},W=yield oi(b,vc(b.auth,k));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const pe=b.providerData.find(({providerId:Oe})=>"password"===Oe);pe&&(pe.displayName=b.displayName,pe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function yl(_,f,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(_,f,g){const{auth:b}=_,k={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(k.email=f),g&&(k.password=g);const W=yield oi(_,ba(b,k));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Bo{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class Mu extends Bo{constructor(f,g,b,S){super(f,g,b),this.username=S}}class vl extends Bo{constructor(f,g){super(f,"facebook.com",g)}}class Ui extends Mu{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Qd extends Bo{constructor(f,g){super(f,"google.com",g)}}class bc extends Mu{constructor(f,g,b){super(f,"twitter.com",g,b)}}function qn(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Tu(_){var f,g;if(!_)return null;const{providerId:b}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},k=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const W=null===(g=null===(f=tt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Bo(k,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new vl(k,S);case"github.com":return new Ui(k,S);case"google.com":return new Qd(k,S);case"twitter.com":return new bc(k,S,_.screenName||null);case"custom":case"anonymous":return new Bo(k,null);default:return new Bo(k,b,S)}}(g)}class Kr{constructor(f,g,b){this.type=f,this.credential=g,this.auth=b}static _fromIdtoken(f,g){return new Kr("enroll",f,g)}static _fromMfaPendingCredential(f){return new Kr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Kr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return Kr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Qs{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=rt(f),S=g.customData._serverResponse,k=(S.mfaInfo||[]).map(pe=>vs._fromServerResponse(b,pe));z(S.mfaPendingCredential,b,"internal-error");const W=Kr._fromMfaPendingCredential(S.mfaPendingCredential);return new Qs(W,k,function(){var pe=(0,l.Z)(function*(Oe){const $e=yield Oe._process(b,W);delete S.mfaInfo,delete S.mfaPendingCredential;const lt=Object.assign(Object.assign({},S),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(g.operationType){case"signIn":const at=yield Yi._fromIdTokenResponse(b,g.operationType,lt);return yield b._updateCurrentUser(at.user),at;case"reauthenticate":return z(g.user,b,"internal-error"),Yi._forOperation(g.user,g.operationType,lt);default:Ie(b,"internal-error")}});return function(Oe){return pe.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,l.Z)(function*(){return g.signInResolver(f)})()}}function ku(_,f){return kt(_,"POST","/v2/accounts/mfaEnrollment:start",Lt(_,f))}class Vo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>vs._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Vo(f)}getSession(){var f=this;return(0,l.Z)(function*(){return Kr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var b=this;return(0,l.Z)(function*(){const S=f,k=yield b.getSession(),W=yield oi(b.user,S._process(b.user.auth,k,g));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var g=this;return(0,l.Z)(function*(){const b="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),k=yield oi(g.user,function Xs(_,f){return kt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(_,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==b),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(W){if("auth/user-token-expired"!==(null==W?void 0:W.code))throw W}})()}}const bl=new WeakMap,Mr="__sak";class Ia{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Mr,"1"),this.storage.removeItem(Mr),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const xt=(()=>{class _ extends Ia{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wf(){const _=(0,P.z$)();return bt(_)||cn(_)}()&&function ei(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=hs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),k=this.localCache[b];S!==k&&g(b,k,S)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((pe,Oe,$e)=>{this.notifyListeners(pe,$e)});const S=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(S);if(g.newValue!==pe)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!b)return}const k=()=>{const pe=this.storage.getItem(S);!b&&this.localCache[S]===pe||this.notifyListeners(S,pe)},W=this.storage.getItem(S);!function va(){return(0,P.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var S=()=>super._set,k=this;return(0,l.Z)(function*(){yield S().call(k,g,b),k.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,S=this;return(0,l.Z)(function*(){const k=yield b().call(S,g);return S.localCache[g]=JSON.stringify(k),k})()}_remove(g){var b=()=>super._remove,S=this;return(0,l.Z)(function*(){yield b().call(S,g),delete S.localCache[g]})()}}return _.type="LOCAL",_})(),ln=(()=>{class _ extends Ia{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let Pu=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(k=>k.isListeningto(g));if(b)return b;const S=new _(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,l.Z)(function*(){const S=g,{eventId:k,eventType:W,data:pe}=S.data,Oe=b.handlersMap[W];if(!(null==Oe?void 0:Oe.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:W});const $e=Array.from(Oe).map(function(){var at=(0,l.Z)(function*(ii){return ii(S.origin,pe)});return function(ii){return at.apply(this,arguments)}}()),lt=yield function Ta(_){return Promise.all(_.map(function(){var f=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}($e);S.ports[0].postMessage({status:"done",eventId:k,eventType:W,response:lt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Ho(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class Cs{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var S=this;return(0,l.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let W,pe;return new Promise((Oe,$e)=>{const lt=Ho("",20);k.port1.start();const at=setTimeout(()=>{$e(new Error("unsupported_event"))},b);pe={messageChannel:k,onMessage(ii){const Br=ii;if(Br.data.eventId===lt)switch(Br.data.status){case"ack":clearTimeout(at),W=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Oe(Br.data.response);break;default:clearTimeout(at),clearTimeout(W),$e(new Error("invalid_response"))}}},S.handlers.add(pe),k.port1.addEventListener("message",pe.onMessage),S.target.postMessage({eventType:f,eventId:lt,data:g},[k.port2])}).finally(()=>{pe&&S.removeMessageHandler(pe)})})()}}function Tn(){return window}function pr(){return void 0!==Tn().WorkerGlobalScope&&"function"==typeof Tn().importScripts}function Nu(){return(Nu=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Ma="firebaseLocalStorageDb",Rr="firebaseLocalStorage",Js="fbase_key";class Qr{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Es(_,f){return _.transaction([Rr],f?"readwrite":"readonly").objectStore(Rr)}function jo(){const _=indexedDB.open(Ma,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(Rr,{keyPath:Js})}catch(S){g(S)}}),_.addEventListener("success",(0,l.Z)(function*(){const b=_.result;b.objectStoreNames.contains(Rr)?f(b):(b.close(),yield function Kn(){const _=indexedDB.deleteDatabase(Ma);return new Qr(_).toPromise()}(),f(yield jo()))}))})}function Ra(_,f,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(_,f,g){const b=Es(_,!0).put({[Js]:f,value:g});return new Qr(b).toPromise()})).apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(_,f){const g=Es(_,!1).get(f),b=yield new Qr(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Oa(_,f){const g=Es(_,!0).delete(f);return new Qr(g).toPromise()}const Or=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield jo()),g.db})()}_withRetries(g){var b=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const k=yield b._openDb();return yield g(k)}catch(k){if(S++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return pr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=Pu._getInstance(function Cl(){return pr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(S,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(S,k){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var b,S;if(g.activeServiceWorker=yield function wt(){return Nu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Cs(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Lu(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield jo();return yield Ra(g,Mr,"1"),yield Oa(g,Mr),!0}catch(g){}return!1})()}_withPendingWrite(g){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(k=>Ra(k,g,b)),S.localCache[g]=b,S.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,l.Z)(function*(){const S=yield b._withRetries(k=>function to(_,f){return Go.apply(this,arguments)}(k,g));return b.localCache[g]=S,S})()}_remove(g){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(S=>Oa(S,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const b=yield g._withRetries(W=>{const pe=Es(W,!1).getAll();return new Qr(pe).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:W,value:pe}of b)k.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(pe)&&(g.notifyListeners(W,pe),S.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!k.has(W)&&(g.notifyListeners(W,null),S.push(W));return S})()}notifyListeners(g,b){this.localCache[g]=b;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function En(_,f){return kt(_,"POST","/v2/accounts/mfaSignIn:start",Lt(_,f))}function Mn(){return(Mn=(0,l.Z)(function*(_){return(yield kt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gr(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=S=>{const k=ge("internal-error");k.customData=S,g(k)},b.type="text/javascript",b.charset="UTF-8",function Ai(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function Ds(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Si=1e12;class Pn{constructor(f){this.auth=f,this.counter=Si,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Fr(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||Si;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Si))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,l.Z)(function*(){var b;return null===(b=g._widgets.get(f||Si))||void 0===b||b.execute(),""})()}}class Fr{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;z(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bu(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wc=Ds("rcb"),vn=new Wt(3e4,6e4);class Uu{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=Tn().grecaptcha)||void 0===f?void 0:f.render)}load(f,g=""){return z(function ka(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Tn().grecaptcha):new Promise((b,S)=>{const k=Tn().setTimeout(()=>{S(ge(f,"network-request-failed"))},vn.get());Tn()[wc]=()=>{Tn().clearTimeout(k),delete Tn()[wc];const pe=Tn().grecaptcha;if(!pe)return void S(ge(f,"internal-error"));const Oe=pe.render;pe.render=($e,lt)=>{const at=Oe($e,lt);return this.counter++,at},this.hostLanguage=g,b(pe)},gr(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:wc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),S(ge(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!!(null===(g=Tn().grecaptcha)||void 0===g?void 0:g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ki{load(f){return(0,l.Z)(function*(){return new Pn(f)})()}clearedOneInstance(){}}const Yf="recaptcha",no={theme:"light",type:"image"};class Xd{constructor(f,g=Object.assign({},no),b){this.parameters=g,this.type=Yf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rt(b),this.isInvisible="invisible"===this.parameters.size,z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;z(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ki:new Uu,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(k=>{const W=pe=>{!pe||(f.tokenChangeListeners.delete(W),k(pe))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=Tn()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){z(nt()&&!pr(),f.auth,"internal-error"),yield function Jr(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function xi(_){return Mn.apply(this,arguments)}(f.auth);z(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hu{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Ro._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function zo(){return(zo=(0,l.Z)(function*(_,f,g){const b=rt(_),S=yield Ti(b,f,(0,P.m9)(g));return new Hu(S,k=>yn(b,k))})).apply(this,arguments)}function ju(){return(ju=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_);yield Yt(!1,b,"phone");const S=yield Ti(b.auth,f,(0,P.m9)(g));return new Hu(S,k=>ti(b,k))})).apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_),S=yield Ti(b.auth,f,(0,P.m9)(g));return new Hu(S,k=>qr(b,k))})).apply(this,arguments)}function Ti(_,f,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(_,f,g){var b;const S=yield g.verify();try{let k;if(z("string"==typeof S,_,"argument-error"),z(g.type===Yf,_,"argument-error"),k="string"==typeof f?{phoneNumber:f}:f,"session"in k){const W=k.session;if("phoneNumber"in k)return z("enroll"===W.type,_,"internal-error"),(yield ku(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{z("signin"===W.type,_,"internal-error");const pe=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return z(pe,_,"missing-multi-factor-info"),(yield En(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Vf(_,{phoneNumber:k.phoneNumber,recaptchaToken:S});return W}}finally{g._reset()}})).apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(_,f){yield Ea((0,P.m9)(_),f)})).apply(this,arguments)}let Wo=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=rt(g)}verifyPhoneNumber(g,b){return Ti(this.auth,g,(0,P.m9)(b))}static credential(g,b){return Ro._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:S}=g;return b&&S?Ro._fromTokenResponse(b,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ro(_,f){return f?ee(f):(z(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class wl extends lr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return gs(f,this._buildIdpRequest())}_linkToIdToken(f,g){return gs(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return gs(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Rt(_){return Yn(_.auth,new wl(_),_.bypassAuthState)}function Gu(_){const{auth:f,user:g}=_;return z(g,f,"internal-error"),cl(g,new wl(_),_.bypassAuthState)}function es(_){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(_){const{auth:f,user:g}=_;return z(g,f,"internal-error"),Ea(g,new wl(_),_.bypassAuthState)})).apply(this,arguments)}class xs{constructor(f,g,b,S,k=!1){this.auth=f,this.resolver=b,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,l.Z)(function*(b,S){f.pendingPromise={resolve:b,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(k){f.reject(k)}});return function(b,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:k,tenantId:W,error:pe,type:Oe}=f;if(pe)return void g.reject(pe);const $e={auth:g.auth,requestUri:b,sessionId:S,tenantId:W||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Oe)($e))}catch(lt){g.reject(lt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Rt;case"linkViaPopup":case"linkViaRedirect":return es;case"reauthViaPopup":case"reauthViaRedirect":return Gu;default:Ie(this.auth,"internal-error")}}resolve(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const As=new Wt(2e3,1e4);function Yo(){return(Yo=(0,l.Z)(function*(_,f,g){const b=rt(_);Ne(_,f,di);const S=ro(b,g);return new zu(b,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Dc(){return(Dc=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_);Ne(b.auth,f,di);const S=ro(b.auth,g);return new zu(b.auth,"reauthViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_);Ne(b.auth,f,di);const S=ro(b.auth,g);return new zu(b.auth,"linkViaPopup",f,S,b).executeNotNull()})).apply(this,arguments)}let zu=(()=>{class _ extends xs{constructor(g,b,S,k,W){super(g,b,k,W),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const b=yield g.execute();return z(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,l.Z)(function*(){Y(1===g.filter.length,"Popup operations only handle one event");const b=Ho();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ge(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,As.get())};g()}}return _.currentPopupAction=null,_})();const Qn=new Map;class Dl extends xs{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,l.Z)(function*(){let b=Qn.get(g.auth._key());if(!b){try{const k=(yield function qf(_,f){return Mi.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(k)}catch(S){b=()=>Promise.reject(S)}Qn.set(g.auth._key(),b)}return g.bypassAuthState||Qn.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const S=yield b.auth._redirectUserForId(f.eventId);if(S)return b.user=S,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Mi(){return(Mi=(0,l.Z)(function*(_,f){const g=Al(f),b=xl(_);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(g));return yield b._remove(g),S})).apply(this,arguments)}function qo(_,f){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(_,f){return xl(_)._set(Al(f),"true")})).apply(this,arguments)}function Wu(_,f){Qn.set(_._key(),f)}function xl(_){return ee(_._redirectPersistence)}function Al(_){return q("pendingRedirect",_.config.apiKey,_.name)}function w(){return(w=(0,l.Z)(function*(_,f,g){const b=rt(_);Ne(_,f,di);const S=ro(b,g);return yield qo(S,b),S._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_);Ne(b.auth,f,di);const S=ro(b.auth,g);yield qo(S,b.auth);const k=yield ot(b);return S._openRedirect(b.auth,f,"reauthViaRedirect",k)})).apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(_,f,g){const b=(0,P.m9)(_);Ne(b.auth,f,di);const S=ro(b.auth,g);yield Yt(!1,b,f.providerId),yield qo(S,b.auth);const k=yield ot(b);return S._openRedirect(b.auth,f,"linkViaRedirect",k)})).apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(_,f){return yield rt(_)._initializationPromise,et(_,f,!1)})).apply(this,arguments)}function et(_,f){return Et.apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(_,f,g=!1){const b=rt(_),S=ro(b,f),W=yield new Dl(b,S,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function ot(_){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(_){const f=Ho(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ss{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ri(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ns(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!ns(f)){const S=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ge(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zo(f))}saveEventToCache(f){this.cachedEventUids.add(Zo(f)),this.lastProcessedEventTime=Date.now()}}function Zo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function ns({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Nr(_){return Il.apply(this,arguments)}function Il(){return(Il=(0,l.Z)(function*(_,f={}){return kt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Yu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tl=/^https?/;function nh(){return(nh=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Nr(_);for(const g of f)try{if(wv(g))return}catch(b){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function wv(_){const f=Re(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===b}if(!Tl.test(g))return!1;if(Yu.test(_))return b===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const Zf=new Wt(3e4,6e4);function ih(){const _=Tn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Ml=null;function so(_){return Ml=Ml||function Kf(_){return new Promise((f,g)=>{var b,S,k;function W(){ih(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{ih(),g(ge(_,"network-request-failed"))},timeout:Zf.get()})}if(null===(S=null===(b=Tn().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(k=Tn().gapi)||void 0===k?void 0:k.load)){const pe=Ds("iframefcb");return Tn()[pe]=()=>{gapi.load?W():g(ge(_,"network-request-failed"))},gr(`https://apis.google.com/js/api.js?onload=${pe}`).catch(Oe=>g(Oe))}W()}}).catch(f=>{throw Ml=null,f})}(_),Ml}const Rl=new Wt(5e3,15e3),Is={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ko=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xf(_){const f=_.config;z(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?an(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:le.SDK_VERSION},S=Ko.get(_.config.apiHost);S&&(b.eid=S);const k=_._getFrameworks();return k.length&&(b.fw=k.join(",")),`${g}?${(0,P.xO)(b).slice(1)}`}function Na(){return Na=(0,l.Z)(function*(_){const f=yield so(_),g=Tn().gapi;return z(g,_,"internal-error"),f.open({where:document.body,url:Xf(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Is,dontclear:!0},b=>new Promise(function(){var S=(0,l.Z)(function*(k,W){yield b.restyle({setHideOnLeave:!1});const pe=ge(_,"network-request-failed"),Oe=Tn().setTimeout(()=>{W(pe)},Rl.get());function $e(){Tn().clearTimeout(Oe),k(b)}b.ping($e).then($e,()=>{W(pe)})});return function(k,W){return S.apply(this,arguments)}}()))}),Na.apply(this,arguments)}const Oi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ol{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function kl(_,f,g,b,S,k){z(_.config.authDomain,_,"auth-domain-config-required"),z(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:le.SDK_VERSION,eventId:S};if(f instanceof di){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Oe,$e]of Object.entries(k||{}))W[Oe]=$e}if(f instanceof Gs){const Oe=f.getScopes().filter($e=>""!==$e);Oe.length>0&&(W.scopes=Oe.join(","))}_.tenantId&&(W.tid=_.tenantId);const pe=W;for(const Oe of Object.keys(pe))void 0===pe[Oe]&&delete pe[Oe];return`${function Fl({config:_}){return _.emulator?an(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,P.xO)(pe).slice(1)}`}const Sc="webStorageSupport";class Ba extends class vm{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ba(f)}_finalizeEnroll(f,g,b){return function zf(_,f){return kt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Cc(_,f){return kt(_,"POST","/v2/accounts/mfaSignIn:finalize",Lt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ah=(()=>{class _{constructor(){}static assertion(g){return Ba._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var ep="@firebase/auth";class Pl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{f((null==b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oo(){return window}function Lr(){return(Lr=(0,l.Z)(function*(_,f,g){var b;const{BuildInfo:S}=oo();Y(f.sessionId,"AuthEvent did not contain a session ID");const k=yield Nl(f.sessionId),W={};return cn()?W.ibi=S.packageName:Kt()?W.apn=S.packageName:Ie(_,"operation-not-supported-in-this-environment"),S.displayName&&(W.appDisplayName=S.displayName),W.sessionId=k,kl(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(_){const{BuildInfo:f}=oo(),g={};cn()?g.iosBundleId=f.packageName:Kt()?g.androidPackageName=f.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield Nr(_,g)})).apply(this,arguments)}function dh(){return(dh=(0,l.Z)(function*(_,f,g){const{cordova:b}=oo();let S=()=>{};try{yield new Promise((k,W)=>{let pe=null;function Oe(){var at;k();const ii=null===(at=b.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof ii&&ii(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function $e(){pe||(pe=window.setTimeout(()=>{W(ge(_,"redirect-cancelled-by-user"))},2e3))}function lt(){"visible"===(null==document?void 0:document.visibilityState)&&$e()}f.addPassiveListener(Oe),document.addEventListener("resume",$e,!1),Kt()&&document.addEventListener("visibilitychange",lt,!1),S=()=>{f.removePassiveListener(Oe),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",lt,!1),pe&&window.clearTimeout(pe)}})}finally{S()}})).apply(this,arguments)}function Nl(_){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(_){const f=ip(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ip(_){if(Y(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}(0,P.Pz)("authIdTokenMaxAge"),function tp(_){(0,le._registerComponent)(new ie.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:k,authDomain:W}=b.options;return((pe,Oe)=>{z(k&&!k.includes(":"),"invalid-api-key",{appName:pe.name}),z(!(null==W?void 0:W.includes(":")),"argument-error",{appName:pe.name});const $e={apiKey:k,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:To(_)},lt=new je(pe,Oe,$e);return function ue(_,f){const g=(null==f?void 0:f.persistence)||[],b=(Array.isArray(g)?g:[g]).map(ee);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(lt,g),lt})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new ie.wA("auth-internal",f=>{const g=rt(f.getProvider("auth").getImmediate());return new Pl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(ep,"0.21.0",function Ic(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,le.registerVersion)(ep,"0.21.0","esm2017")}("Browser");class hh extends Ss{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function Ku(_){return co.apply(this,arguments)}function co(){return(co=(0,l.Z)(function*(_){const f=yield Xi()._get(Ua(_));return f&&(yield Xi()._remove(Ua(_))),f})).apply(this,arguments)}function Qu(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Xi(){return ee(xt)}function Ua(_){return q("authEvent",_.config.apiKey,_.name)}function Qo(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,P.zd)(g.join("?"))}function Oc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function Xo(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function mh(_=(0,P.z$)()){return!("file:"!==Xo()&&"ionic:"!==Xo()&&"capacitor:"!==Xo()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ju(){try{const _=self.localStorage,f=Ho();if(_)return _.setItem(f,"1"),_.removeItem(f),!function cp(_=(0,P.z$)()){return function Am(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Sm(_=(0,P.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,P.hl)()}catch(_){return Jo()&&(0,P.hl)()}return!1}function Jo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function kc(){return(function uo(){return"http:"===Xo()||"https:"===Xo()}()||(0,P.ru)()||mh())&&!function lp(){return(0,P.b$)()||(0,P.UG)()}()&&Ju()&&!Jo()}function ho(){return mh()&&"undefined"!=typeof document}function _h(){return(_h=(0,l.Z)(function*(){return!!ho()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const ki={LOCAL:"local",NONE:"none",SESSION:"session"},ea=z,ta="persistence";function td(_){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(_){yield _._initializationPromise;const f=dp(),g=q(ta,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function dp(){var _;try{return(null===(_=function Ev(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Im=z;class ia{constructor(){this.browserResolver=ee(class sh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ln,this._completeRedirectFn=et,this._overrideRedirectResult=Wu}_openPopup(f,g,b,S){var k=this;return(0,l.Z)(function*(){var W;Y(null===(W=k.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const pe=kl(f,g,b,Re(),S);return function La(_,f,g,b=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let pe="";const Oe=Object.assign(Object.assign({},Oi),{width:b.toString(),height:S.toString(),top:k,left:W}),$e=(0,P.z$)().toLowerCase();g&&(pe=Xt($e)?"_blank":g),qe($e)&&(f=f||"http://localhost",Oe.scrollbars="yes");const lt=Object.entries(Oe).reduce((ii,[Br,Pc])=>`${ii}${Br}=${Pc},`,"");if(function Wr(_=(0,P.z$)()){var f;return cn(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}($e)&&"_self"!==pe)return function _m(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",pe),new Ol(null);const at=window.open(f||"",pe,lt);z(at,_,"popup-blocked");try{at.focus()}catch(ii){}return new Ol(at)}(f,pe,Ho())})()}_openRedirect(f,g,b,S){var k=this;return(0,l.Z)(function*(){return yield k._originValidation(f),function ws(_){Tn().location.href=_}(kl(f,g,b,Re(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:k}=this.eventManagers[g];return S?Promise.resolve(S):(Y(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,l.Z)(function*(){const b=yield function mm(_){return Na.apply(this,arguments)}(f),S=new Ss(f);return b.register("authEvent",k=>(z(null==k?void 0:k.authEvent,f,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=b,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Sc,{type:Sc},S=>{var k;const W=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[Sc];void 0!==W&&g(!!W),Ie(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function xc(_){return nh.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return hs()||bt()||cn()}}),this.cordovaResolver=ee(class ph{constructor(){this._redirectPersistence=ln,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=et,this._overrideRedirectResult=Wu}_initialize(f){var g=this;return(0,l.Z)(function*(){const b=f._key();let S=g.eventManagers.get(b);return S||(S=new hh(f),g.eventManagers.set(b,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){Ie(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,S){var k=this;return(0,l.Z)(function*(){!function Dm(_){var f,g,b,S,k,W,pe,Oe,$e,lt;const at=oo();z("function"==typeof(null===(f=null==at?void 0:at.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(void 0!==(null===(g=null==at?void 0:at.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(k=null===(S=null===(b=null==at?void 0:at.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(Oe=null===(pe=null===(W=null==at?void 0:at.cordova)||void 0===W?void 0:W.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Oe?void 0:Oe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(lt=null===($e=null==at?void 0:at.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===lt?void 0:lt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield k._initialize(f);yield W.initialized(),W.resetRedirect(),function th(){Qn.clear()}(),yield k._originValidation(f);const pe=function xm(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Qu(),postBody:null,tenantId:_.tenantId,error:ge(_,"no-auth-event")}}(f,b,S);yield function fh(_,f){return Xi()._set(Ua(_),f)}(f,pe);const Oe=yield function uh(_,f,g){return Lr.apply(this,arguments)}(f,pe,g),$e=yield function wm(_){const{cordova:f}=oo();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let S=null;b?f.plugins.browsertab.openUrl(_):S=f.InAppBrowser.open(_,function Hs(_=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(S)})})}(Oe);return function Em(_,f,g){return dh.apply(this,arguments)}(f,W,$e)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Cm(_){return ao.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:S,BuildInfo:k}=oo(),W=setTimeout((0,l.Z)(function*(){yield Ku(f),g.onEvent(Oc())}),500),pe=function(){var lt=(0,l.Z)(function*(at){clearTimeout(W);const ii=yield Ku(f);let Br=null;ii&&(null==at?void 0:at.url)&&(Br=function rp(_,f){var g,b;const S=function Rc(_){const f=Qo(_),g=f.link?decodeURIComponent(f.link):void 0,b=Qo(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Qo(S).link||S||b||g||_}(f);if(S.includes("/__/auth/callback")){const k=Qo(S),W=k.firebaseError?function sp(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(k.firebaseError)):null,pe=null===(b=null===(g=null==W?void 0:W.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Oe=pe?ge(pe):null;return Oe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(ii,at.url)),g.onEvent(Br||Oc())});return function(ii){return lt.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,pe);const Oe=S,$e=`${k.packageName.toLowerCase()}://`;oo().handleOpenURL=function(){var lt=(0,l.Z)(function*(at){if(at.toLowerCase().startsWith($e)&&pe({url:at}),"function"==typeof Oe)try{Oe(at)}catch(ii){console.error(ii)}});return function(at){return lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ln,this._completeRedirectFn=et,this._overrideRedirectResult=Wu}_initialize(f){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,S){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(f,g,b,S)})()}_openRedirect(f,g,b,S){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(f,g,b,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ho()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Im(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const g=yield function ed(){return _h.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function hp(_){return _.unwrap()}function fo(_){return yh(_)}function yh(_){const{_tokenResponse:f}=_ instanceof P.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Wo.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let b;switch(g){case"google.com":b=Eu;break;case"facebook.com":b=Oo;break;case"github.com":b=Zd;break;case"twitter.com":b=Du;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:W,pendingToken:pe,nonce:Oe}=f;return k||W||S||pe?pe?g.startsWith("saml.")?$s._create(g,pe):Yr._fromParams({providerId:g,signInMethod:g,pendingToken:pe,idToken:S,accessToken:k}):new Ar(g).credential({idToken:S,accessToken:k,rawNonce:Oe}):null}return _ instanceof P.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function ji(_,f){return f.catch(g=>{throw g instanceof P.ZR&&function Bl(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==f?void 0:f.code))f.resolver=new Mm(_,function jn(_,f){var g;const b=(0,P.m9)(_),S=f;return z(f.customData.operationType,b,"argument-error"),z(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Qs._fromError(b,S)}(_,f));else if(b){const S=yh(f),k=f;S&&(k.credential=S,k.tenantId=b.tenantId||void 0,k.email=b.email||void 0,k.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:fo(g),additionalUserInfo:qn(g),user:po.getOrCreate(S)}})}function vh(_,f){return bh.apply(this,arguments)}function bh(){return(bh=(0,l.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>ji(_,g.confirm(b))}})).apply(this,arguments)}class Mm{constructor(f,g){this.resolver=g,this.auth=function Tm(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ji(hp(this.auth),this.resolver.resolveSignIn(f))}}class po{constructor(f){this._delegate=f,this.multiFactor=function Fu(_){const f=(0,P.m9)(_);return bl.has(f)||bl.set(f,Vo._fromUser(f)),bl.get(f)}(f)}static getOrCreate(f){return po.USER_MAP.has(f)||po.USER_MAP.set(f,new po(f)),po.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,l.Z)(function*(){return ji(g.auth,ti(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,l.Z)(function*(){return vh(b.auth,function Fa(_,f,g){return ju.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,l.Z)(function*(){return ji(g.auth,function eh(_,f,g){return El.apply(this,arguments)}(g._delegate,f,ia))})()}linkWithRedirect(f){var g=this;return(0,l.Z)(function*(){return yield td(rt(g.auth)),function Q(_,f,g){return function re(_,f,g){return Se.apply(this,arguments)}(_,f,g)}(g._delegate,f,ia)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,l.Z)(function*(){return ji(g.auth,qr(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return vh(this.auth,function Jd(_,f,g){return Ii.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ji(this.auth,function ts(_,f,g){return Dc.apply(this,arguments)}(this._delegate,f,ia))}reauthenticateWithRedirect(f){var g=this;return(0,l.Z)(function*(){return yield td(rt(g.auth)),function x(_,f,g){return function M(_,f,g){return V.apply(this,arguments)}(_,f,g)}(g._delegate,f,ia)})()}sendEmailVerification(f){return function fr(_,f){return yc.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,l.Z)(function*(){return yield function Kd(_,f){return nn.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Su(_,f){return yl((0,P.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Iu(_,f){return yl((0,P.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Ec(_,f){return io.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function ml(_,f){return _l.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function pl(_,f,g){return gl.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}po.USER_MAP=new WeakMap;const Vl=z;let Ch=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Vl(S,"invalid-api-key",{appName:g.name}),Vl(S,"invalid-api-key",{appName:g.name});const k="undefined"!=typeof window?ia:void 0;this._delegate=b.initialize({options:{persistence:fp(S,g.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?po.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function wi(_,f,g){const b=rt(_);z(b._canInitEmulator,b,"emulator-config-failed"),z(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),k=wr(f),{host:W,port:pe}=function kn(_){const f=wr(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const k=S[1];return{host:k,port:Er(b.substr(k.length+1))}}{const[k,W]=b.split(":");return{host:k,port:Er(W)}}}(f);b.config.emulator={url:`${k}//${W}${null===pe?"":`:${pe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:pe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function on(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function No(_,f){return Ae.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Pt(this._delegate,g)}confirmPasswordReset(g,b){return function dl(_,f,g){return pc.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var S=this;return(0,l.Z)(function*(){return ji(S._delegate,function qs(_,f,g){return qi.apply(this,arguments)}(S._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function fl(_,f){return bs.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Au(_,f){const g=ll.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){Vl(kc(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Ze(_,f){return Qe.apply(this,arguments)}(g._delegate,ia);return b?ji(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Ha(_,f){rt(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,S){const{next:k,error:W,complete:pe}=Rm(g,b,S);return this._delegate.onAuthStateChanged(k,W,pe)}onIdTokenChanged(g,b,S){const{next:k,error:W,complete:pe}=Rm(g,b,S);return this._delegate.onIdTokenChanged(k,W,pe)}sendSignInLinkToEmail(g,b){return function mc(_,f,g){return _c.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function fc(_,f,g){return ul.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,l.Z)(function*(){let S;switch(function up(_,f){ea(Object.values(ki).includes(f),_,"invalid-persistence-type"),(0,P.b$)()?ea(f!==ki.SESSION,_,"unsupported-persistence-type"):(0,P.UG)()?ea(f===ki.NONE,_,"unsupported-persistence-type"):Jo()?ea(f===ki.NONE||f===ki.LOCAL&&(0,P.hl)(),_,"unsupported-persistence-type"):ea(f===ki.NONE||Ju(),_,"unsupported-persistence-type")}(b._delegate,g),g){case ki.SESSION:S=ln;break;case ki.LOCAL:S=(yield ee(Or)._isAvailable())?Or:xt;break;case ki.NONE:S=U;break;default:return Ie("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ji(this._delegate,function xu(_){return cc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ji(this._delegate,yn(this._delegate,g))}signInWithCustomToken(g){return ji(this._delegate,function Po(_,f){return ht.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return ji(this._delegate,function gc(_,f,g){return yn((0,P.m9)(_),wu.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return ji(this._delegate,function Gf(_,f,g){return Zr.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return vh(this._delegate,function Rn(_,f,g){return zo.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,l.Z)(function*(){return Vl(kc(),b._delegate,"operation-not-supported-in-this-environment"),ji(b._delegate,function $u(_,f,g){return Yo.apply(this,arguments)}(b._delegate,g,ia))})()}signInWithRedirect(g){var b=this;return(0,l.Z)(function*(){return Vl(kc(),b._delegate,"operation-not-supported-in-this-environment"),yield td(b._delegate),function Sl(_,f,g){return function Pr(_,f,g){return w.apply(this,arguments)}(_,f,g)}(b._delegate,g,ia)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function un(_,f){return hl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ki,_})();function Rm(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const S=b;return{next:W=>S(W&&po.getOrCreate(W)),error:f,complete:g}}function fp(_,f){const g=function ja(_,f){const g=dp();if(!g)return[];const b=q(ta,_,f);switch(g.getItem(b)){case ki.NONE:return[U];case ki.LOCAL:return[Or,ln];case ki.SESSION:return[ln];default:return[]}}(_,f);if("undefined"!=typeof self&&!g.includes(Or)&&g.push(Or),"undefined"!=typeof window)for(const b of[xt,ln])g.includes(b)||g.push(b);return g.includes(U)||g.push(U),g}class nd{constructor(){this.providerId="phone",this._delegate=new Wo(hp(J.Z.auth()))}static credential(f,g){return Wo.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}nd.PHONE_SIGN_IN_METHOD=Wo.PHONE_SIGN_IN_METHOD,nd.PROVIDER_ID=Wo.PROVIDER_ID;const Om=z;class pp{constructor(f,g,b=J.Z.app()){var S;Om(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Xd(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gp(_){_.INTERNAL.registerComponent(new ie.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Ch(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wu,FacebookAuthProvider:Oo,GithubAuthProvider:Zd,GoogleAuthProvider:Eu,OAuthProvider:Ar,SAMLAuthProvider:Di,PhoneAuthProvider:nd,PhoneMultiFactorGenerator:ah,RecaptchaVerifier:pp,TwitterAuthProvider:Du,Auth:Ch,AuthCredential:lr,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.0")}(J.Z)},8766:(Ye,ye,F)=>{F.d(ye,{Lj:()=>Ie,X3:()=>ze});var l=F(5861);let P,le;const ie=new WeakMap,ce=new WeakMap,de=new WeakMap,G=new WeakMap,$=new WeakMap;let xe={get(z,ve,Y){if(z instanceof IDBTransaction){if("done"===ve)return ce.get(z);if("objectStoreNames"===ve)return z.objectStoreNames||de.get(z);if("store"===ve)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return we(z[ve])},set:(z,ve,Y)=>(z[ve]=Y,!0),has:(z,ve)=>z instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in z};function he(z){return"function"==typeof z?function Le(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function fe(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...ve){return z.apply(Ue(this),ve),we(ie.get(this))}:function(...ve){return we(z.apply(Ue(this),ve))}:function(ve,...Y){const se=z.call(Ue(this),ve,...Y);return de.set(se,ve.sort?ve.sort():[ve]),we(se)}}(z):(z instanceof IDBTransaction&&function Pe(z){if(ce.has(z))return;const ve=new Promise((Y,se)=>{const ee=()=>{z.removeEventListener("complete",me),z.removeEventListener("error",ue),z.removeEventListener("abort",ue)},me=()=>{Y(),ee()},ue=()=>{se(z.error||new DOMException("AbortError","AbortError")),ee()};z.addEventListener("complete",me),z.addEventListener("error",ue),z.addEventListener("abort",ue)});ce.set(z,ve)}(z),((z,ve)=>ve.some(Y=>z instanceof Y))(z,function ae(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,xe):z)}function we(z){if(z instanceof IDBRequest)return function te(z){const ve=new Promise((Y,se)=>{const ee=()=>{z.removeEventListener("success",me),z.removeEventListener("error",ue)},me=()=>{Y(we(z.result)),ee()},ue=()=>{se(z.error),ee()};z.addEventListener("success",me),z.addEventListener("error",ue)});return ve.then(Y=>{Y instanceof IDBCursor&&ie.set(Y,z)}).catch(()=>{}),$.set(ve,z),ve}(z);if(G.has(z))return G.get(z);const ve=he(z);return ve!==z&&(G.set(z,ve),$.set(ve,z)),ve}const Ue=z=>$.get(z);function ze(z,ve,{blocked:Y,upgrade:se,blocking:ee,terminated:me}={}){const ue=indexedDB.open(z,ve),Re=we(ue);return se&&ue.addEventListener("upgradeneeded",nt=>{se(we(ue.result),nt.oldVersion,nt.newVersion,we(ue.transaction))}),Y&&ue.addEventListener("blocked",()=>Y()),Re.then(nt=>{me&&nt.addEventListener("close",()=>me()),ee&&nt.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Re}function Ie(z,{blocked:ve}={}){const Y=indexedDB.deleteDatabase(z);return ve&&Y.addEventListener("blocked",()=>ve()),we(Y).then(()=>{})}const ge=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ne=new Map;function Be(z,ve){if(!(z instanceof IDBDatabase)||ve in z||"string"!=typeof ve)return;if(Ne.get(ve))return Ne.get(ve);const Y=ve.replace(/FromIndex$/,""),se=ve!==Y,ee=De.includes(Y);if(!(Y in(se?IDBIndex:IDBObjectStore).prototype)||!ee&&!ge.includes(Y))return;const me=function(){var ue=(0,l.Z)(function*(Re,...nt){const Ht=this.transaction(Re,ee?"readwrite":"readonly");let St=Ht.store;return se&&(St=St.index(nt.shift())),(yield Promise.all([St[Y](...nt),ee&&Ht.done]))[0]});return function(nt){return ue.apply(this,arguments)}}();return Ne.set(ve,me),me}!function Me(z){xe=z(xe)}(z=>yR(_R({},z),{get:(ve,Y,se)=>Be(ve,Y)||z.get(ve,Y,se),has:(ve,Y)=>!!Be(ve,Y)||z.has(ve,Y)}))},5861:(Ye,ye,F)=>{function l(P,le,ae,fe,ie,ce,de){try{var G=P[ce](de),$=G.value}catch(te){return void ae(te)}G.done?le($):Promise.resolve($).then(fe,ie)}function J(P){return function(){var le=this,ae=arguments;return new Promise(function(fe,ie){var ce=P.apply(le,ae);function de($){l(ce,fe,ie,de,G,"next",$)}function G($){l(ce,fe,ie,de,G,"throw",$)}de(void 0)})}}F.d(ye,{Z:()=>J})}},Ye=>{Ye(Ye.s=2821)}]);