{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/database\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/button\";\n\nfunction LobbyComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-card\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.name);\n  }\n}\n\nfunction LobbyComponent_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function LobbyComponent_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.startGame();\n    });\n    i0.ɵɵtext(1, \" Start Game\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class LobbyComponent {\n  constructor(db, activatedRoute, router) {\n    this.db = db;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.isAdmin = JSON.parse(sessionStorage.getItem('user')).admin;\n  }\n\n  ngOnInit() {\n    this.lobbyId = this.activatedRoute.snapshot.paramMap.get('id');\n    this.LobbySub = this.db.list(`/lobbies/${this.lobbyId}`).snapshotChanges().subscribe(res => {\n      const usersIndex = res.findIndex(el => el.key === 'users');\n      this.currentUsers = res[usersIndex].payload.val();\n      const gameState = res.findIndex(el => el.key === 'gameState');\n\n      if (gameState >= 0) {\n        this.startGame();\n      }\n    });\n  }\n\n  startGame() {\n    this.router.navigate([`game/${this.lobbyId}`]);\n  }\n\n  ngOnDestroy() {\n    this.LobbySub.unsubscribe();\n  }\n\n}\n\nLobbyComponent.ɵfac = function LobbyComponent_Factory(t) {\n  return new (t || LobbyComponent)(i0.ɵɵdirectiveInject(i1.AngularFireDatabase), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLobbyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LobbyComponent,\n  selectors: [[\"app-lobby\"]],\n  decls: 6,\n  vars: 7,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [\"class\", \"button-neu\", \"mat-raised-button\", \"\", 3, \"click\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", 1, \"button-neu\", 3, \"click\"]],\n  template: function LobbyComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LobbyComponent_div_0_Template, 4, 1, \"div\", 0);\n      i0.ɵɵtemplate(1, LobbyComponent_button_1_Template, 2, 0, \"button\", 1);\n      i0.ɵɵelementStart(2, \"div\");\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"json\");\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.currentUsers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" lobby name: \", i0.ɵɵpipeBind1(4, 3, i0.ɵɵpipeBind1(5, 5, ctx.LobbySub)), \"\\n\");\n    }\n  },\n  directives: [i3.NgForOf, i4.MatCard, i3.NgIf, i5.MatButton],\n  pipes: [i3.JsonPipe, i3.AsyncPipe],\n  styles: [\".button-neu[_ngcontent-%COMP%] {\\n    margin-top: 15px;\\n    color: black;\\n    margin-bottom: 15px;\\n    background: linear-gradient(145deg, #cacaca, #f0f0f0);\\n    box-shadow: 12px 12px 20px #989898,\\n        -12px -12px 20px #ffffff;\\n}\\n\\n.button-neu[_ngcontent-%COMP%]:hover {\\n    color: #eb930f;\\n    background: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYmJ5LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixxREFBcUQ7SUFDckQ7Z0NBQzRCO0FBQ2hDOztBQUVBO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtBQUNyQiIsImZpbGUiOiJsb2JieS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJ1dHRvbi1uZXUge1xuICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgY29sb3I6IGJsYWNrO1xuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE0NWRlZywgI2NhY2FjYSwgI2YwZjBmMCk7XG4gICAgYm94LXNoYWRvdzogMTJweCAxMnB4IDIwcHggIzk4OTg5OCxcbiAgICAgICAgLTEycHggLTEycHggMjBweCAjZmZmZmZmO1xufVxuXG4uYnV0dG9uLW5ldTpob3ZlciB7XG4gICAgY29sb3I6ICNlYjkzMGY7XG4gICAgYmFja2dyb3VuZDogYmxhY2s7XG59XG4iXX0= */\"]\n});","map":{"version":3,"sources":["/home/user/chameleon-project/src/app/lobby/lobby.component.ts"],"names":["i0","i1","i2","i3","i4","i5","LobbyComponent_div_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","user_r2","$implicit","ɵɵadvance","ɵɵtextInterpolate","name","LobbyComponent_button_1_Template","_r5","ɵɵgetCurrentView","ɵɵlistener","LobbyComponent_button_1_Template_button_click_0_listener","ɵɵrestoreView","ctx_r4","ɵɵnextContext","startGame","LobbyComponent","constructor","db","activatedRoute","router","isAdmin","JSON","parse","sessionStorage","getItem","admin","ngOnInit","lobbyId","snapshot","paramMap","get","LobbySub","list","snapshotChanges","subscribe","res","usersIndex","findIndex","el","key","currentUsers","payload","val","gameState","navigate","ngOnDestroy","unsubscribe","ɵfac","LobbyComponent_Factory","t","ɵɵdirectiveInject","AngularFireDatabase","ActivatedRoute","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","LobbyComponent_Template","ɵɵtemplate","ɵɵpipe","ɵɵproperty","ɵɵtextInterpolate1","ɵɵpipeBind1","directives","NgForOf","MatCard","NgIf","MatButton","pipes","JsonPipe","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/database\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/button\";\nfunction LobbyComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-card\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"hr\");\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r2.name);\n} }\nfunction LobbyComponent_button_1_Template(rf, ctx) { if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function LobbyComponent_button_1_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r5); const ctx_r4 = i0.ɵɵnextContext(); return ctx_r4.startGame(); });\n    i0.ɵɵtext(1, \" Start Game\\n\");\n    i0.ɵɵelementEnd();\n} }\nexport class LobbyComponent {\n    constructor(db, activatedRoute, router) {\n        this.db = db;\n        this.activatedRoute = activatedRoute;\n        this.router = router;\n        this.isAdmin = JSON.parse(sessionStorage.getItem('user')).admin;\n    }\n    ngOnInit() {\n        this.lobbyId = this.activatedRoute.snapshot.paramMap.get('id');\n        this.LobbySub = this.db.list(`/lobbies/${this.lobbyId}`).snapshotChanges().subscribe((res) => {\n            const usersIndex = res.findIndex((el) => el.key === 'users');\n            this.currentUsers = res[usersIndex].payload.val();\n            const gameState = res.findIndex((el) => el.key === 'gameState');\n            if (gameState >= 0) {\n                this.startGame();\n            }\n        });\n    }\n    startGame() {\n        this.router.navigate([`game/${this.lobbyId}`]);\n    }\n    ngOnDestroy() {\n        this.LobbySub.unsubscribe();\n    }\n}\nLobbyComponent.ɵfac = function LobbyComponent_Factory(t) { return new (t || LobbyComponent)(i0.ɵɵdirectiveInject(i1.AngularFireDatabase), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router)); };\nLobbyComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LobbyComponent, selectors: [[\"app-lobby\"]], decls: 6, vars: 7, consts: [[4, \"ngFor\", \"ngForOf\"], [\"class\", \"button-neu\", \"mat-raised-button\", \"\", 3, \"click\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", 1, \"button-neu\", 3, \"click\"]], template: function LobbyComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, LobbyComponent_div_0_Template, 4, 1, \"div\", 0);\n        i0.ɵɵtemplate(1, LobbyComponent_button_1_Template, 2, 0, \"button\", 1);\n        i0.ɵɵelementStart(2, \"div\");\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"json\");\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.currentUsers);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" lobby name: \", i0.ɵɵpipeBind1(4, 3, i0.ɵɵpipeBind1(5, 5, ctx.LobbySub)), \"\\n\");\n    } }, directives: [i3.NgForOf, i4.MatCard, i3.NgIf, i5.MatButton], pipes: [i3.JsonPipe, i3.AsyncPipe], styles: [\".button-neu[_ngcontent-%COMP%] {\\n    margin-top: 15px;\\n    color: black;\\n    margin-bottom: 15px;\\n    background: linear-gradient(145deg, #cacaca, #f0f0f0);\\n    box-shadow: 12px 12px 20px #989898,\\n        -12px -12px 20px #ffffff;\\n}\\n\\n.button-neu[_ngcontent-%COMP%]:hover {\\n    color: #eb930f;\\n    background: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvYmJ5LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixxREFBcUQ7SUFDckQ7Z0NBQzRCO0FBQ2hDOztBQUVBO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtBQUNyQiIsImZpbGUiOiJsb2JieS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmJ1dHRvbi1uZXUge1xuICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgY29sb3I6IGJsYWNrO1xuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE0NWRlZywgI2NhY2FjYSwgI2YwZjBmMCk7XG4gICAgYm94LXNoYWRvdzogMTJweCAxMnB4IDIwcHggIzk4OTg5OCxcbiAgICAgICAgLTEycHggLTEycHggMjBweCAjZmZmZmZmO1xufVxuXG4uYnV0dG9uLW5ldTpob3ZlciB7XG4gICAgY29sb3I6ICNlYjkzMGY7XG4gICAgYmFja2dyb3VuZDogYmxhY2s7XG59XG4iXX0= */\"] });\n"]},"metadata":{},"sourceType":"module"}